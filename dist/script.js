(()=>{"use strict";(()=>{function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var e=function(){function e(t,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.title=n,this.number=a}var n,a;return n=e,(a=[{key:"render",value:function(){var t=document.createElement("div");t.classList.add("card"),t.setAttribute("data-number","".concat(this.number));var e=document.createElement("div");e.classList.add("card__image");var n=document.createElement("img");n.src="".concat(this.image),e.appendChild(n);var a=document.createElement("span");return a.classList.add("card__name"),a.innerText="".concat(this.title),t.appendChild(e),t.appendChild(a),t}}])&&t(n.prototype,a),e}(),n={init:function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){var e=t.flat(),n=[];e.forEach((function(t){var e={word:t.word,translation:t.translation,category:t.category,clicks:0,correct:0,wrong:0,percent:0};n.push(e)})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))}))},countingStatistics:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));n.forEach((function(n){if(n.word===t){switch(e){case"clicks":n.clicks+=1;break;case"correct":n.correct+=1;break;case"wrong":n.wrong+=1}n.wrong+n.correct>0&&(n.percent=100*n.wrong/(n.wrong+n.correct))}})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))},buildingTable:function(t){for(var e=this,n=document.querySelector(".container .wrapper");n.firstChild;)n.removeChild(n.firstChild);var a=document.createElement("div");a.classList.add("stat-container");var r=document.createElement("div");r.classList.add("panel-buttons");var s=document.createElement("div");s.classList.add("repeat-button");var i=document.createElement("span");i.innerText="Repeat difficult words",s.appendChild(i);var c=document.createElement("div");c.classList.add("reset-button");var o=document.createElement("span");o.innerText="Reset",c.appendChild(o),r.appendChild(s),r.appendChild(c);var d=document.createElement("table");d.classList.add("table"),a.appendChild(r),a.appendChild(d),n.appendChild(a),c.addEventListener("click",(function(){e.resetLocalStorage()})),s.addEventListener("click",(function(){e.repeatWords()}));var l=JSON.parse(localStorage.getItem("english-for-kids"));d.innerHTML="<tr>\n      <th>&darr; Word</th>\n      <th>Translation</th>\n      <th>Category</th>\n      <th>Clicks</th>\n      <th>Correct</th>\n      <th>Wrong</th>\n      <th>% errors</th>\n    </tr>",this.sortObject(l).forEach((function(t){d.innerHTML+="<tr>\n        <td>".concat(t.word,"</td>\n        <td>").concat(t.translation,"</td>\n        <td>").concat(t.category,"</td>\n        <td>").concat(t.clicks,"</td>\n        <td>").concat(t.correct,"</td>\n        <td>").concat(t.wrong,"</td>\n        <td>").concat(t.percent.toFixed(1),"</td>\n      </tr>")})),document.querySelectorAll("th").forEach((function(t){t.addEventListener("click",(function(){}))}))},sortObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";return t.sort((function(t,n){return t["".concat(e)]>n["".concat(e)]?1:t["".concat(e)]<n["".concat(e)]?-1:0})),t},sortColumn:function(){}};localStorage.getItem("english-for-kids")||n.init();const a=n;function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var s=function(){function t(e,n,a,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.word=n,this.translation=a,this.number=r,this.card=null,this.cardFront=null,this.cardBack=null}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this.card=document.createElement("div"),this.card.classList.add("card-word"),this.cardFront=document.createElement("div"),this.cardFront.classList.add("card-word__front"),this.cardFront.setAttribute("data-number","".concat(this.number)),this.cardFront.setAttribute("data-name","".concat(this.word));var e=document.createElement("div");e.classList.add("card-word__front-image");var n=document.createElement("img");n.src="./".concat(this.image),e.appendChild(n);var r=document.createElement("span");r.classList.add("card-word__front-name"),r.innerText="".concat(this.word);var s=document.querySelector("label > input");this.cardFront.addEventListener("click",(function(e){e.target.classList.contains("reverse-button")||s.classList.contains("checked")||(a.countingStatistics(t.word,"clicks"),t.toVoice())}));var i=document.createElement("div");i.classList.add("reverse-button"),i.setAttribute("data-number","".concat(this.number)),i.addEventListener("click",(function(){t.reverseCard()})),this.cardFront.appendChild(e),this.cardFront.appendChild(r),this.cardFront.appendChild(i),this.cardBack=document.createElement("div"),this.cardBack.classList.add("card-word__back");var c=document.createElement("div");c.classList.add("card-word__back-image");var o=document.createElement("img");o.src="./".concat(this.image),c.appendChild(o);var d=document.createElement("span");return d.classList.add("card-word__back-name"),d.innerText="".concat(this.translation),this.cardBack.appendChild(c),this.cardBack.appendChild(d),this.card.appendChild(this.cardFront),this.card.appendChild(this.cardBack),this.card}},{key:"toVoice",value:function(){var t=new Audio("./assets/sounds/".concat(this.word,".mp3"));t.load(),t.play()}},{key:"reverseCard",value:function(){var t=this;this.cardFront.style.transform="rotateY(180deg)",this.cardBack.style.transform="rotateY(360deg)",this.card.addEventListener("mouseleave",(function(){t.cardFront.style.transform="rotateY(0deg)",t.cardBack.style.transform="rotateY(180deg)"}))}}])&&r(e.prototype,n),t}();const i={startGameButton:null,boxStars:null,currentWords:[],rating:[],correctAnswer:null,wrongAnswer:null,soundWin:null,soundLose:null,repeat:!1,currentWord:null,currentSound:null,mistakes:0,attributeCards:[],wordsUsed:[],init:function(){var t=this;this.startGameButton=document.createElement("div"),this.startGameButton.classList.add("button-play");var e=document.createElement("span");e.innerText="Start game",this.startGameButton.appendChild(e),this.boxStars=document.createElement("div"),this.boxStars.classList.add("box-stars"),this.correctAnswer=new Audio("./assets/sounds/correct.mp3"),this.wrongAnswer=new Audio("./assets/sounds/error.mp3"),this.soundWin=new Audio("./assets/sounds/success.mp3"),this.soundLose=new Audio("./assets/sounds/failure.mp3"),document.querySelector(".container").appendChild(this.startGameButton),document.querySelector(".container").appendChild(this.boxStars),this.startGameButton.addEventListener("click",(function(){t.repeat?t.currentWord.play():(t.startGameButton.classList.add("repeat"),document.querySelector(".button-play > span").innerText="",t.repeat=!0,t.play())}))},play:function(){var t=this,e=document.querySelectorAll(".card-word__front");e.forEach((function(e){t.currentWords.push(e.getAttribute("data-name"))})),this.currentWords.sort((function(){return Math.random()-.5}));var n=0,r=function(){t.currentWord=new Audio("./assets/sounds/".concat(t.currentWords[n],".mp3")),t.currentWord.load(),t.currentWord.play()};r(),e.forEach((function(e){e.addEventListener("click",(function(){if(e.getAttribute("data-name")===t.currentWords[n]){t.wordsUsed.push(t.currentWords[n]),a.countingStatistics(t.currentWords[n],"correct"),t.correctAnswer.play(),e.style.filter="blur(5px)";var s=document.createElement("img");s.src="./assets/icons/star-win.svg",t.boxStars.appendChild(s),(n+=1)<8?setTimeout(r,500):setTimeout((function(){t.finishGame()}),1e3)}else if(!t.wordsUsed.includes(e.getAttribute("data-name"))){a.countingStatistics(t.currentWords[n],"wrong"),t.mistakes+=1;var i=document.createElement("img");i.src="./assets/icons/star.svg",t.boxStars.appendChild(i),t.wrongAnswer.play()}}))}))},finishGame:function(){l.removeContent(),document.querySelector(".button-play > span").innerText="Start game",this.repeat=!1,this.startGameButton.classList.remove("repeat"),this.startGameButton.classList.add("disabled");var t=document.createElement("div");t.classList.add("win-image");var e=document.createElement("span");e.classList.add("win-title");var n=document.createElement("img");0===this.mistakes?(e.innerText="Congratulations! You win!",n.src="./assets/icons/success.svg",this.soundWin.play()):(e.innerHTML="You lost(: Train and try again!</br>\n        You made ".concat(this.mistakes," mistake(s)."),n.src="./assets/icons/failure.svg",this.soundLose.play()),t.append(n),l.container.appendChild(e),l.container.appendChild(t)}};var c={switchBox:null,init:function(){this.switchBox=document.createElement("div"),this.switchBox.classList.add("switch-container","switch-disabled");var t=document.createElement("div");t.classList.add("train-mode","active-mode"),t.innerText="Train";var e=document.createElement("div");e.classList.add("game-mode"),e.innerText="Play";var n=document.createElement("label");n.classList.add("switch");var a=document.createElement("input");a.setAttribute("type","checkbox"),a.addEventListener("change",(function(){a.classList.toggle("checked");var n=document.querySelectorAll(".card-word");a.classList.contains("checked")?(n.forEach((function(t){t.style.height="200px"})),i.init()):(n.forEach((function(t){t.style.height="280px"})),document.querySelector(".container").removeChild(document.querySelector(".button-play")),document.querySelector(".container").removeChild(document.querySelector(".box-stars"))),t.classList.toggle("active-mode"),e.classList.toggle("active-mode")}));var r=document.createElement("span");r.classList.add("slider","round"),n.appendChild(a),n.appendChild(r),this.switchBox.appendChild(t),this.switchBox.appendChild(n),this.switchBox.appendChild(e),document.querySelector(".container").prepend(this.switchBox)}};c.init();const o=c;var d={container:null,title:{0:"Action (set A)",1:"Action (set B)",2:"Action (set C)",3:"Adjective",4:"Animal (set A)",5:"Animal (set B)",6:"Clothes",7:"Emotion"},images:{0:"./assets/images/categories/actionA.jpg",1:"./assets/images/categories/actionB.jpg",2:"./assets/images/categories/actionC.jpg",3:"./assets/images/categories/adjective.jpg",4:"./assets/images/categories/animalA.jpg",5:"./assets/images/categories/animalB.jpg",6:"./assets/images/categories/clothes.jpg",7:"./assets/images/categories/emotion.jpg"},init:function(){this.container=document.createElement("div"),this.container.classList.add("wrapper"),document.querySelector(".container").appendChild(this.container),this.setTitleCards()},setTitleCards:function(){for(var t=this,n=0;n<8;n+=1){var a=new e(this.images[n],this.title[n],n);this.container.appendChild(a.render())}document.querySelectorAll(".card").forEach((function(e){e.addEventListener("click",(function(){t.removeContent(),t.setContentCards(e.getAttribute("data-number"))}))}))},setContentCards:function(t){var e=this;o.switchBox.classList.remove("switch-disabled"),fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(n){for(var a=n[t],r=0;r<a.length;r+=1){var i=new s(a[r].image,a[r].word,a[r].translation,r);e.container.appendChild(i.render())}}))},removeContent:function(){for(var t=document.querySelector(".container .wrapper");t.firstChild;)t.removeChild(t.firstChild)}};d.init();const l=d;var u={burgerBox:null,buttonOff:!0,init:function(){var t=this;this.burgerBox=document.createElement("div"),this.burgerBox.className="burger-menu__button";var e=document.createElement("div");e.className="first-line";var n=document.createElement("div");n.className="second-line";var a=document.createElement("div");a.className="third-line",this.burgerBox.appendChild(e),this.burgerBox.appendChild(n),this.burgerBox.appendChild(a),this.burgerBox.addEventListener("click",(function(){t.buttonOff?(e.style.transform="translateY(13px) rotate(45deg)",n.style.transform="translateX(-40px)",a.style.transform="translateY(-13px) rotate(-45deg)",document.querySelector(".burger-menu").style.transform="translateX(0)",document.querySelector(".modal").classList.remove("modal-disabled"),t.buttonOff=!1):(e.style.transform="translateY(0) rotate(0)",n.style.transform="translateX(0)",a.style.transform="translateY(0) rotate(0)",document.querySelector(".burger-menu").style.transform="translateX(-320px)",document.querySelector(".modal").classList.add("modal-disabled"),t.buttonOff=!0)})),document.querySelector(".header .wrapper").prepend(this.burgerBox)}};u.init();const m=u;document.querySelectorAll(".navigation-item").forEach((function(t){t.addEventListener("click",(function(){l.removeContent(),m.burgerBox.click(),document.querySelector(".navigation-item.active").classList.remove("active"),t.classList.add("active"),"main"===t.getAttribute("data-number")?(o.switchBox.classList.add("switch-disabled"),l.setTitleCards()):"statistics"===t.getAttribute("data-number")?a.buildingTable():l.setContentCards(t.getAttribute("data-number"))}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbXBvbmVudHMvdGl0bGUtY2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3N0YXQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9wbGF5LWdhbWUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2dhbWUtZmllbGQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlci1pY29uLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvYnVyZ2VyLW1lbnUuanMiXSwibmFtZXMiOlsiVGl0bGVDYXJkIiwiaW1hZ2UiLCJ0aXRsZSIsIm51bWJlciIsInRoaXMiLCJjYXJkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwiY2FyZEltYWdlIiwiaW1nIiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJjYXJkTmFtZSIsImlubmVyVGV4dCIsInN0YXRpc3RpY3MiLCJpbml0IiwiZmV0Y2giLCJ0aGVuIiwicmVzdWx0IiwianNvbiIsImFsbFdvcmRzIiwiZmxhdCIsImNvbW1vbkFycmF5IiwiZm9yRWFjaCIsIml0ZW0iLCJjdXJyZW50T2JqIiwid29yZCIsInRyYW5zbGF0aW9uIiwiY2F0ZWdvcnkiLCJjbGlja3MiLCJjb3JyZWN0Iiwid3JvbmciLCJwZXJjZW50IiwicHVzaCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiY291bnRpbmdTdGF0aXN0aWNzIiwic3RhdCIsInBhcnNlIiwiZ2V0SXRlbSIsImJ1aWxkaW5nVGFibGUiLCJjb250ZW50IiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInN0YXRDb250YWluZXIiLCJidXR0b25zIiwicmVwZWF0QnV0dG9uIiwic3BhblJlcGVhdCIsInJlc2V0QnV0dG9uIiwic3BhblJlc2V0IiwidGFibGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzZXRMb2NhbFN0b3JhZ2UiLCJyZXBlYXRXb3JkcyIsImlubmVySFRNTCIsInNvcnRPYmplY3QiLCJyb3ciLCJ0b0ZpeGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRpbmciLCJvYmoiLCJrZXkiLCJzb3J0IiwiYSIsImIiLCJzb3J0Q29sdW1uIiwiQ2FyZCIsImNhcmRGcm9udCIsImNhcmRCYWNrIiwiY2FyZEZyb250SW1hZ2UiLCJpbWdGcm9udCIsImNhcmRGcm9udE5hbWUiLCJnYW1lTW9kZSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b1ZvaWNlIiwiY2FyZEJ1dHRvbiIsInJldmVyc2VDYXJkIiwiY2FyZEJhY2tJbWFnZSIsImNhcmRCYWNrTmFtZSIsImF1ZGlvIiwiQXVkaW8iLCJsb2FkIiwicGxheSIsInN0eWxlIiwidHJhbnNmb3JtIiwic3RhcnRHYW1lQnV0dG9uIiwiYm94U3RhcnMiLCJjdXJyZW50V29yZHMiLCJyYXRpbmciLCJjb3JyZWN0QW5zd2VyIiwid3JvbmdBbnN3ZXIiLCJzb3VuZFdpbiIsInNvdW5kTG9zZSIsInJlcGVhdCIsImN1cnJlbnRXb3JkIiwiY3VycmVudFNvdW5kIiwibWlzdGFrZXMiLCJhdHRyaWJ1dGVDYXJkcyIsIndvcmRzVXNlZCIsImN1cnJlbnRDYXJkcyIsImdldEF0dHJpYnV0ZSIsIk1hdGgiLCJyYW5kb20iLCJwbGF5V29yZCIsImZpbHRlciIsIndpblN0YXJzIiwic2V0VGltZW91dCIsImZpbmlzaEdhbWUiLCJpbmNsdWRlcyIsImdhbWVGaWVsZCIsInJlbW92ZSIsIndpblNjcmVlbiIsInNwYW4iLCJhcHBlbmQiLCJ0b2dnbGUiLCJzd2l0Y2hCb3giLCJ0cmFpbk1vZGUiLCJzd2l0Y2hlciIsImNoZWNrYm94IiwiY2FyZHMiLCJoZWlnaHQiLCJwbGF5R2FtZSIsInByZXBlbmQiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsImltYWdlcyIsInNldFRpdGxlQ2FyZHMiLCJpIiwicmVuZGVyIiwicmVtb3ZlQ29udGVudCIsInNldENvbnRlbnRDYXJkcyIsImFjdGl2ZUNhcmQiLCJ0b29nbGUiLCJkYXRhIiwibGVuZ3RoIiwiYnVyZ2VySWNvbiIsImJ1cmdlckJveCIsImJ1dHRvbk9mZiIsImNsYXNzTmFtZSIsImZpcnN0TEluZSIsInNlY29uZExpbmUiLCJ0aGlyZExpbmUiLCJsaW5rIl0sIm1hcHBpbmdzIjoibU1BQXFCQSxFLFdBQ25CLFdBQVlDLEVBQU9DLEVBQU9DLEksNEZBQVEsU0FDaENDLEtBQUtILE1BQVFBLEVBQ2JHLEtBQUtGLE1BQVFBLEVBQ2JFLEtBQUtELE9BQVNBLEUsc0RBSWQsSUFBTUUsRUFBT0MsU0FBU0MsY0FBYyxPQUNwQ0YsRUFBS0csVUFBVUMsSUFBSSxRQUNuQkosRUFBS0ssYUFBYSxjQUFsQixVQUFvQ04sS0FBS0QsU0FFekMsSUFBTVEsRUFBWUwsU0FBU0MsY0FBYyxPQUN6Q0ksRUFBVUgsVUFBVUMsSUFBSSxlQUV4QixJQUFNRyxFQUFNTixTQUFTQyxjQUFjLE9BQ25DSyxFQUFJQyxJQUFKLFVBQWFULEtBQUtILE9BQ2xCVSxFQUFVRyxZQUFZRixHQUV0QixJQUFNRyxFQUFXVCxTQUFTQyxjQUFjLFFBT3hDLE9BTkFRLEVBQVNQLFVBQVVDLElBQUksY0FDdkJNLEVBQVNDLFVBQVQsVUFBd0JaLEtBQUtGLE9BRTdCRyxFQUFLUyxZQUFZSCxHQUNqQk4sRUFBS1MsWUFBWUMsR0FFVlYsTyxzQkN6QkxZLEVBQWEsQ0FDakJDLEtBRGlCLFdBRWZDLE1BQU0sNEJBQ0hDLE1BQUssU0FBQ0MsR0FBRCxPQUFZQSxFQUFPQyxVQUN4QkYsTUFBSyxTQUFDQyxHQUNMLElBQU1FLEVBQVdGLEVBQU9HLE9BQ2xCQyxFQUFjLEdBQ3BCRixFQUFTRyxTQUFRLFNBQUNDLEdBQ2hCLElBQU1DLEVBQWEsQ0FDakJDLEtBQU1GLEVBQUtFLEtBQ1hDLFlBQWFILEVBQUtHLFlBQ2xCQyxTQUFVSixFQUFLSSxTQUNmQyxPQUFRLEVBQ1JDLFFBQVMsRUFDVEMsTUFBTyxFQUNQQyxRQUFTLEdBRVhWLEVBQVlXLEtBQUtSLE1BRW5CUyxhQUFhQyxRQUFRLG1CQUFyQixVQUE0Q0MsS0FBS0MsVUFBVWYsU0FJakVnQixtQkF2QmlCLFNBdUJFWixFQUFNRSxHQUN2QixJQUFNVyxFQUFPSCxLQUFLSSxNQUFNTixhQUFhTyxRQUFRLHFCQUM3Q0YsRUFBS2hCLFNBQVEsU0FBQ0MsR0FDWixHQUFJQSxFQUFLRSxPQUFTQSxFQUFNLENBQ3RCLE9BQVFFLEdBQ04sSUFBSyxTQUNISixFQUFLSyxRQUFVLEVBQ2YsTUFDRixJQUFLLFVBQ0hMLEVBQUtNLFNBQVcsRUFDaEIsTUFDRixJQUFLLFFBQ0hOLEVBQUtPLE9BQVMsRUFLZFAsRUFBS08sTUFBUVAsRUFBS00sUUFBVSxJQUM5Qk4sRUFBS1EsUUFBd0IsSUFBYlIsRUFBS08sT0FBZ0JQLEVBQUtPLE1BQVFQLEVBQUtNLGNBSTdESSxhQUFhQyxRQUFRLG1CQUFyQixVQUE0Q0MsS0FBS0MsVUFBVUUsTUFHN0RHLGNBaERpQixTQWdESEMsR0FFWixJQUZxQixXQUNmQyxFQUFZekMsU0FBUzBDLGNBQWMsdUJBQ2xDRCxFQUFVRSxZQUNmRixFQUFVRyxZQUFZSCxFQUFVRSxZQUdsQyxJQUFNRSxFQUFnQjdDLFNBQVNDLGNBQWMsT0FDN0M0QyxFQUFjM0MsVUFBVUMsSUFBSSxrQkFFNUIsSUFBTTJDLEVBQVU5QyxTQUFTQyxjQUFjLE9BQ3ZDNkMsRUFBUTVDLFVBQVVDLElBQUksaUJBRXRCLElBQU00QyxFQUFlL0MsU0FBU0MsY0FBYyxPQUM1QzhDLEVBQWE3QyxVQUFVQyxJQUFJLGlCQUMzQixJQUFNNkMsRUFBYWhELFNBQVNDLGNBQWMsUUFDMUMrQyxFQUFXdEMsVUFBWSx5QkFDdkJxQyxFQUFhdkMsWUFBWXdDLEdBRXpCLElBQU1DLEVBQWNqRCxTQUFTQyxjQUFjLE9BQzNDZ0QsRUFBWS9DLFVBQVVDLElBQUksZ0JBQzFCLElBQU0rQyxFQUFZbEQsU0FBU0MsY0FBYyxRQUN6Q2lELEVBQVV4QyxVQUFZLFFBQ3RCdUMsRUFBWXpDLFlBQVkwQyxHQUV4QkosRUFBUXRDLFlBQVl1QyxHQUNwQkQsRUFBUXRDLFlBQVl5QyxHQUVwQixJQUFNRSxFQUFRbkQsU0FBU0MsY0FBYyxTQUNyQ2tELEVBQU1qRCxVQUFVQyxJQUFJLFNBR3BCMEMsRUFBY3JDLFlBQVlzQyxHQUMxQkQsRUFBY3JDLFlBQVkyQyxHQUMxQlYsRUFBVWpDLFlBQVlxQyxHQUV0QkksRUFBWUcsaUJBQWlCLFNBQVMsV0FDcEMsRUFBS0MsdUJBR1BOLEVBQWFLLGlCQUFpQixTQUFTLFdBQ3JDLEVBQUtFLGlCQUlQLElBQU1sQixFQUFPSCxLQUFLSSxNQUFNTixhQUFhTyxRQUFRLHFCQUM3Q2EsRUFBTUksVUFBTixpTUFTcUJ6RCxLQUFLMEQsV0FBV3BCLEdBQ3hCaEIsU0FBUSxTQUFDcUMsR0FDcEJOLEVBQU1JLFdBQU4sNEJBQ1FFLEVBQUlsQyxLQURaLDhCQUVRa0MsRUFBSWpDLFlBRlosOEJBR1FpQyxFQUFJaEMsU0FIWiw4QkFJUWdDLEVBQUkvQixPQUpaLDhCQUtRK0IsRUFBSTlCLFFBTFosOEJBTVE4QixFQUFJN0IsTUFOWiw4QkFPUTZCLEVBQUk1QixRQUFRNkIsUUFBUSxHQVA1Qix5QkFXZ0IxRCxTQUFTMkQsaUJBQWlCLE1BQ2xDdkMsU0FBUSxTQUFDd0MsR0FDakJBLEVBQVFSLGlCQUFpQixTQUFTLG1CQU10Q0ksV0EzSGlCLFNBMkhOSyxHQUFtQixJQUFkQyxFQUFjLHVEQUFSLE9BV3BCLE9BVkFELEVBQUlFLE1BQUssU0FBQ0MsRUFBR0MsR0FDWCxPQUFJRCxFQUFFLEdBQUQsT0FBSUYsSUFBU0csRUFBRSxHQUFELE9BQUlILElBQ2QsRUFFTEUsRUFBRSxHQUFELE9BQUlGLElBQVNHLEVBQUUsR0FBRCxPQUFJSCxLQUNiLEVBRUgsS0FHRkQsR0FHVEssV0F6SWlCLGNBOElkbkMsYUFBYU8sUUFBUSxxQkFDeEIzQixFQUFXQyxPQUdiLFUsMEtDakpxQnVELEUsV0FDbkIsV0FBWXhFLEVBQU80QixFQUFNQyxFQUFhM0IsSSw0RkFBUSxTQUM1Q0MsS0FBS0gsTUFBUUEsRUFDYkcsS0FBS3lCLEtBQU9BLEVBQ1p6QixLQUFLMEIsWUFBY0EsRUFDbkIxQixLQUFLRCxPQUFTQSxFQUNkQyxLQUFLQyxLQUFPLEtBQ1pELEtBQUtzRSxVQUFZLEtBQ2pCdEUsS0FBS3VFLFNBQVcsSyxzREFHVCxXQUNQdkUsS0FBS0MsS0FBT0MsU0FBU0MsY0FBYyxPQUNuQ0gsS0FBS0MsS0FBS0csVUFBVUMsSUFBSSxhQUV4QkwsS0FBS3NFLFVBQVlwRSxTQUFTQyxjQUFjLE9BQ3hDSCxLQUFLc0UsVUFBVWxFLFVBQVVDLElBQUksb0JBQzdCTCxLQUFLc0UsVUFBVWhFLGFBQWEsY0FBNUIsVUFBOENOLEtBQUtELFNBQ25EQyxLQUFLc0UsVUFBVWhFLGFBQWEsWUFBNUIsVUFBNENOLEtBQUt5QixPQUVqRCxJQUFNK0MsRUFBaUJ0RSxTQUFTQyxjQUFjLE9BQzlDcUUsRUFBZXBFLFVBQVVDLElBQUksMEJBQzdCLElBQU1vRSxFQUFXdkUsU0FBU0MsY0FBYyxPQUN4Q3NFLEVBQVNoRSxJQUFULFlBQW9CVCxLQUFLSCxPQUN6QjJFLEVBQWU5RCxZQUFZK0QsR0FFM0IsSUFBTUMsRUFBZ0J4RSxTQUFTQyxjQUFjLFFBQzdDdUUsRUFBY3RFLFVBQVVDLElBQUkseUJBQzVCcUUsRUFBYzlELFVBQWQsVUFBNkJaLEtBQUt5QixNQUVsQyxJQUFNa0QsRUFBV3pFLFNBQVMwQyxjQUFjLGlCQUV4QzVDLEtBQUtzRSxVQUFVaEIsaUJBQWlCLFNBQVMsU0FBQ3NCLEdBQ25DQSxFQUFNQyxPQUFPekUsVUFBVTBFLFNBQVMsbUJBQXNCSCxFQUFTdkUsVUFBVTBFLFNBQVMsYUFDckZqRSxxQkFBOEIsRUFBS1ksS0FBTSxVQUN6QyxFQUFLc0QsY0FJVCxJQUFNQyxFQUFhOUUsU0FBU0MsY0FBYyxPQUMxQzZFLEVBQVc1RSxVQUFVQyxJQUFJLGtCQUN6QjJFLEVBQVcxRSxhQUFhLGNBQXhCLFVBQTBDTixLQUFLRCxTQUMvQ2lGLEVBQVcxQixpQkFBaUIsU0FBUyxXQUNuQyxFQUFLMkIsaUJBR1BqRixLQUFLc0UsVUFBVTVELFlBQVk4RCxHQUMzQnhFLEtBQUtzRSxVQUFVNUQsWUFBWWdFLEdBQzNCMUUsS0FBS3NFLFVBQVU1RCxZQUFZc0UsR0FFM0JoRixLQUFLdUUsU0FBV3JFLFNBQVNDLGNBQWMsT0FDdkNILEtBQUt1RSxTQUFTbkUsVUFBVUMsSUFBSSxtQkFFNUIsSUFBTTZFLEVBQWdCaEYsU0FBU0MsY0FBYyxPQUM3QytFLEVBQWM5RSxVQUFVQyxJQUFJLHlCQUM1QixJQUFNRyxFQUFNTixTQUFTQyxjQUFjLE9BQ25DSyxFQUFJQyxJQUFKLFlBQWVULEtBQUtILE9BQ3BCcUYsRUFBY3hFLFlBQVlGLEdBRTFCLElBQU0yRSxFQUFlakYsU0FBU0MsY0FBYyxRQVU1QyxPQVRBZ0YsRUFBYS9FLFVBQVVDLElBQUksd0JBQzNCOEUsRUFBYXZFLFVBQWIsVUFBNEJaLEtBQUswQixhQUVqQzFCLEtBQUt1RSxTQUFTN0QsWUFBWXdFLEdBQzFCbEYsS0FBS3VFLFNBQVM3RCxZQUFZeUUsR0FFMUJuRixLQUFLQyxLQUFLUyxZQUFZVixLQUFLc0UsV0FDM0J0RSxLQUFLQyxLQUFLUyxZQUFZVixLQUFLdUUsVUFFcEJ2RSxLQUFLQyxPLGdDQUlaLElBQU1tRixFQUFRLElBQUlDLE1BQUosMEJBQTZCckYsS0FBS3lCLEtBQWxDLFNBQ2QyRCxFQUFNRSxPQUNORixFQUFNRyxTLG9DQUdNLFdBQ1p2RixLQUFLc0UsVUFBVWtCLE1BQU1DLFVBQVksa0JBQ2pDekYsS0FBS3VFLFNBQVNpQixNQUFNQyxVQUFZLGtCQUNoQ3pGLEtBQUtDLEtBQUtxRCxpQkFBaUIsY0FBYyxXQUN2QyxFQUFLZ0IsVUFBVWtCLE1BQU1DLFVBQVksZ0JBQ2pDLEVBQUtsQixTQUFTaUIsTUFBTUMsVUFBWSwwQixzQkMrQ3RDLFFBaElpQixDQUNmQyxnQkFBaUIsS0FDakJDLFNBQVUsS0FDVkMsYUFBYyxHQUNkQyxPQUFRLEdBQ1JDLGNBQWUsS0FDZkMsWUFBYSxLQUNiQyxTQUFVLEtBQ1ZDLFVBQVcsS0FDWEMsUUFBUSxFQUNSQyxZQUFhLEtBQ2JDLGFBQWMsS0FDZEMsU0FBVSxFQUNWQyxlQUFnQixHQUNoQkMsVUFBVyxHQUVYekYsS0FoQmUsV0FnQlIsV0FDTGQsS0FBSzBGLGdCQUFrQnhGLFNBQVNDLGNBQWMsT0FDOUNILEtBQUswRixnQkFBZ0J0RixVQUFVQyxJQUFJLGVBQ25DLElBQU1QLEVBQVFJLFNBQVNDLGNBQWMsUUFDckNMLEVBQU1jLFVBQVksYUFDbEJaLEtBQUswRixnQkFBZ0JoRixZQUFZWixHQUVqQ0UsS0FBSzJGLFNBQVd6RixTQUFTQyxjQUFjLE9BQ3ZDSCxLQUFLMkYsU0FBU3ZGLFVBQVVDLElBQUksYUFFNUJMLEtBQUs4RixjQUFnQixJQUFJVCxNQUFNLCtCQUMvQnJGLEtBQUsrRixZQUFjLElBQUlWLE1BQU0sNkJBQzdCckYsS0FBS2dHLFNBQVcsSUFBSVgsTUFBTSwrQkFDMUJyRixLQUFLaUcsVUFBWSxJQUFJWixNQUFNLCtCQUUzQm5GLFNBQVMwQyxjQUFjLGNBQWNsQyxZQUFZVixLQUFLMEYsaUJBQ3REeEYsU0FBUzBDLGNBQWMsY0FBY2xDLFlBQVlWLEtBQUsyRixVQUV0RDNGLEtBQUswRixnQkFBZ0JwQyxpQkFBaUIsU0FBUyxXQUN6QyxFQUFLNEMsT0FDUCxFQUFLQyxZQUFZWixRQUVqQixFQUFLRyxnQkFBZ0J0RixVQUFVQyxJQUFJLFVBQ25DSCxTQUFTMEMsY0FBYyx1QkFBdUJoQyxVQUFZLEdBQzFELEVBQUtzRixRQUFTLEVBQ2QsRUFBS1gsWUFLWEEsS0E5Q2UsV0E4Q1IsV0FDQ2lCLEVBQWV0RyxTQUFTMkQsaUJBQWlCLHFCQUMvQzJDLEVBQWFsRixTQUFRLFNBQUNyQixHQUNwQixFQUFLMkYsYUFBYTVELEtBQUsvQixFQUFLd0csYUFBYSxpQkFFM0N6RyxLQUFLNEYsYUFBYTNCLE1BQUssa0JBQU15QyxLQUFLQyxTQUFXLE1BRTdDLElBQUlSLEVBQWMsRUFFWlMsRUFBVyxXQUNmLEVBQUtULFlBQWMsSUFBSWQsTUFBSiwwQkFBNkIsRUFBS08sYUFBYU8sR0FBL0MsU0FDbkIsRUFBS0EsWUFBWWIsT0FDakIsRUFBS2EsWUFBWVosUUFHbkJxQixJQUVBSixFQUFhbEYsU0FBUSxTQUFDckIsR0FDcEJBLEVBQUtxRCxpQkFBaUIsU0FBUyxXQUM3QixHQUFJckQsRUFBS3dHLGFBQWEsZUFBaUIsRUFBS2IsYUFBYU8sR0FBYyxDQUNyRSxFQUFLSSxVQUFVdkUsS0FBSyxFQUFLNEQsYUFBYU8sSUFDdEN0RixxQkFBOEIsRUFBSytFLGFBQWFPLEdBQWMsV0FDOUQsRUFBS0wsY0FBY1AsT0FDbkJ0RixFQUFLdUYsTUFBTXFCLE9BQVMsWUFFcEIsSUFBTUMsRUFBVzVHLFNBQVNDLGNBQWMsT0FDeEMyRyxFQUFTckcsSUFBTSw4QkFDZixFQUFLa0YsU0FBU2pGLFlBQVlvRyxJQUUxQlgsR0FBZSxHQUNHLEVBQ2hCWSxXQUFXSCxFQUFVLEtBRXJCRyxZQUFXLFdBQ1QsRUFBS0MsZUFDSixVQUVBLElBQUssRUFBS1QsVUFBVVUsU0FBU2hILEVBQUt3RyxhQUFhLGNBQWUsQ0FDbkU1RixxQkFBOEIsRUFBSytFLGFBQWFPLEdBQWMsU0FDOUQsRUFBS0UsVUFBWSxFQUVqQixJQUFNUyxFQUFXNUcsU0FBU0MsY0FBYyxPQUN4QzJHLEVBQVNyRyxJQUFNLDBCQUNmLEVBQUtrRixTQUFTakYsWUFBWW9HLEdBRTFCLEVBQUtmLFlBQVlSLGVBTXpCeUIsV0FqR2UsV0FrR2JFLGtCQUVBaEgsU0FBUzBDLGNBQWMsdUJBQXVCaEMsVUFBWSxhQUMxRFosS0FBS2tHLFFBQVMsRUFDZGxHLEtBQUswRixnQkFBZ0J0RixVQUFVK0csT0FBTyxVQUN0Q25ILEtBQUswRixnQkFBZ0J0RixVQUFVQyxJQUFJLFlBRW5DLElBQU0rRyxFQUFZbEgsU0FBU0MsY0FBYyxPQUN6Q2lILEVBQVVoSCxVQUFVQyxJQUFJLGFBQ3hCLElBQU1nSCxFQUFPbkgsU0FBU0MsY0FBYyxRQUNwQ2tILEVBQUtqSCxVQUFVQyxJQUFJLGFBQ25CLElBQU1HLEVBQU1OLFNBQVNDLGNBQWMsT0FFYixJQUFsQkgsS0FBS3FHLFVBQ1BnQixFQUFLekcsVUFBWSw0QkFDakJKLEVBQUlDLElBQU0sNkJBQ1ZULEtBQUtnRyxTQUFTVCxTQUVkOEIsRUFBSzVELFVBQUwsaUVBQ2F6RCxLQUFLcUcsU0FEbEIsZ0JBRUE3RixFQUFJQyxJQUFNLDZCQUNWVCxLQUFLaUcsVUFBVVYsUUFHakI2QixFQUFVRSxPQUFPOUcsR0FDakIwRyx3QkFBZ0NHLEdBQ2hDSCx3QkFBZ0NFLEtDN0hwQyxJQUFNRyxFQUFTLENBQ2JDLFVBQVcsS0FFWDFHLEtBSGEsV0FJWGQsS0FBS3dILFVBQVl0SCxTQUFTQyxjQUFjLE9BQ3hDSCxLQUFLd0gsVUFBVXBILFVBQVVDLElBQUksbUJBQW9CLG1CQUVqRCxJQUFNb0gsRUFBWXZILFNBQVNDLGNBQWMsT0FDekNzSCxFQUFVckgsVUFBVUMsSUFBSSxhQUFjLGVBQ3RDb0gsRUFBVTdHLFVBQVksUUFDdEIsSUFBTStELEVBQVd6RSxTQUFTQyxjQUFjLE9BQ3hDd0UsRUFBU3ZFLFVBQVVDLElBQUksYUFDdkJzRSxFQUFTL0QsVUFBWSxPQUVyQixJQUFNOEcsRUFBV3hILFNBQVNDLGNBQWMsU0FDeEN1SCxFQUFTdEgsVUFBVUMsSUFBSSxVQUN2QixJQUFNc0gsRUFBV3pILFNBQVNDLGNBQWMsU0FDeEN3SCxFQUFTckgsYUFBYSxPQUFRLFlBRTlCcUgsRUFBU3JFLGlCQUFpQixVQUFVLFdBQ2xDcUUsRUFBU3ZILFVBQVVtSCxPQUFPLFdBQzFCLElBQU1LLEVBQVExSCxTQUFTMkQsaUJBQWlCLGNBQ3BDOEQsRUFBU3ZILFVBQVUwRSxTQUFTLFlBQzlCOEMsRUFBTXRHLFNBQVEsU0FBQ3JCLEdBQ2JBLEVBQUt1RixNQUFNcUMsT0FBUyxXQUV0QkMsV0FFQUYsRUFBTXRHLFNBQVEsU0FBQ3JCLEdBQ2JBLEVBQUt1RixNQUFNcUMsT0FBUyxXQUV0QjNILFNBQVMwQyxjQUFjLGNBQWNFLFlBQVk1QyxTQUFTMEMsY0FBYyxpQkFDeEUxQyxTQUFTMEMsY0FBYyxjQUFjRSxZQUFZNUMsU0FBUzBDLGNBQWMsZ0JBRzFFNkUsRUFBVXJILFVBQVVtSCxPQUFPLGVBQzNCNUMsRUFBU3ZFLFVBQVVtSCxPQUFPLGtCQUc1QixJQUFNRixFQUFPbkgsU0FBU0MsY0FBYyxRQUNwQ2tILEVBQUtqSCxVQUFVQyxJQUFJLFNBQVUsU0FDN0JxSCxFQUFTaEgsWUFBWWlILEdBQ3JCRCxFQUFTaEgsWUFBWTJHLEdBRXJCckgsS0FBS3dILFVBQVU5RyxZQUFZK0csR0FDM0J6SCxLQUFLd0gsVUFBVTlHLFlBQVlnSCxHQUMzQjFILEtBQUt3SCxVQUFVOUcsWUFBWWlFLEdBRTNCekUsU0FBUzBDLGNBQWMsY0FBY21GLFFBQVEvSCxLQUFLd0gsYUFJdERELEVBQU96RyxPQUVQLFVDckRBLElBQU1vRyxFQUFZLENBQ2hCdkUsVUFBVyxLQUNYN0MsTUFBTyxDQUNMa0ksRUFBRyxpQkFDSEMsRUFBRyxpQkFDSEMsRUFBRyxpQkFDSEMsRUFBRyxZQUNIQyxFQUFHLGlCQUNIQyxFQUFHLGlCQUNIQyxFQUFHLFVBQ0hDLEVBQUcsV0FHTEMsT0FBUSxDQUNOUixFQUFHLHlDQUNIQyxFQUFHLHlDQUNIQyxFQUFHLHlDQUNIQyxFQUFHLDJDQUNIQyxFQUFHLHlDQUNIQyxFQUFHLHlDQUNIQyxFQUFHLHlDQUNIQyxFQUFHLDBDQUdMekgsS0F4QmdCLFdBeUJkZCxLQUFLMkMsVUFBWXpDLFNBQVNDLGNBQWMsT0FDeENILEtBQUsyQyxVQUFVdkMsVUFBVUMsSUFBSSxXQUM3QkgsU0FBUzBDLGNBQWMsY0FBY2xDLFlBQVlWLEtBQUsyQyxXQUN0RDNDLEtBQUt5SSxpQkFHUEEsY0EvQmdCLFdBZ0NkLElBRGMsV0FDTEMsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLEdBQUssRUFBRyxDQUM3QixJQUFNekksRUFBTyxJQUFJTCxFQUFVSSxLQUFLd0ksT0FBT0UsR0FBSTFJLEtBQUtGLE1BQU00SSxHQUFJQSxHQUMxRDFJLEtBQUsyQyxVQUFVakMsWUFBWVQsRUFBSzBJLFVBR3BCekksU0FBUzJELGlCQUFpQixTQUNsQ3ZDLFNBQVEsU0FBQ3JCLEdBQ2JBLEVBQUtxRCxpQkFBaUIsU0FBUyxXQUM3QixFQUFLc0YsZ0JBQ0wsRUFBS0MsZ0JBQWdCNUksRUFBS3dHLGFBQWEsdUJBSzdDb0MsZ0JBOUNnQixTQThDQUMsR0FBWSxXQUMxQkMsNkJBQWtDLG1CQUVsQ2hJLE1BQU0sNEJBQ0hDLE1BQUssU0FBQ0MsR0FBRCxPQUFZQSxFQUFPQyxVQUN4QkYsTUFBSyxTQUFDQyxHQUVMLElBREEsSUFBTStILEVBQU8vSCxFQUFPNkgsR0FDWEosRUFBSSxFQUFHQSxFQUFJTSxFQUFLQyxPQUFRUCxHQUFLLEVBQUcsQ0FDdkMsSUFBTXpJLEVBQU8sSUFBSW9FLEVBQUsyRSxFQUFLTixHQUFHN0ksTUFBT21KLEVBQUtOLEdBQUdqSCxLQUFNdUgsRUFBS04sR0FBR2hILFlBQWFnSCxHQUN4RSxFQUFLL0YsVUFBVWpDLFlBQVlULEVBQUswSSxlQUt4Q0MsY0E1RGdCLFdBOERkLElBREEsSUFBTXBDLEVBQWV0RyxTQUFTMEMsY0FBYyx1QkFDckM0RCxFQUFhM0QsWUFDbEIyRCxFQUFhMUQsWUFBWTBELEVBQWEzRCxjQUs1Q3FFLEVBQVVwRyxPQUVWLFVDMUVBLElBQU1vSSxFQUFhLENBQ2pCQyxVQUFXLEtBQ1hDLFdBQVcsRUFFWHRJLEtBSmlCLFdBSVYsV0FDTGQsS0FBS21KLFVBQVlqSixTQUFTQyxjQUFjLE9BQ3hDSCxLQUFLbUosVUFBVUUsVUFBWSxzQkFFM0IsSUFBTUMsRUFBWXBKLFNBQVNDLGNBQWMsT0FDekNtSixFQUFVRCxVQUFZLGFBQ3RCLElBQU1FLEVBQWFySixTQUFTQyxjQUFjLE9BQzFDb0osRUFBV0YsVUFBWSxjQUN2QixJQUFNRyxFQUFZdEosU0FBU0MsY0FBYyxPQUN6Q3FKLEVBQVVILFVBQVksYUFFdEJySixLQUFLbUosVUFBVXpJLFlBQVk0SSxHQUMzQnRKLEtBQUttSixVQUFVekksWUFBWTZJLEdBQzNCdkosS0FBS21KLFVBQVV6SSxZQUFZOEksR0FFM0J4SixLQUFLbUosVUFBVTdGLGlCQUFpQixTQUFTLFdBQ25DLEVBQUs4RixXQUNQRSxFQUFVOUQsTUFBTUMsVUFBWSxpQ0FDNUI4RCxFQUFXL0QsTUFBTUMsVUFBWSxvQkFDN0IrRCxFQUFVaEUsTUFBTUMsVUFBWSxtQ0FHNUJ2RixTQUFTMEMsY0FBYyxnQkFBZ0I0QyxNQUFNQyxVQUFZLGdCQUN6RHZGLFNBQVMwQyxjQUFjLFVBQVV4QyxVQUFVK0csT0FBTyxrQkFDbEQsRUFBS2lDLFdBQVksSUFFakJFLEVBQVU5RCxNQUFNQyxVQUFZLDBCQUM1QjhELEVBQVcvRCxNQUFNQyxVQUFZLGdCQUM3QitELEVBQVVoRSxNQUFNQyxVQUFZLDBCQUc1QnZGLFNBQVMwQyxjQUFjLGdCQUFnQjRDLE1BQU1DLFVBQVkscUJBQ3pEdkYsU0FBUzBDLGNBQWMsVUFBVXhDLFVBQVVDLElBQUksa0JBQy9DLEVBQUsrSSxXQUFZLE1BU3JCbEosU0FBUzBDLGNBQWMsb0JBQW9CbUYsUUFBUS9ILEtBQUttSixhQUk1REQsRUFBV3BJLE9BRVgsVUMvQ2NaLFNBQVMyRCxpQkFBaUIsb0JBQ2xDdkMsU0FBUSxTQUFDbUksR0FDYkEsRUFBS25HLGlCQUFpQixTQUFTLFdBQzdCNEQsa0JBQ0FnQyxvQkFDQWhKLFNBQVMwQyxjQUFjLDJCQUEyQnhDLFVBQVUrRyxPQUFPLFVBQ25Fc0MsRUFBS3JKLFVBQVVDLElBQUksVUFFc0IsU0FBckNvSixFQUFLaEQsYUFBYSxnQkFDcEJzQywwQkFBK0IsbUJBQy9CN0IsbUJBQzhDLGVBQXJDdUMsRUFBS2hELGFBQWEsZUFDM0I1RixrQkFFQXFHLGtCQUEwQnVDLEVBQUtoRCxhQUFhLHVCIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpdGxlQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGltYWdlLCB0aXRsZSwgbnVtYmVyKSB7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJyk7XG4gICAgY2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJywgYCR7dGhpcy5udW1iZXJ9YCk7XG5cbiAgICBjb25zdCBjYXJkSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkSW1hZ2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9faW1hZ2UnKTtcblxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltZy5zcmMgPSBgJHt0aGlzLmltYWdlfWA7XG4gICAgY2FyZEltYWdlLmFwcGVuZENoaWxkKGltZyk7XG5cbiAgICBjb25zdCBjYXJkTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBjYXJkTmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkX19uYW1lJyk7XG4gICAgY2FyZE5hbWUuaW5uZXJUZXh0ID0gYCR7dGhpcy50aXRsZX1gO1xuXG4gICAgY2FyZC5hcHBlbmRDaGlsZChjYXJkSW1hZ2UpO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoY2FyZE5hbWUpO1xuXG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5jb25zdCBzdGF0aXN0aWNzID0ge1xuICBpbml0KCkge1xuICAgIGZldGNoKCcuL2Fzc2V0cy9qc29uL2NhcmRzLmpzb24nKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgYWxsV29yZHMgPSByZXN1bHQuZmxhdCgpO1xuICAgICAgICBjb25zdCBjb21tb25BcnJheSA9IFtdO1xuICAgICAgICBhbGxXb3Jkcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudE9iaiA9IHtcbiAgICAgICAgICAgIHdvcmQ6IGl0ZW0ud29yZCxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBpdGVtLnRyYW5zbGF0aW9uLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGl0ZW0uY2F0ZWdvcnksXG4gICAgICAgICAgICBjbGlja3M6IDAsXG4gICAgICAgICAgICBjb3JyZWN0OiAwLFxuICAgICAgICAgICAgd3Jvbmc6IDAsXG4gICAgICAgICAgICBwZXJjZW50OiAwLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29tbW9uQXJyYXkucHVzaChjdXJyZW50T2JqKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJywgYCR7SlNPTi5zdHJpbmdpZnkoY29tbW9uQXJyYXkpfWApO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgY291bnRpbmdTdGF0aXN0aWNzKHdvcmQsIGNhdGVnb3J5KSB7XG4gICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgc3RhdC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS53b3JkID09PSB3b3JkKSB7XG4gICAgICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXNlICdjbGlja3MnOlxuICAgICAgICAgICAgaXRlbS5jbGlja3MgKz0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2NvcnJlY3QnOlxuICAgICAgICAgICAgaXRlbS5jb3JyZWN0ICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd3cm9uZyc6XG4gICAgICAgICAgICBpdGVtLndyb25nICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0ud3JvbmcgKyBpdGVtLmNvcnJlY3QgPiAwKSB7XG4gICAgICAgICAgaXRlbS5wZXJjZW50ID0gKGl0ZW0ud3JvbmcgKiAxMDApIC8gKGl0ZW0ud3JvbmcgKyBpdGVtLmNvcnJlY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnLCBgJHtKU09OLnN0cmluZ2lmeShzdGF0KX1gKTtcbiAgfSxcblxuICBidWlsZGluZ1RhYmxlKGNvbnRlbnQpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyIC53cmFwcGVyJyk7XG4gICAgd2hpbGUgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdGF0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3N0YXQtY29udGFpbmVyJyk7XG5cbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdwYW5lbC1idXR0b25zJyk7XG5cbiAgICBjb25zdCByZXBlYXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXBlYXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVwZWF0LWJ1dHRvbicpO1xuICAgIGNvbnN0IHNwYW5SZXBlYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlcGVhdC5pbm5lclRleHQgPSAnUmVwZWF0IGRpZmZpY3VsdCB3b3Jkcyc7XG4gICAgcmVwZWF0QnV0dG9uLmFwcGVuZENoaWxkKHNwYW5SZXBlYXQpO1xuXG4gICAgY29uc3QgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXNldEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXNldC1idXR0b24nKTtcbiAgICBjb25zdCBzcGFuUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlc2V0LmlubmVyVGV4dCA9ICdSZXNldCc7XG4gICAgcmVzZXRCdXR0b24uYXBwZW5kQ2hpbGQoc3BhblJlc2V0KTtcblxuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQocmVwZWF0QnV0dG9uKTtcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlc2V0QnV0dG9uKTtcblxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICB0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXG4gICAgLy8gYWRkIGVsZW1lbnRzIHRvIHBhZ2VcbiAgICBzdGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIHN0YXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0Q29udGFpbmVyKTtcblxuICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNldExvY2FsU3RvcmFnZSgpO1xuICAgIH0pO1xuXG4gICAgcmVwZWF0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXBlYXRXb3JkcygpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVuZGVyaW5nIHRhYmxlXG4gICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgdGFibGUuaW5uZXJIVE1MID0gYDx0cj5cbiAgICAgIDx0aD4mZGFycjsgV29yZDwvdGg+XG4gICAgICA8dGg+VHJhbnNsYXRpb248L3RoPlxuICAgICAgPHRoPkNhdGVnb3J5PC90aD5cbiAgICAgIDx0aD5DbGlja3M8L3RoPlxuICAgICAgPHRoPkNvcnJlY3Q8L3RoPlxuICAgICAgPHRoPldyb25nPC90aD5cbiAgICAgIDx0aD4lIGVycm9yczwvdGg+XG4gICAgPC90cj5gO1xuICAgIGNvbnN0IGRhdGFGb3JUYWJsZSA9IHRoaXMuc29ydE9iamVjdChzdGF0KTtcbiAgICBkYXRhRm9yVGFibGUuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICB0YWJsZS5pbm5lckhUTUwgKz0gYDx0cj5cbiAgICAgICAgPHRkPiR7cm93LndvcmR9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LnRyYW5zbGF0aW9ufTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jYXRlZ29yeX08L3RkPlxuICAgICAgICA8dGQ+JHtyb3cuY2xpY2tzfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jb3JyZWN0fTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy53cm9uZ308L3RkPlxuICAgICAgICA8dGQ+JHtyb3cucGVyY2VudC50b0ZpeGVkKDEpfTwvdGQ+XG4gICAgICA8L3RyPmA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0YWJsZUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpO1xuICAgIHRhYmxlSGVhZC5mb3JFYWNoKChoZWFkaW5nKSA9PiB7XG4gICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzb3J0T2JqZWN0KG9iaiwga2V5ID0gJ3dvcmQnKSB7XG4gICAgb2JqLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhW2Ake2tleX1gXSA+IGJbYCR7a2V5fWBdKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaWYgKGFbYCR7a2V5fWBdIDwgYltgJHtrZXl9YF0pIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIHNvcnRDb2x1bW4oKSB7XG5cbiAgfSxcbn07XG5cbmlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSkge1xuICBzdGF0aXN0aWNzLmluaXQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RhdGlzdGljcztcbiIsImltcG9ydCBzdGF0aXN0aWNzIGZyb20gJy4uL3N0YXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoaW1hZ2UsIHdvcmQsIHRyYW5zbGF0aW9uLCBudW1iZXIpIHtcbiAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgdGhpcy53b3JkID0gd29yZDtcbiAgICB0aGlzLnRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb247XG4gICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgdGhpcy5jYXJkID0gbnVsbDtcbiAgICB0aGlzLmNhcmRGcm9udCA9IG51bGw7XG4gICAgdGhpcy5jYXJkQmFjayA9IG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZCcpO1xuXG4gICAgdGhpcy5jYXJkRnJvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmRGcm9udC5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250Jyk7XG4gICAgdGhpcy5jYXJkRnJvbnQuc2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicsIGAke3RoaXMubnVtYmVyfWApO1xuICAgIHRoaXMuY2FyZEZyb250LnNldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJywgYCR7dGhpcy53b3JkfWApO1xuXG4gICAgY29uc3QgY2FyZEZyb250SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkRnJvbnRJbWFnZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250LWltYWdlJyk7XG4gICAgY29uc3QgaW1nRnJvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWdGcm9udC5zcmMgPSBgLi8ke3RoaXMuaW1hZ2V9YDtcbiAgICBjYXJkRnJvbnRJbWFnZS5hcHBlbmRDaGlsZChpbWdGcm9udCk7XG5cbiAgICBjb25zdCBjYXJkRnJvbnROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGNhcmRGcm9udE5hbWUuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19mcm9udC1uYW1lJyk7XG4gICAgY2FyZEZyb250TmFtZS5pbm5lclRleHQgPSBgJHt0aGlzLndvcmR9YDtcblxuICAgIGNvbnN0IGdhbWVNb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwgPiBpbnB1dCcpO1xuXG4gICAgdGhpcy5jYXJkRnJvbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmV2ZXJzZS1idXR0b24nKSAmJiAhZ2FtZU1vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy53b3JkLCAnY2xpY2tzJyk7XG4gICAgICAgIHRoaXMudG9Wb2ljZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2FyZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmV2ZXJzZS1idXR0b24nKTtcbiAgICBjYXJkQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInLCBgJHt0aGlzLm51bWJlcn1gKTtcbiAgICBjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXZlcnNlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jYXJkRnJvbnQuYXBwZW5kQ2hpbGQoY2FyZEZyb250SW1hZ2UpO1xuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRGcm9udE5hbWUpO1xuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRCdXR0b24pO1xuXG4gICAgdGhpcy5jYXJkQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY2FyZEJhY2suY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19iYWNrJyk7XG5cbiAgICBjb25zdCBjYXJkQmFja0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEJhY2tJbWFnZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2staW1hZ2UnKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYC4vJHt0aGlzLmltYWdlfWA7XG4gICAgY2FyZEJhY2tJbWFnZS5hcHBlbmRDaGlsZChpbWcpO1xuXG4gICAgY29uc3QgY2FyZEJhY2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGNhcmRCYWNrTmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2stbmFtZScpO1xuICAgIGNhcmRCYWNrTmFtZS5pbm5lclRleHQgPSBgJHt0aGlzLnRyYW5zbGF0aW9ufWA7XG5cbiAgICB0aGlzLmNhcmRCYWNrLmFwcGVuZENoaWxkKGNhcmRCYWNrSW1hZ2UpO1xuICAgIHRoaXMuY2FyZEJhY2suYXBwZW5kQ2hpbGQoY2FyZEJhY2tOYW1lKTtcblxuICAgIHRoaXMuY2FyZC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRGcm9udCk7XG4gICAgdGhpcy5jYXJkLmFwcGVuZENoaWxkKHRoaXMuY2FyZEJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FyZDtcbiAgfVxuXG4gIHRvVm9pY2UoKSB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3RoaXMud29yZH0ubXAzYCk7XG4gICAgYXVkaW8ubG9hZCgpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgfVxuXG4gIHJldmVyc2VDYXJkKCkge1xuICAgIHRoaXMuY2FyZEZyb250LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIHRoaXMuY2FyZEJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMzYwZGVnKSc7XG4gICAgdGhpcy5jYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhcmRGcm9udC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlWSgwZGVnKSc7XG4gICAgICB0aGlzLmNhcmRCYWNrLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0JztcbmltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcblxuY29uc3QgcGxheUdhbWUgPSB7XG4gIHN0YXJ0R2FtZUJ1dHRvbjogbnVsbCxcbiAgYm94U3RhcnM6IG51bGwsXG4gIGN1cnJlbnRXb3JkczogW10sXG4gIHJhdGluZzogW10sXG4gIGNvcnJlY3RBbnN3ZXI6IG51bGwsXG4gIHdyb25nQW5zd2VyOiBudWxsLFxuICBzb3VuZFdpbjogbnVsbCxcbiAgc291bmRMb3NlOiBudWxsLFxuICByZXBlYXQ6IGZhbHNlLFxuICBjdXJyZW50V29yZDogbnVsbCxcbiAgY3VycmVudFNvdW5kOiBudWxsLFxuICBtaXN0YWtlczogMCxcbiAgYXR0cmlidXRlQ2FyZHM6IFtdLFxuICB3b3Jkc1VzZWQ6IFtdLFxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tcGxheScpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdTdGFydCBnYW1lJztcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICB0aGlzLmJveFN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5ib3hTdGFycy5jbGFzc0xpc3QuYWRkKCdib3gtc3RhcnMnKTtcblxuICAgIHRoaXMuY29ycmVjdEFuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2NvcnJlY3QubXAzJyk7XG4gICAgdGhpcy53cm9uZ0Fuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2Vycm9yLm1wMycpO1xuICAgIHRoaXMuc291bmRXaW4gPSBuZXcgQXVkaW8oJy4vYXNzZXRzL3NvdW5kcy9zdWNjZXNzLm1wMycpO1xuICAgIHRoaXMuc291bmRMb3NlID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvZmFpbHVyZS5tcDMnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5hcHBlbmRDaGlsZCh0aGlzLnN0YXJ0R2FtZUJ1dHRvbik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmFwcGVuZENoaWxkKHRoaXMuYm94U3RhcnMpO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50V29yZC5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXBlYXQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5ID4gc3BhbicpLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLnJlcGVhdCA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBsYXkoKSB7XG4gICAgY29uc3QgY3VycmVudENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd29yZF9fZnJvbnQnKTtcbiAgICBjdXJyZW50Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50V29yZHMucHVzaChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFdvcmRzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICBsZXQgY3VycmVudFdvcmQgPSAwO1xuXG4gICAgY29uc3QgcGxheVdvcmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkID0gbmV3IEF1ZGlvKGAuL2Fzc2V0cy9zb3VuZHMvJHt0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF19Lm1wM2ApO1xuICAgICAgdGhpcy5jdXJyZW50V29yZC5sb2FkKCk7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgcGxheVdvcmQoKTtcblxuICAgIGN1cnJlbnRDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpID09PSB0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF0pIHtcbiAgICAgICAgICB0aGlzLndvcmRzVXNlZC5wdXNoKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSk7XG4gICAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdLCAnY29ycmVjdCcpO1xuICAgICAgICAgIHRoaXMuY29ycmVjdEFuc3dlci5wbGF5KCk7XG4gICAgICAgICAgY2FyZC5zdHlsZS5maWx0ZXIgPSAnYmx1cig1cHgpJztcblxuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXItd2luLnN2Zyc7XG4gICAgICAgICAgdGhpcy5ib3hTdGFycy5hcHBlbmRDaGlsZCh3aW5TdGFycyk7XG5cbiAgICAgICAgICBjdXJyZW50V29yZCArPSAxO1xuICAgICAgICAgIGlmIChjdXJyZW50V29yZCA8IDgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGxheVdvcmQsIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmZpbmlzaEdhbWUoKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy53b3Jkc1VzZWQuaW5jbHVkZXMoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpKSkge1xuICAgICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSwgJ3dyb25nJyk7XG4gICAgICAgICAgdGhpcy5taXN0YWtlcyArPSAxO1xuXG4gICAgICAgICAgY29uc3Qgd2luU3RhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICB3aW5TdGFycy5zcmMgPSAnLi9hc3NldHMvaWNvbnMvc3Rhci5zdmcnO1xuICAgICAgICAgIHRoaXMuYm94U3RhcnMuYXBwZW5kQ2hpbGQod2luU3RhcnMpO1xuXG4gICAgICAgICAgdGhpcy53cm9uZ0Fuc3dlci5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIGZpbmlzaEdhbWUoKSB7XG4gICAgZ2FtZUZpZWxkLnJlbW92ZUNvbnRlbnQoKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tcGxheSA+IHNwYW4nKS5pbm5lclRleHQgPSAnU3RhcnQgZ2FtZSc7XG4gICAgdGhpcy5yZXBlYXQgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdyZXBlYXQnKTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuXG4gICAgY29uc3Qgd2luU2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ3dpbi1pbWFnZScpO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd3aW4tdGl0bGUnKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgIGlmICh0aGlzLm1pc3Rha2VzID09PSAwKSB7XG4gICAgICBzcGFuLmlubmVyVGV4dCA9ICdDb25ncmF0dWxhdGlvbnMhIFlvdSB3aW4hJztcbiAgICAgIGltZy5zcmMgPSAnLi9hc3NldHMvaWNvbnMvc3VjY2Vzcy5zdmcnO1xuICAgICAgdGhpcy5zb3VuZFdpbi5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW4uaW5uZXJIVE1MID0gYFlvdSBsb3N0KDogVHJhaW4gYW5kIHRyeSBhZ2FpbiE8L2JyPlxuICAgICAgICBZb3UgbWFkZSAke3RoaXMubWlzdGFrZXN9IG1pc3Rha2UocykuYDtcbiAgICAgIGltZy5zcmMgPSAnLi9hc3NldHMvaWNvbnMvZmFpbHVyZS5zdmcnO1xuICAgICAgdGhpcy5zb3VuZExvc2UucGxheSgpO1xuICAgIH1cblxuICAgIHdpblNjcmVlbi5hcHBlbmQoaW1nKTtcbiAgICBnYW1lRmllbGQuY29udGFpbmVyLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgIGdhbWVGaWVsZC5jb250YWluZXIuYXBwZW5kQ2hpbGQod2luU2NyZWVuKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXlHYW1lO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmltcG9ydCBwbGF5R2FtZSBmcm9tICcuLi9wbGF5LWdhbWUnO1xuXG5jb25zdCB0b2dnbGUgPSB7XG4gIHN3aXRjaEJveDogbnVsbCxcblxuICBpbml0KCkge1xuICAgIHRoaXMuc3dpdGNoQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zd2l0Y2hCb3guY2xhc3NMaXN0LmFkZCgnc3dpdGNoLWNvbnRhaW5lcicsICdzd2l0Y2gtZGlzYWJsZWQnKTtcblxuICAgIGNvbnN0IHRyYWluTW9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRyYWluTW9kZS5jbGFzc0xpc3QuYWRkKCd0cmFpbi1tb2RlJywgJ2FjdGl2ZS1tb2RlJyk7XG4gICAgdHJhaW5Nb2RlLmlubmVyVGV4dCA9ICdUcmFpbic7XG4gICAgY29uc3QgZ2FtZU1vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBnYW1lTW9kZS5jbGFzc0xpc3QuYWRkKCdnYW1lLW1vZGUnKTtcbiAgICBnYW1lTW9kZS5pbm5lclRleHQgPSAnUGxheSc7XG5cbiAgICBjb25zdCBzd2l0Y2hlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgc3dpdGNoZXIuY2xhc3NMaXN0LmFkZCgnc3dpdGNoJyk7XG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuXG4gICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY2hlY2tib3guY2xhc3NMaXN0LnRvZ2dsZSgnY2hlY2tlZCcpO1xuICAgICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC13b3JkJyk7XG4gICAgICBpZiAoY2hlY2tib3guY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXlHYW1lLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9ICcyODBweCc7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5JykpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJveC1zdGFycycpKTtcbiAgICAgIH1cblxuICAgICAgdHJhaW5Nb2RlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1tb2RlJyk7XG4gICAgICBnYW1lTW9kZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbW9kZScpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcicsICdyb3VuZCcpO1xuICAgIHN3aXRjaGVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICBzd2l0Y2hlci5hcHBlbmRDaGlsZChzcGFuKTtcblxuICAgIHRoaXMuc3dpdGNoQm94LmFwcGVuZENoaWxkKHRyYWluTW9kZSk7XG4gICAgdGhpcy5zd2l0Y2hCb3guYXBwZW5kQ2hpbGQoc3dpdGNoZXIpO1xuICAgIHRoaXMuc3dpdGNoQm94LmFwcGVuZENoaWxkKGdhbWVNb2RlKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5wcmVwZW5kKHRoaXMuc3dpdGNoQm94KTtcbiAgfSxcbn07XG5cbnRvZ2dsZS5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZ2dsZTtcbiIsImltcG9ydCBUaXRsZUNhcmQgZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlLWNhcmQnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9jb21wb25lbnRzL2NhcmQnO1xuaW1wb3J0IHRvb2dsZSBmcm9tICcuL2NvbXBvbmVudHMvc3dpdGNoJztcblxuY29uc3QgZ2FtZUZpZWxkID0ge1xuICBjb250YWluZXI6IG51bGwsXG4gIHRpdGxlOiB7XG4gICAgMDogJ0FjdGlvbiAoc2V0IEEpJyxcbiAgICAxOiAnQWN0aW9uIChzZXQgQiknLFxuICAgIDI6ICdBY3Rpb24gKHNldCBDKScsXG4gICAgMzogJ0FkamVjdGl2ZScsXG4gICAgNDogJ0FuaW1hbCAoc2V0IEEpJyxcbiAgICA1OiAnQW5pbWFsIChzZXQgQiknLFxuICAgIDY6ICdDbG90aGVzJyxcbiAgICA3OiAnRW1vdGlvbicsXG4gIH0sXG5cbiAgaW1hZ2VzOiB7XG4gICAgMDogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FjdGlvbkEuanBnJyxcbiAgICAxOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWN0aW9uQi5qcGcnLFxuICAgIDI6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hY3Rpb25DLmpwZycsXG4gICAgMzogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FkamVjdGl2ZS5qcGcnLFxuICAgIDQ6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hbmltYWxBLmpwZycsXG4gICAgNTogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FuaW1hbEIuanBnJyxcbiAgICA2OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvY2xvdGhlcy5qcGcnLFxuICAgIDc6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9lbW90aW9uLmpwZycsXG4gIH0sXG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3dyYXBwZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuc2V0VGl0bGVDYXJkcygpO1xuICB9LFxuXG4gIHNldFRpdGxlQ2FyZHMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgVGl0bGVDYXJkKHRoaXMuaW1hZ2VzW2ldLCB0aGlzLnRpdGxlW2ldLCBpKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQucmVuZGVyKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZUNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50Q2FyZHMoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgc2V0Q29udGVudENhcmRzKGFjdGl2ZUNhcmQpIHtcbiAgICB0b29nbGUuc3dpdGNoQm94LmNsYXNzTGlzdC5yZW1vdmUoJ3N3aXRjaC1kaXNhYmxlZCcpO1xuXG4gICAgZmV0Y2goJy4vYXNzZXRzL2pzb24vY2FyZHMuanNvbicpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0W2FjdGl2ZUNhcmRdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YVtpXS5pbWFnZSwgZGF0YVtpXS53b3JkLCBkYXRhW2ldLnRyYW5zbGF0aW9uLCBpKTtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJkLnJlbmRlcigpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG5cbiAgcmVtb3ZlQ29udGVudCgpIHtcbiAgICBjb25zdCBjdXJyZW50Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyIC53cmFwcGVyJyk7XG4gICAgd2hpbGUgKGN1cnJlbnRDYXJkcy5maXJzdENoaWxkKSB7XG4gICAgICBjdXJyZW50Q2FyZHMucmVtb3ZlQ2hpbGQoY3VycmVudENhcmRzLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSxcbn07XG5cbmdhbWVGaWVsZC5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVGaWVsZDtcbiIsImNvbnN0IGJ1cmdlckljb24gPSB7XG4gIGJ1cmdlckJveDogbnVsbCxcbiAgYnV0dG9uT2ZmOiB0cnVlLFxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5idXJnZXJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmJ1cmdlckJveC5jbGFzc05hbWUgPSAnYnVyZ2VyLW1lbnVfX2J1dHRvbic7XG5cbiAgICBjb25zdCBmaXJzdExJbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaXJzdExJbmUuY2xhc3NOYW1lID0gJ2ZpcnN0LWxpbmUnO1xuICAgIGNvbnN0IHNlY29uZExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZWNvbmRMaW5lLmNsYXNzTmFtZSA9ICdzZWNvbmQtbGluZSc7XG4gICAgY29uc3QgdGhpcmRMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcmRMaW5lLmNsYXNzTmFtZSA9ICd0aGlyZC1saW5lJztcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFwcGVuZENoaWxkKGZpcnN0TEluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQoc2Vjb25kTGluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQodGhpcmRMaW5lKTtcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYnV0dG9uT2ZmKSB7XG4gICAgICAgIGZpcnN0TEluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgxM3B4KSByb3RhdGUoNDVkZWcpJztcbiAgICAgICAgc2Vjb25kTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtNDBweCknO1xuICAgICAgICB0aGlyZExpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTEzcHgpIHJvdGF0ZSgtNDVkZWcpJztcblxuICAgICAgICAvLyBtb3ZlbWVudCBidXJnZXItbWVudVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdExJbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCkgcm90YXRlKDApJztcbiAgICAgICAgc2Vjb25kTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSByb3RhdGUoMCknO1xuXG4gICAgICAgIC8vIG1vdmVtZW50IGJ1cmdlci1tZW51XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0zMjBweCknO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1kaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLmJ1dHRvbk9mZiA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBidXJnZXJCb3guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdhc2Rhc2RhcycpO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gYWRkIGJ1cmdlci1pY29uIHRvIHBhZ2VcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC53cmFwcGVyJykucHJlcGVuZCh0aGlzLmJ1cmdlckJveCk7XG4gIH0sXG59O1xuXG5idXJnZXJJY29uLmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgYnVyZ2VySWNvbjtcbiIsImltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcbmltcG9ydCBidXJnZXJJY29uIGZyb20gJy4vY29tcG9uZW50cy9idXJnZXItaWNvbic7XG5pbXBvcnQgdG9vZ2xlIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0JztcblxuY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi1pdGVtJyk7XG5saW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZ2FtZUZpZWxkLnJlbW92ZUNvbnRlbnQoKTtcbiAgICBidXJnZXJJY29uLmJ1cmdlckJveC5jbGljaygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW0uYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIGlmIChsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKSA9PT0gJ21haW4nKSB7XG4gICAgICB0b29nbGUuc3dpdGNoQm94LmNsYXNzTGlzdC5hZGQoJ3N3aXRjaC1kaXNhYmxlZCcpO1xuICAgICAgZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcbiAgICB9IGVsc2UgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpID09PSAnc3RhdGlzdGljcycpIHtcbiAgICAgIHN0YXRpc3RpY3MuYnVpbGRpbmdUYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnYW1lRmllbGQuc2V0Q29udGVudENhcmRzKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9