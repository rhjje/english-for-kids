(()=>{"use strict";(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.title=n,this.number=r}var n,r;return n=e,(r=[{key:"render",value:function(){return'<div class="card" data-number="'.concat(this.number,'">\n      <div class="card__image"><img src="').concat(this.image,'"></div>\n      <span class="card__name">').concat(this.title,"</span>\n    </div>")}}])&&t(n.prototype,r),e}(),n={init:function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){var e=t.flat(),n=[];e.forEach((function(t){var e={word:t.word,translation:t.translation,category:t.category,clicks:0,correct:0,wrong:0,percent:0};n.push(e)})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))}))},countingStatistics:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));n.forEach((function(n){if(n.word===t){switch(e){case"clicks":n.clicks+=1;break;case"correct":n.correct+=1;break;case"wrong":n.wrong+=1}n.wrong+n.correct>0&&(n.percent=100*n.wrong/(n.wrong+n.correct))}})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))},buildingTable:function(t){for(var e=this,n=document.querySelector(".container");n.firstChild;)n.removeChild(n.firstChild);var r=document.createElement("div");r.classList.add("wrapper");var a=document.createElement("div");a.classList.add("panel-buttons");var s=document.createElement("div");s.classList.add("repeat-button");var i=document.createElement("span");i.innerText="Repeat difficult words",s.appendChild(i);var c=document.createElement("div");c.classList.add("reset-button");var o=document.createElement("span");o.innerText="Reset",c.appendChild(o),a.appendChild(s),a.appendChild(c);var d=document.createElement("table");d.classList.add("table"),r.appendChild(a),r.appendChild(d),n.appendChild(r),c.addEventListener("click",(function(){e.resetLocalStorage()})),s.addEventListener("click",(function(){e.repeatWords()})),d.innerHTML="<tr>\n      <th>Word</th>\n      <th>Translation</th>\n      <th>Category</th>\n      <th>Clicks</th>\n      <th>Correct</th>\n      <th>Wrong</th>\n      <th>% errors</th>\n    </tr>",t.forEach((function(t){d.innerHTML+="<tr>\n        <td>".concat(t.word,"</td>\n        <td>").concat(t.translation,"</td>\n        <td>").concat(t.category,"</td>\n        <td>").concat(t.clicks,"</td>\n        <td>").concat(t.correct,"</td>\n        <td>").concat(t.wrong,"</td>\n        <td>").concat(t.percent.toFixed(1),"</td>\n      </tr>")})),document.querySelectorAll("th").forEach((function(t){t.addEventListener("click",(function(){"↓"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!1):"↑"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!0):e.sortColumn(t.innerText,!0)}))}))},sortObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";return t.sort((function(t,n){return t["".concat(e)]>n["".concat(e)]?1:t["".concat(e)]<n["".concat(e)]?-1:0})),t},sortColumn:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));"% errors"===t&&(t="percent");var r,a,s=this.sortObject(n,t.toLowerCase());switch(e&&t.match(/Word|Translation|Category/)?(r="&darr;",this.buildingTable(s)):t.match(/Word|Translation|Category/)?(r="&uarr;",this.buildingTable(s.reverse())):e?(r="&darr;",this.buildingTable(s.reverse())):(r="&uarr;",this.buildingTable(s)),t){case"Word":a=document.querySelector("th:first-child");break;case"Translation":a=document.querySelector("th:nth-child(2)");break;case"Category":a=document.querySelector("th:nth-child(3)");break;case"Clicks":a=document.querySelector("th:nth-child(4)");break;case"Correct":a=document.querySelector("th:nth-child(5)");break;case"Wrong":a=document.querySelector("th:nth-child(6)");break;case"percent":a=document.querySelector("th:last-child")}a.innerHTML="".concat(r," ").concat(a.innerHTML)}};localStorage.getItem("english-for-kids")||n.init();const r=n;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.word=n,this.translation=r,this.number=a,this.card=null,this.cardFront=null,this.cardBack=null}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this.card=document.createElement("div"),this.card.classList.add("card-word");var e=(6*Math.random()-3).toFixed(1);this.card.setAttribute("style","transform: rotate(".concat(e,"deg);")),this.cardFront=document.createElement("div"),this.cardFront.classList.add("card-word__front"),this.cardFront.setAttribute("data-number","".concat(this.number)),this.cardFront.setAttribute("data-name","".concat(this.word));var n=document.createElement("div");n.classList.add("card-word__front-image");var a=document.createElement("img");a.src="./".concat(this.image),n.appendChild(a);var s=document.createElement("div");s.classList.add("card-word__front-name"),s.innerText="".concat(this.word);var i=document.querySelector("label > input");this.cardFront.addEventListener("click",(function(e){e.target.classList.contains("reverse-button")||i.checked||(r.countingStatistics(t.word,"clicks"),t.toVoice())}));var c=document.createElement("div");c.classList.add("reverse-button"),c.setAttribute("data-number","".concat(this.number)),c.addEventListener("click",(function(){t.reverseCard()})),this.cardFront.appendChild(n),this.cardFront.appendChild(s),this.cardFront.appendChild(c),this.cardBack=document.createElement("div"),this.cardBack.classList.add("card-word__back");var o=document.createElement("div");o.classList.add("card-word__back-image");var d=document.createElement("img");d.src="./".concat(this.image),o.appendChild(d);var l=document.createElement("div");return l.classList.add("card-word__back-name"),l.innerText="".concat(this.translation),this.cardBack.appendChild(o),this.cardBack.appendChild(l),this.card.appendChild(this.cardFront),this.card.appendChild(this.cardBack),this.card}},{key:"toVoice",value:function(){var t=new Audio("./assets/sounds/".concat(this.word,".mp3"));t.load(),t.play()}},{key:"reverseCard",value:function(){var t=this;this.cardFront.style.transform="rotateY(180deg)",this.cardBack.style.transform="rotateY(360deg)",this.card.addEventListener("mouseleave",(function(){t.cardFront.style.transform="rotateY(0deg)",t.cardBack.style.transform="rotateY(180deg)"}))}}])&&a(e.prototype,n),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"render",value:function(){return'<div class="switch-container">\n      <div class="train-mode active-mode">Train</div>\n      <label class="switch">\n        <input type="checkbox">\n        <span class="slider round"></span>\n      </label>\n      <div class="game-mode">Play</div>\n    </div>'}}],null&&i(e.prototype,null),n&&i(e,n),t}();const o={startGameButton:null,boxStars:null,currentWords:[],correctAnswer:null,wrongAnswer:null,soundWin:null,soundLose:null,repeat:null,currentWord:null,mistakes:0,wordsUsed:[],init:function(){var t=this;this.repeat=!1,this.currentWords=[],this.currentWord=null,this.wordsUsed=[],this.startGameButton=document.createElement("div"),this.startGameButton.classList.add("button-play");var e=document.createElement("span");e.innerText="Start game",this.startGameButton.appendChild(e),this.boxStars=document.createElement("div"),this.boxStars.classList.add("box-stars"),this.correctAnswer=new Audio("./assets/sounds/correct.mp3"),this.wrongAnswer=new Audio("./assets/sounds/error.mp3"),this.soundWin=new Audio("./assets/sounds/success.mp3"),this.soundLose=new Audio("./assets/sounds/failure.mp3"),document.querySelector(".container .wrapper").appendChild(this.startGameButton),document.querySelector(".container .wrapper").appendChild(this.boxStars),this.startGameButton.addEventListener("click",(function(){t.repeat?t.currentWord.play():(t.startGameButton.classList.add("repeat"),document.querySelector(".button-play > span").innerText="",t.repeat=!0,t.play())}))},play:function(){var t=this,e=document.querySelectorAll(".card-word__front");e.forEach((function(e){t.currentWords.push(e.getAttribute("data-name"))})),this.currentWords.sort((function(){return Math.random()-.5}));var n=0,a=function(){t.currentWord=new Audio("./assets/sounds/".concat(t.currentWords[n],".mp3")),t.currentWord.load(),t.currentWord.play()};a(),e.forEach((function(e){e.addEventListener("click",(function(){if(e.getAttribute("data-name")===t.currentWords[n]){t.wordsUsed.push(t.currentWords[n]),r.countingStatistics(t.currentWords[n],"correct"),t.correctAnswer.play(),e.style.filter="blur(5px)";var s=document.createElement("img");s.src="./assets/icons/star-win.svg",t.boxStars.appendChild(s),(n+=1)<8?setTimeout(a,500):setTimeout((function(){t.finishGame()}),1e3)}else if(!t.wordsUsed.includes(e.getAttribute("data-name"))){r.countingStatistics(t.currentWords[n],"wrong"),t.mistakes+=1;var i=document.createElement("img");i.src="./assets/icons/star.svg",t.boxStars.appendChild(i),t.wrongAnswer.play()}}))}))},finishGame:function(){var t,e;l.removeContent(),0===this.mistakes?(t="Congratulations! You win!",e="./assets/icons/success.svg",this.soundWin.play()):(t="You lost(: Train and try again!</br>\n        You made ".concat(this.mistakes," mistake(s)."),e="./assets/icons/failure.svg",this.soundLose.play());var n=document.querySelector(".container"),r='<span class="win-title">'.concat(t,'</span>\n    <div class="win-image"><img src="').concat(e,'"></div>');n.innerHTML+=r;var a=document.createElement("div");a.classList.add("buttons-finish");var s=document.createElement("button");s.classList.add("new-game"),s.innerText="New game";var i=document.createElement("button");i.classList.add("main-menu"),i.innerText="Main menu",a.appendChild(s),a.appendChild(i),s.addEventListener("click",(function(){l.setContentCards(l.activeCard)})),i.addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")})),n.appendChild(a),this.mistakes=0}};var d={activeCard:null,title:{0:"Action (set A)",1:"Action (set B)",2:"Action (set C)",3:"Adjective",4:"Animal (set A)",5:"Animal (set B)",6:"Clothes",7:"Emotion"},images:{0:"./assets/images/categories/actionA.jpg",1:"./assets/images/categories/actionB.jpg",2:"./assets/images/categories/actionC.jpg",3:"./assets/images/categories/adjective.jpg",4:"./assets/images/categories/animalA.jpg",5:"./assets/images/categories/animalB.jpg",6:"./assets/images/categories/clothes.jpg",7:"./assets/images/categories/emotion.jpg"},setTitleCards:function(){var t=this;this.removeContent();var n=document.createElement("div");n.classList.add("wrapper"),document.querySelector(".container").appendChild(n);var r=document.createElement("div");r.classList.add("cards-title");for(var a=0;a<8;a+=1){var s=new e(this.images[a],this.title[a],a);r.innerHTML+=s.render()}r.innerHTML+='<div class="subtitle">Hello! choose a category:</div>',n.appendChild(r),document.querySelectorAll(".card").forEach((function(e){e.addEventListener("click",(function(){t.removeContent(),t.activeCard=e.getAttribute("data-number"),t.setContentCards(t.activeCard)}))}))},setContentCards:function(t){this.removeContent();var e=document.createElement("div");e.classList.add("wrapper"),e.innerHTML+=c.render(),document.querySelector(".container").appendChild(e);var n=document.createElement("div");n.classList.add("cards"),fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(r){for(var a=r[t],i=0;i<a.length;i+=1){var c=new s(a[i].image,a[i].word,a[i].translation,i);n.appendChild(c.render())}e.appendChild(n)}));var r=document.querySelector("input[type=checkbox]");r.addEventListener("change",(function(){var t=document.querySelectorAll(".card-word__front-image");r.checked?(t.forEach((function(t){t.style.height="260px"})),o.init()):(t.forEach((function(t){t.style.height="200px"})),document.querySelector(".container .wrapper").removeChild(document.querySelector(".button-play")),document.querySelector(".container .wrapper").removeChild(document.querySelector(".box-stars")))}))},removeContent:function(){for(var t=document.querySelector(".container");t.firstChild;)t.removeChild(t.firstChild)}};d.setTitleCards();const l=d;var u=document.querySelector(".modal"),m=document.querySelectorAll(".navigation-item"),h={burgerBox:null,buttonOff:!0,init:function(){var t=this;this.burgerBox=document.createElement("div"),this.burgerBox.className="burger-menu__button";var e=document.createElement("div");e.className="first-line";var n=document.createElement("div");n.className="second-line";var r=document.createElement("div");r.className="third-line",this.burgerBox.appendChild(e),this.burgerBox.appendChild(n),this.burgerBox.appendChild(r),this.burgerBox.addEventListener("click",(function(){m.forEach((function(t){t.classList.toggle("navigation-item_open")})),document.querySelector(".burger-menu").classList.toggle("burger-menu_open"),t.buttonOff?(e.style.transform="translateY(13px) rotate(45deg)",n.style.transform="translateX(-40px)",r.style.transform="translateY(-13px) rotate(-45deg)",u.classList.remove("modal-disabled"),t.buttonOff=!1):(e.style.transform="translateY(0) rotate(0)",n.style.transform="translateX(0)",r.style.transform="translateY(0) rotate(0)",u.classList.add("modal-disabled"),t.buttonOff=!0)})),document.querySelector(".header .wrapper").prepend(this.burgerBox)}};h.init(),u.addEventListener("click",(function(){h.burgerBox.click()}));const v=h;document.querySelectorAll(".navigation-item").forEach((function(t){t.addEventListener("click",(function(){if(v.burgerBox.click(),document.querySelector(".navigation-item.active").classList.remove("active"),t.classList.add("active"),"main"===t.getAttribute("data-number"))l.setTitleCards();else if("statistics"===t.getAttribute("data-number")){var e=JSON.parse(localStorage.getItem("english-for-kids")),n=r.sortObject(e);r.buildingTable(n),document.querySelector("th:nth-child(1)").innerHTML="&darr; Word"}else l.removeContent(),l.setContentCards(t.getAttribute("data-number"))}))})),document.querySelector(".title").addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")})),document.addEventListener("DOMContentLoaded",(function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){!function(t){for(var e=0;e<t.length;e+=1)(new Image).src="./".concat(t[e])}(t.flat().map((function(t){return t.image})))}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbXBvbmVudHMvdGl0bGUtY2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3N0YXRpc3RpY3MuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3BsYXktZ2FtZS5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2dhbWUtZmllbGQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlci1pY29uLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvYnVyZ2VyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJUaXRsZUNhcmQiLCJpbWFnZSIsInRpdGxlIiwibnVtYmVyIiwidGhpcyIsInN0YXRpc3RpY3MiLCJpbml0IiwiZmV0Y2giLCJ0aGVuIiwicmVzdWx0IiwianNvbiIsImFsbFdvcmRzIiwiZmxhdCIsImNvbW1vbkFycmF5IiwiZm9yRWFjaCIsIml0ZW0iLCJjdXJyZW50T2JqIiwid29yZCIsInRyYW5zbGF0aW9uIiwiY2F0ZWdvcnkiLCJjbGlja3MiLCJjb3JyZWN0Iiwid3JvbmciLCJwZXJjZW50IiwicHVzaCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiY291bnRpbmdTdGF0aXN0aWNzIiwic3RhdCIsInBhcnNlIiwiZ2V0SXRlbSIsImJ1aWxkaW5nVGFibGUiLCJkYXRhIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwic3RhdENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJidXR0b25zIiwicmVwZWF0QnV0dG9uIiwic3BhblJlcGVhdCIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwicmVzZXRCdXR0b24iLCJzcGFuUmVzZXQiLCJ0YWJsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNldExvY2FsU3RvcmFnZSIsInJlcGVhdFdvcmRzIiwiaW5uZXJIVE1MIiwicm93IiwidG9GaXhlZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoZWFkaW5nIiwic29ydENvbHVtbiIsInNsaWNlIiwic29ydE9iamVjdCIsIm9iaiIsImtleSIsInNvcnQiLCJhIiwiYiIsImRpcmVjdE9yZGVyIiwiYXJyb3ciLCJkYXRhRm9yVGFibGUiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwicmV2ZXJzZSIsIkNhcmQiLCJjYXJkIiwiY2FyZEZyb250IiwiY2FyZEJhY2siLCJyYW5kb21Sb3RhdGUiLCJNYXRoIiwicmFuZG9tIiwic2V0QXR0cmlidXRlIiwiY2FyZEZyb250SW1hZ2UiLCJpbWdGcm9udCIsInNyYyIsImNhcmRGcm9udE5hbWUiLCJnYW1lTW9kZSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjaGVja2VkIiwidG9Wb2ljZSIsImNhcmRCdXR0b24iLCJyZXZlcnNlQ2FyZCIsImNhcmRCYWNrSW1hZ2UiLCJpbWciLCJjYXJkQmFja05hbWUiLCJhdWRpbyIsIkF1ZGlvIiwibG9hZCIsInBsYXkiLCJzdHlsZSIsInRyYW5zZm9ybSIsIlN3aXRjaGVyIiwic3RhcnRHYW1lQnV0dG9uIiwiYm94U3RhcnMiLCJjdXJyZW50V29yZHMiLCJjb3JyZWN0QW5zd2VyIiwid3JvbmdBbnN3ZXIiLCJzb3VuZFdpbiIsInNvdW5kTG9zZSIsInJlcGVhdCIsImN1cnJlbnRXb3JkIiwibWlzdGFrZXMiLCJ3b3Jkc1VzZWQiLCJjdXJyZW50Q2FyZHMiLCJnZXRBdHRyaWJ1dGUiLCJwbGF5V29yZCIsImZpbHRlciIsIndpblN0YXJzIiwic2V0VGltZW91dCIsImZpbmlzaEdhbWUiLCJpbmNsdWRlcyIsInNwYW4iLCJnYW1lRmllbGQiLCJmaW5pc2hTY3JlZW4iLCJidXR0b25zRmluaXNoIiwibmV3R2FtZUJ1dHRvbiIsIm1haW5NZW51QnV0dG9uIiwicmVtb3ZlIiwiYWN0aXZlQ2FyZCIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiaW1hZ2VzIiwic2V0VGl0bGVDYXJkcyIsInJlbW92ZUNvbnRlbnQiLCJjYXJkc0NvbnRhaW5lciIsImkiLCJyZW5kZXIiLCJzZXRDb250ZW50Q2FyZHMiLCJsZW5ndGgiLCJpbnB1dCIsImNhcmRzIiwiaGVpZ2h0IiwicGxheUdhbWUiLCJjdXJyZW50Q29udGVudCIsIm1vZGFsV2luZG93IiwibmF2aWdhdGlvbkl0ZW1zIiwiYnVyZ2VySWNvbiIsImJ1cmdlckJveCIsImJ1dHRvbk9mZiIsImNsYXNzTmFtZSIsImZpcnN0TEluZSIsInNlY29uZExpbmUiLCJ0aGlyZExpbmUiLCJ0b2dnbGUiLCJwcmVwZW5kIiwiY2xpY2siLCJsaW5rIiwiYXJyIiwiSW1hZ2UiLCJwcmVsb2FkSW1hZ2VzIiwibWFwIl0sIm1hcHBpbmdzIjoibU1BQXFCQSxFLFdBQ25CLFdBQVlDLEVBQU9DLEVBQU9DLEksNEZBQVEsU0FDaENDLEtBQUtILE1BQVFBLEVBQ2JHLEtBQUtGLE1BQVFBLEVBQ2JFLEtBQUtELE9BQVNBLEUsc0RBU2QsTUFMYSxrQ0FBSCxPQUFxQ0MsS0FBS0QsT0FBMUMsd0RBQzZCQyxLQUFLSCxNQURsQyxvREFFbUJHLEtBQUtGLE1BRnhCLDRCLHNCQ1BSRyxFQUFhLENBQ2pCQyxLQURpQixXQUVmQyxNQUFNLDRCQUNIQyxNQUFLLFNBQUNDLEdBQUQsT0FBWUEsRUFBT0MsVUFDeEJGLE1BQUssU0FBQ0MsR0FDTCxJQUFNRSxFQUFXRixFQUFPRyxPQUNsQkMsRUFBYyxHQUNwQkYsRUFBU0csU0FBUSxT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NEJBQ0hDLE1BQUssU0FBQ0MsR0FBRCxPQUFZQSxFQUFPQyxVQUN4QkYsTUFBSyxTQUFDQyxJQUdMLFNBQXVCNEosR0FDckIsSUFBSyxJQUFJdEIsRUFBSSxFQUFHQSxFQUFJc0IsRUFBSW5CLE9BQVFILEdBQUssR0FDckIsSUFBSXVCLE9BQ1psRixJQUFOLFlBQWlCaUYsRUFBSXRCLElBR3pCd0IsQ0FSZTlKLEVBQU9HLE9BQU80SixLQUFJLFNBQUN6SixHQUFELE9BQVVBLEVBQUtkLGlCIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpdGxlQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGltYWdlLCB0aXRsZSwgbnVtYmVyKSB7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYXJkID0gYDxkaXYgY2xhc3M9XCJjYXJkXCIgZGF0YS1udW1iZXI9XCIke3RoaXMubnVtYmVyfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmRfX2ltYWdlXCI+PGltZyBzcmM9XCIke3RoaXMuaW1hZ2V9XCI+PC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz1cImNhcmRfX25hbWVcIj4ke3RoaXMudGl0bGV9PC9zcGFuPlxuICAgIDwvZGl2PmA7XG5cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmNvbnN0IHN0YXRpc3RpY3MgPSB7XG4gIGluaXQoKSB7XG4gICAgZmV0Y2goJy4vYXNzZXRzL2pzb24vY2FyZHMuanNvbicpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBhbGxXb3JkcyA9IHJlc3VsdC5mbGF0KCk7XG4gICAgICAgIGNvbnN0IGNvbW1vbkFycmF5ID0gW107XG4gICAgICAgIGFsbFdvcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50T2JqID0ge1xuICAgICAgICAgICAgd29yZDogaXRlbS53b3JkLFxuICAgICAgICAgICAgdHJhbnNsYXRpb246IGl0ZW0udHJhbnNsYXRpb24sXG4gICAgICAgICAgICBjYXRlZ29yeTogaXRlbS5jYXRlZ29yeSxcbiAgICAgICAgICAgIGNsaWNrczogMCxcbiAgICAgICAgICAgIGNvcnJlY3Q6IDAsXG4gICAgICAgICAgICB3cm9uZzogMCxcbiAgICAgICAgICAgIHBlcmNlbnQ6IDAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb21tb25BcnJheS5wdXNoKGN1cnJlbnRPYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnLCBgJHtKU09OLnN0cmluZ2lmeShjb21tb25BcnJheSl9YCk7XG4gICAgICB9KTtcbiAgfSxcblxuICBjb3VudGluZ1N0YXRpc3RpY3Mod29yZCwgY2F0ZWdvcnkpIHtcbiAgICBjb25zdCBzdGF0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycpKTtcbiAgICBzdGF0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLndvcmQgPT09IHdvcmQpIHtcbiAgICAgICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgICAgIGNhc2UgJ2NsaWNrcyc6XG4gICAgICAgICAgICBpdGVtLmNsaWNrcyArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY29ycmVjdCc6XG4gICAgICAgICAgICBpdGVtLmNvcnJlY3QgKz0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3dyb25nJzpcbiAgICAgICAgICAgIGl0ZW0ud3JvbmcgKz0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS53cm9uZyArIGl0ZW0uY29ycmVjdCA+IDApIHtcbiAgICAgICAgICBpdGVtLnBlcmNlbnQgPSAoaXRlbS53cm9uZyAqIDEwMCkgLyAoaXRlbS53cm9uZyArIGl0ZW0uY29ycmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycsIGAke0pTT04uc3RyaW5naWZ5KHN0YXQpfWApO1xuICB9LFxuXG4gIGJ1aWxkaW5nVGFibGUoZGF0YSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHN0YXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnd3JhcHBlcicpO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgncGFuZWwtYnV0dG9ucycpO1xuXG4gICAgY29uc3QgcmVwZWF0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVwZWF0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3JlcGVhdC1idXR0b24nKTtcbiAgICBjb25zdCBzcGFuUmVwZWF0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW5SZXBlYXQuaW5uZXJUZXh0ID0gJ1JlcGVhdCBkaWZmaWN1bHQgd29yZHMnO1xuICAgIHJlcGVhdEJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuUmVwZWF0KTtcblxuICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVzZXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVzZXQtYnV0dG9uJyk7XG4gICAgY29uc3Qgc3BhblJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW5SZXNldC5pbm5lclRleHQgPSAnUmVzZXQnO1xuICAgIHJlc2V0QnV0dG9uLmFwcGVuZENoaWxkKHNwYW5SZXNldCk7XG5cbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlcGVhdEJ1dHRvbik7XG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChyZXNldEJ1dHRvbik7XG5cbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgdGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblxuICAgIC8vIGFkZCBlbGVtZW50cyB0byBwYWdlXG4gICAgc3RhdENvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zKTtcbiAgICBzdGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdENvbnRhaW5lcik7XG5cbiAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmVzZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICB9KTtcblxuICAgIHJlcGVhdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmVwZWF0V29yZHMoKTtcbiAgICB9KTtcblxuICAgIC8vIHJlbmRlcmluZyB0YWJsZVxuICAgIHRhYmxlLmlubmVySFRNTCA9IGA8dHI+XG4gICAgICA8dGg+V29yZDwvdGg+XG4gICAgICA8dGg+VHJhbnNsYXRpb248L3RoPlxuICAgICAgPHRoPkNhdGVnb3J5PC90aD5cbiAgICAgIDx0aD5DbGlja3M8L3RoPlxuICAgICAgPHRoPkNvcnJlY3Q8L3RoPlxuICAgICAgPHRoPldyb25nPC90aD5cbiAgICAgIDx0aD4lIGVycm9yczwvdGg+XG4gICAgPC90cj5gO1xuICAgIGRhdGEuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICB0YWJsZS5pbm5lckhUTUwgKz0gYDx0cj5cbiAgICAgICAgPHRkPiR7cm93LndvcmR9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LnRyYW5zbGF0aW9ufTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jYXRlZ29yeX08L3RkPlxuICAgICAgICA8dGQ+JHtyb3cuY2xpY2tzfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jb3JyZWN0fTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy53cm9uZ308L3RkPlxuICAgICAgICA8dGQ+JHtyb3cucGVyY2VudC50b0ZpeGVkKDEpfTwvdGQ+XG4gICAgICA8L3RyPmA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0YWJsZUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpO1xuICAgIHRhYmxlSGVhZC5mb3JFYWNoKChoZWFkaW5nKSA9PiB7XG4gICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoaGVhZGluZy5pbm5lclRleHRbMF0gPT09ICfihpMnKSB7XG4gICAgICAgICAgdGhpcy5zb3J0Q29sdW1uKGhlYWRpbmcuaW5uZXJUZXh0LnNsaWNlKDIpLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhZGluZy5pbm5lclRleHRbMF0gPT09ICfihpEnKSB7XG4gICAgICAgICAgdGhpcy5zb3J0Q29sdW1uKGhlYWRpbmcuaW5uZXJUZXh0LnNsaWNlKDIpLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzb3J0T2JqZWN0KG9iaiwga2V5ID0gJ3dvcmQnKSB7XG4gICAgb2JqLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhW2Ake2tleX1gXSA+IGJbYCR7a2V5fWBdKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaWYgKGFbYCR7a2V5fWBdIDwgYltgJHtrZXl9YF0pIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIHNvcnRDb2x1bW4oa2V5LCBkaXJlY3RPcmRlcikge1xuICAgIGNvbnN0IHN0YXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpO1xuICAgIGlmIChrZXkgPT09ICclIGVycm9ycycpIHtcbiAgICAgIGtleSA9ICdwZXJjZW50JztcbiAgICB9XG4gICAgY29uc3QgZGF0YUZvclRhYmxlID0gdGhpcy5zb3J0T2JqZWN0KHN0YXQsIGtleS50b0xvd2VyQ2FzZSgpKTtcblxuICAgIGxldCBhcnJvdztcbiAgICBpZiAoZGlyZWN0T3JkZXIgJiYga2V5Lm1hdGNoKC9Xb3JkfFRyYW5zbGF0aW9ufENhdGVnb3J5LykpIHtcbiAgICAgIGFycm93ID0gJyZkYXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvV29yZHxUcmFuc2xhdGlvbnxDYXRlZ29yeS8pKSB7XG4gICAgICBhcnJvdyA9ICcmdWFycjsnO1xuICAgICAgdGhpcy5idWlsZGluZ1RhYmxlKGRhdGFGb3JUYWJsZS5yZXZlcnNlKCkpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0T3JkZXIpIHtcbiAgICAgIGFycm93ID0gJyZkYXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycm93ID0gJyZ1YXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICB9XG5cbiAgICBsZXQgdGl0bGU7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgJ1dvcmQnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOmZpcnN0LWNoaWxkJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVHJhbnNsYXRpb24nOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgyKScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NhdGVnb3J5JzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoMyknKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdDbGlja3MnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg0KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NvcnJlY3QnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg1KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1dyb25nJzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoNiknKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZXJjZW50JzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpsYXN0LWNoaWxkJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRpdGxlLmlubmVySFRNTCA9IGAke2Fycm93fSAke3RpdGxlLmlubmVySFRNTH1gO1xuICB9LFxufTtcblxuaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycpKSB7XG4gIHN0YXRpc3RpY3MuaW5pdCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdGF0aXN0aWNzO1xuIiwiaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi4vc3RhdGlzdGljcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihpbWFnZSwgd29yZCwgdHJhbnNsYXRpb24sIG51bWJlcikge1xuICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB0aGlzLndvcmQgPSB3b3JkO1xuICAgIHRoaXMudHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbjtcbiAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgICB0aGlzLmNhcmQgPSBudWxsO1xuICAgIHRoaXMuY2FyZEZyb250ID0gbnVsbDtcbiAgICB0aGlzLmNhcmRCYWNrID0gbnVsbDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkJyk7XG4gICAgY29uc3QgcmFuZG9tUm90YXRlID0gKE1hdGgucmFuZG9tKCkgKiAoMyAtICgtMykpIC0gMykudG9GaXhlZCgxKTtcbiAgICB0aGlzLmNhcmQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0cmFuc2Zvcm06IHJvdGF0ZSgke3JhbmRvbVJvdGF0ZX1kZWcpO2ApO1xuXG4gICAgdGhpcy5jYXJkRnJvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmRGcm9udC5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250Jyk7XG4gICAgdGhpcy5jYXJkRnJvbnQuc2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicsIGAke3RoaXMubnVtYmVyfWApO1xuICAgIHRoaXMuY2FyZEZyb250LnNldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJywgYCR7dGhpcy53b3JkfWApO1xuXG4gICAgY29uc3QgY2FyZEZyb250SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkRnJvbnRJbWFnZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250LWltYWdlJyk7XG4gICAgY29uc3QgaW1nRnJvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWdGcm9udC5zcmMgPSBgLi8ke3RoaXMuaW1hZ2V9YDtcbiAgICBjYXJkRnJvbnRJbWFnZS5hcHBlbmRDaGlsZChpbWdGcm9udCk7XG5cbiAgICBjb25zdCBjYXJkRnJvbnROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEZyb250TmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250LW5hbWUnKTtcbiAgICBjYXJkRnJvbnROYW1lLmlubmVyVGV4dCA9IGAke3RoaXMud29yZH1gO1xuXG4gICAgY29uc3QgZ2FtZU1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCA+IGlucHV0Jyk7XG5cbiAgICB0aGlzLmNhcmRGcm9udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXZlcnNlLWJ1dHRvbicpICYmICFnYW1lTW9kZS5jaGVja2VkKSB7XG4gICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMud29yZCwgJ2NsaWNrcycpO1xuICAgICAgICB0aGlzLnRvVm9pY2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcmRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3JldmVyc2UtYnV0dG9uJyk7XG4gICAgY2FyZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJywgYCR7dGhpcy5udW1iZXJ9YCk7XG4gICAgY2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmV2ZXJzZUNhcmQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRGcm9udEltYWdlKTtcbiAgICB0aGlzLmNhcmRGcm9udC5hcHBlbmRDaGlsZChjYXJkRnJvbnROYW1lKTtcbiAgICB0aGlzLmNhcmRGcm9udC5hcHBlbmRDaGlsZChjYXJkQnV0dG9uKTtcblxuICAgIHRoaXMuY2FyZEJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmRCYWNrLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fYmFjaycpO1xuXG4gICAgY29uc3QgY2FyZEJhY2tJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRCYWNrSW1hZ2UuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19iYWNrLWltYWdlJyk7XG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGAuLyR7dGhpcy5pbWFnZX1gO1xuICAgIGNhcmRCYWNrSW1hZ2UuYXBwZW5kQ2hpbGQoaW1nKTtcblxuICAgIGNvbnN0IGNhcmRCYWNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRCYWNrTmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2stbmFtZScpO1xuICAgIGNhcmRCYWNrTmFtZS5pbm5lclRleHQgPSBgJHt0aGlzLnRyYW5zbGF0aW9ufWA7XG5cbiAgICB0aGlzLmNhcmRCYWNrLmFwcGVuZENoaWxkKGNhcmRCYWNrSW1hZ2UpO1xuICAgIHRoaXMuY2FyZEJhY2suYXBwZW5kQ2hpbGQoY2FyZEJhY2tOYW1lKTtcblxuICAgIHRoaXMuY2FyZC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRGcm9udCk7XG4gICAgdGhpcy5jYXJkLmFwcGVuZENoaWxkKHRoaXMuY2FyZEJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FyZDtcbiAgfVxuXG4gIHRvVm9pY2UoKSB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3RoaXMud29yZH0ubXAzYCk7XG4gICAgYXVkaW8ubG9hZCgpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgfVxuXG4gIHJldmVyc2VDYXJkKCkge1xuICAgIHRoaXMuY2FyZEZyb250LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIHRoaXMuY2FyZEJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMzYwZGVnKSc7XG4gICAgdGhpcy5jYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhcmRGcm9udC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlWSgwZGVnKSc7XG4gICAgICB0aGlzLmNhcmRCYWNrLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hlciB7XG4gIHN0YXRpYyByZW5kZXIoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGA8ZGl2IGNsYXNzPVwic3dpdGNoLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRyYWluLW1vZGUgYWN0aXZlLW1vZGVcIj5UcmFpbjwvZGl2PlxuICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZXIgcm91bmRcIj48L3NwYW4+XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzcz1cImdhbWUtbW9kZVwiPlBsYXk8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0aXN0aWNzJztcbmltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcblxuY29uc3QgcGxheUdhbWUgPSB7XG4gIHN0YXJ0R2FtZUJ1dHRvbjogbnVsbCxcbiAgYm94U3RhcnM6IG51bGwsXG4gIGN1cnJlbnRXb3JkczogW10sXG4gIGNvcnJlY3RBbnN3ZXI6IG51bGwsXG4gIHdyb25nQW5zd2VyOiBudWxsLFxuICBzb3VuZFdpbjogbnVsbCxcbiAgc291bmRMb3NlOiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGN1cnJlbnRXb3JkOiBudWxsLFxuICBtaXN0YWtlczogMCxcbiAgd29yZHNVc2VkOiBbXSxcblxuICBpbml0KCkge1xuICAgIHRoaXMucmVwZWF0ID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50V29yZHMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRXb3JkID0gbnVsbDtcbiAgICB0aGlzLndvcmRzVXNlZCA9IFtdO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tcGxheScpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdTdGFydCBnYW1lJztcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICB0aGlzLmJveFN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5ib3hTdGFycy5jbGFzc0xpc3QuYWRkKCdib3gtc3RhcnMnKTtcblxuICAgIHRoaXMuY29ycmVjdEFuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2NvcnJlY3QubXAzJyk7XG4gICAgdGhpcy53cm9uZ0Fuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2Vycm9yLm1wMycpO1xuICAgIHRoaXMuc291bmRXaW4gPSBuZXcgQXVkaW8oJy4vYXNzZXRzL3NvdW5kcy9zdWNjZXNzLm1wMycpO1xuICAgIHRoaXMuc291bmRMb3NlID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvZmFpbHVyZS5tcDMnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5hcHBlbmRDaGlsZCh0aGlzLnN0YXJ0R2FtZUJ1dHRvbik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpLmFwcGVuZENoaWxkKHRoaXMuYm94U3RhcnMpO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50V29yZC5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXBlYXQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5ID4gc3BhbicpLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLnJlcGVhdCA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBsYXkoKSB7XG4gICAgY29uc3QgY3VycmVudENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd29yZF9fZnJvbnQnKTtcbiAgICBjdXJyZW50Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50V29yZHMucHVzaChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFdvcmRzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICBsZXQgY3VycmVudFdvcmQgPSAwO1xuXG4gICAgY29uc3QgcGxheVdvcmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkID0gbmV3IEF1ZGlvKGAuL2Fzc2V0cy9zb3VuZHMvJHt0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF19Lm1wM2ApO1xuICAgICAgdGhpcy5jdXJyZW50V29yZC5sb2FkKCk7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgcGxheVdvcmQoKTtcblxuICAgIGN1cnJlbnRDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpID09PSB0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF0pIHtcbiAgICAgICAgICB0aGlzLndvcmRzVXNlZC5wdXNoKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSk7XG4gICAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdLCAnY29ycmVjdCcpO1xuICAgICAgICAgIHRoaXMuY29ycmVjdEFuc3dlci5wbGF5KCk7XG4gICAgICAgICAgY2FyZC5zdHlsZS5maWx0ZXIgPSAnYmx1cig1cHgpJztcblxuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXItd2luLnN2Zyc7XG4gICAgICAgICAgdGhpcy5ib3hTdGFycy5hcHBlbmRDaGlsZCh3aW5TdGFycyk7XG5cbiAgICAgICAgICBjdXJyZW50V29yZCArPSAxO1xuICAgICAgICAgIGlmIChjdXJyZW50V29yZCA8IDgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGxheVdvcmQsIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmZpbmlzaEdhbWUoKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy53b3Jkc1VzZWQuaW5jbHVkZXMoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpKSkge1xuICAgICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSwgJ3dyb25nJyk7XG4gICAgICAgICAgdGhpcy5taXN0YWtlcyArPSAxO1xuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXIuc3ZnJztcbiAgICAgICAgICB0aGlzLmJveFN0YXJzLmFwcGVuZENoaWxkKHdpblN0YXJzKTtcblxuICAgICAgICAgIHRoaXMud3JvbmdBbnN3ZXIucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBmaW5pc2hHYW1lKCkge1xuICAgIGdhbWVGaWVsZC5yZW1vdmVDb250ZW50KCk7XG5cbiAgICBsZXQgc3BhbjtcbiAgICBsZXQgc3JjO1xuICAgIGlmICh0aGlzLm1pc3Rha2VzID09PSAwKSB7XG4gICAgICBzcGFuID0gJ0NvbmdyYXR1bGF0aW9ucyEgWW91IHdpbiEnO1xuICAgICAgc3JjID0gJy4vYXNzZXRzL2ljb25zL3N1Y2Nlc3Muc3ZnJztcbiAgICAgIHRoaXMuc291bmRXaW4ucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFuID0gYFlvdSBsb3N0KDogVHJhaW4gYW5kIHRyeSBhZ2FpbiE8L2JyPlxuICAgICAgICBZb3UgbWFkZSAke3RoaXMubWlzdGFrZXN9IG1pc3Rha2UocykuYDtcbiAgICAgIHNyYyA9ICcuL2Fzc2V0cy9pY29ucy9mYWlsdXJlLnN2Zyc7XG4gICAgICB0aGlzLnNvdW5kTG9zZS5wbGF5KCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICBjb25zdCBmaW5pc2hTY3JlZW4gPSBgPHNwYW4gY2xhc3M9XCJ3aW4tdGl0bGVcIj4ke3NwYW59PC9zcGFuPlxuICAgIDxkaXYgY2xhc3M9XCJ3aW4taW1hZ2VcIj48aW1nIHNyYz1cIiR7c3JjfVwiPjwvZGl2PmA7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCArPSBmaW5pc2hTY3JlZW47XG5cbiAgICBjb25zdCBidXR0b25zRmluaXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0ZpbmlzaC5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWZpbmlzaCcpO1xuICAgIGNvbnN0IG5ld0dhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25ldy1nYW1lJyk7XG4gICAgbmV3R2FtZUJ1dHRvbi5pbm5lclRleHQgPSAnTmV3IGdhbWUnO1xuICAgIGNvbnN0IG1haW5NZW51QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbWFpbk1lbnVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51Jyk7XG4gICAgbWFpbk1lbnVCdXR0b24uaW5uZXJUZXh0ID0gJ01haW4gbWVudSc7XG4gICAgYnV0dG9uc0ZpbmlzaC5hcHBlbmRDaGlsZChuZXdHYW1lQnV0dG9uKTtcbiAgICBidXR0b25zRmluaXNoLmFwcGVuZENoaWxkKG1haW5NZW51QnV0dG9uKTtcblxuICAgIG5ld0dhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBnYW1lRmllbGQuc2V0Q29udGVudENhcmRzKGdhbWVGaWVsZC5hY3RpdmVDYXJkKTtcbiAgICB9KTtcblxuICAgIG1haW5NZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW06Zmlyc3QtY2hpbGQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zRmluaXNoKTtcbiAgICB0aGlzLm1pc3Rha2VzID0gMDtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXlHYW1lO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmltcG9ydCBUaXRsZUNhcmQgZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlLWNhcmQnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9jb21wb25lbnRzL2NhcmQnO1xuaW1wb3J0IFN3aXRjaGVyIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuaW1wb3J0IHBsYXlHYW1lIGZyb20gJy4vcGxheS1nYW1lJztcblxuY29uc3QgZ2FtZUZpZWxkID0ge1xuICBhY3RpdmVDYXJkOiBudWxsLFxuICB0aXRsZToge1xuICAgIDA6ICdBY3Rpb24gKHNldCBBKScsXG4gICAgMTogJ0FjdGlvbiAoc2V0IEIpJyxcbiAgICAyOiAnQWN0aW9uIChzZXQgQyknLFxuICAgIDM6ICdBZGplY3RpdmUnLFxuICAgIDQ6ICdBbmltYWwgKHNldCBBKScsXG4gICAgNTogJ0FuaW1hbCAoc2V0IEIpJyxcbiAgICA2OiAnQ2xvdGhlcycsXG4gICAgNzogJ0Vtb3Rpb24nLFxuICB9LFxuXG4gIGltYWdlczoge1xuICAgIDA6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hY3Rpb25BLmpwZycsXG4gICAgMTogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FjdGlvbkIuanBnJyxcbiAgICAyOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWN0aW9uQy5qcGcnLFxuICAgIDM6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hZGplY3RpdmUuanBnJyxcbiAgICA0OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYW5pbWFsQS5qcGcnLFxuICAgIDU6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hbmltYWxCLmpwZycsXG4gICAgNjogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2Nsb3RoZXMuanBnJyxcbiAgICA3OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvZW1vdGlvbi5qcGcnLFxuICB9LFxuXG4gIHNldFRpdGxlQ2FyZHMoKSB7XG4gICAgdGhpcy5yZW1vdmVDb250ZW50KCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3dyYXBwZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZHMtdGl0bGUnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IFRpdGxlQ2FyZCh0aGlzLmltYWdlc1tpXSwgdGhpcy50aXRsZVtpXSwgaSk7XG4gICAgICBjYXJkc0NvbnRhaW5lci5pbm5lckhUTUwgKz0gY2FyZC5yZW5kZXIoKTtcbiAgICB9XG4gICAgY2FyZHNDb250YWluZXIuaW5uZXJIVE1MICs9ICc8ZGl2IGNsYXNzPVwic3VidGl0bGVcIj5IZWxsbyEgY2hvb3NlIGEgY2F0ZWdvcnk6PC9kaXY+JztcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuXG4gICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZCcpO1xuICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ29udGVudCgpO1xuICAgICAgICB0aGlzLmFjdGl2ZUNhcmQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50Q2FyZHModGhpcy5hY3RpdmVDYXJkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHNldENvbnRlbnRDYXJkcyhhY3RpdmVDYXJkKSB7XG4gICAgdGhpcy5yZW1vdmVDb250ZW50KCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3dyYXBwZXInKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MICs9IFN3aXRjaGVyLnJlbmRlcigpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjYXJkcycpO1xuXG4gICAgZmV0Y2goJy4vYXNzZXRzL2pzb24vY2FyZHMuanNvbicpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0W2FjdGl2ZUNhcmRdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YVtpXS5pbWFnZSwgZGF0YVtpXS53b3JkLCBkYXRhW2ldLnRyYW5zbGF0aW9uLCBpKTtcbiAgICAgICAgICBjYXJkc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJkLnJlbmRlcigpKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJyk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC13b3JkX19mcm9udC1pbWFnZScpO1xuICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gJzI2MHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXlHYW1lLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXBsYXknKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm94LXN0YXJzJykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbW92ZUNvbnRlbnQoKSB7XG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gICAgd2hpbGUgKGN1cnJlbnRDb250ZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIGN1cnJlbnRDb250ZW50LnJlbW92ZUNoaWxkKGN1cnJlbnRDb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSxcbn07XG5cbmdhbWVGaWVsZC5zZXRUaXRsZUNhcmRzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVGaWVsZDtcbiIsImNvbnN0IG1vZGFsV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5jb25zdCBuYXZpZ2F0aW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbi1pdGVtJyk7XG5cbmNvbnN0IGJ1cmdlckljb24gPSB7XG4gIGJ1cmdlckJveDogbnVsbCxcbiAgYnV0dG9uT2ZmOiB0cnVlLFxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5idXJnZXJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmJ1cmdlckJveC5jbGFzc05hbWUgPSAnYnVyZ2VyLW1lbnVfX2J1dHRvbic7XG5cbiAgICBjb25zdCBmaXJzdExJbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaXJzdExJbmUuY2xhc3NOYW1lID0gJ2ZpcnN0LWxpbmUnO1xuICAgIGNvbnN0IHNlY29uZExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZWNvbmRMaW5lLmNsYXNzTmFtZSA9ICdzZWNvbmQtbGluZSc7XG4gICAgY29uc3QgdGhpcmRMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcmRMaW5lLmNsYXNzTmFtZSA9ICd0aGlyZC1saW5lJztcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFwcGVuZENoaWxkKGZpcnN0TEluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQoc2Vjb25kTGluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQodGhpcmRMaW5lKTtcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbmF2aWdhdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QudG9nZ2xlKCduYXZpZ2F0aW9uLWl0ZW1fb3BlbicpO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXItbWVudV9vcGVuJyk7XG4gICAgICBpZiAodGhpcy5idXR0b25PZmYpIHtcbiAgICAgICAgZmlyc3RMSW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEzcHgpIHJvdGF0ZSg0NWRlZyknO1xuICAgICAgICBzZWNvbmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC00MHB4KSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTNweCkgcm90YXRlKC00NWRlZyknO1xuXG4gICAgICAgIG1vZGFsV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdExJbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCkgcm90YXRlKDApJztcbiAgICAgICAgc2Vjb25kTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSByb3RhdGUoMCknO1xuXG4gICAgICAgIG1vZGFsV2luZG93LmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgLndyYXBwZXInKS5wcmVwZW5kKHRoaXMuYnVyZ2VyQm94KTtcbiAgfSxcbn07XG5cbmJ1cmdlckljb24uaW5pdCgpO1xuXG5tb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYnVyZ2VySWNvbi5idXJnZXJCb3guY2xpY2soKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBidXJnZXJJY29uO1xuIiwiaW1wb3J0IGdhbWVGaWVsZCBmcm9tICcuL2dhbWUtZmllbGQnO1xuaW1wb3J0IGJ1cmdlckljb24gZnJvbSAnLi9jb21wb25lbnRzL2J1cmdlci1pY29uJztcbmltcG9ydCBzdGF0aXN0aWNzIGZyb20gJy4vc3RhdGlzdGljcyc7XG5cbmNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24taXRlbScpO1xubGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGJ1cmdlckljb24uYnVyZ2VyQm94LmNsaWNrKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpID09PSAnbWFpbicpIHtcbiAgICAgIGdhbWVGaWVsZC5zZXRUaXRsZUNhcmRzKCk7XG4gICAgfSBlbHNlIGlmIChsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKSA9PT0gJ3N0YXRpc3RpY3MnKSB7XG4gICAgICBjb25zdCBzdGF0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycpKTtcbiAgICAgIGNvbnN0IGRhdGFGb3JUYWJsZSA9IHN0YXRpc3RpY3Muc29ydE9iamVjdChzdGF0KTtcbiAgICAgIHN0YXRpc3RpY3MuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDEpJykuaW5uZXJIVE1MID0gJyZkYXJyOyBXb3JkJztcbiAgICB9IGVsc2Uge1xuICAgICAgZ2FtZUZpZWxkLnJlbW92ZUNvbnRlbnQoKTtcbiAgICAgIGdhbWVGaWVsZC5zZXRDb250ZW50Q2FyZHMobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcbnRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBnYW1lRmllbGQuc2V0VGl0bGVDYXJkcygpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW0uYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW06Zmlyc3QtY2hpbGQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbn0pO1xuIiwiaW1wb3J0ICcuL2dhbWUtZmllbGQnO1xuaW1wb3J0ICcuL3N0YXRpc3RpY3MnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvc3dpdGNoJztcbmltcG9ydCAnLi9jb21wb25lbnRzL2J1cmdlci1pY29uJztcbmltcG9ydCAnLi9idXJnZXItbWVudSc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGZldGNoKCcuL2Fzc2V0cy9qc29uL2NhcmRzLmpzb24nKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2VzID0gcmVzdWx0LmZsYXQoKS5tYXAoKGl0ZW0pID0+IGl0ZW0uaW1hZ2UpO1xuXG4gICAgICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKGFycikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgaW1hZ2Uuc3JjID0gYC4vJHthcnJbaV19YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJlbG9hZEltYWdlcyhpbWFnZXMpO1xuICAgIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9