(()=>{"use strict";(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.title=n,this.number=r}var n,r;return n=e,(r=[{key:"render",value:function(){var t=document.createElement("div");t.classList.add("card"),t.setAttribute("data-number","".concat(this.number));var e=document.createElement("div");e.classList.add("card__image");var n=document.createElement("img");n.src="".concat(this.image),e.appendChild(n);var r=document.createElement("span");return r.classList.add("card__name"),r.innerText="".concat(this.title),t.appendChild(e),t.appendChild(r),t}}])&&t(n.prototype,r),e}(),n={init:function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){var e=t.flat(),n=[];e.forEach((function(t){var e={word:t.word,translation:t.translation,category:t.category,clicks:0,correct:0,wrong:0,percent:0};n.push(e)})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))}))},countingStatistics:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));n.forEach((function(n){if(n.word===t){switch(e){case"clicks":n.clicks+=1;break;case"correct":n.correct+=1;break;case"wrong":n.wrong+=1}n.wrong+n.correct>0&&(n.percent=100*n.wrong/(n.wrong+n.correct))}})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))},buildingTable:function(t){for(var e=this,n=document.querySelector(".container .wrapper");n.firstChild;)n.removeChild(n.firstChild);var r=document.createElement("div");r.classList.add("stat-container");var a=document.createElement("div");a.classList.add("panel-buttons");var s=document.createElement("div");s.classList.add("repeat-button");var i=document.createElement("span");i.innerText="Repeat difficult words",s.appendChild(i);var c=document.createElement("div");c.classList.add("reset-button");var o=document.createElement("span");o.innerText="Reset",c.appendChild(o),a.appendChild(s),a.appendChild(c);var d=document.createElement("table");d.classList.add("table"),r.appendChild(a),r.appendChild(d),n.appendChild(r),c.addEventListener("click",(function(){e.resetLocalStorage()})),s.addEventListener("click",(function(){e.repeatWords()})),d.innerHTML="<tr>\n      <th>Word</th>\n      <th>Translation</th>\n      <th>Category</th>\n      <th>Clicks</th>\n      <th>Correct</th>\n      <th>Wrong</th>\n      <th>% errors</th>\n    </tr>",t.forEach((function(t){d.innerHTML+="<tr>\n        <td>".concat(t.word,"</td>\n        <td>").concat(t.translation,"</td>\n        <td>").concat(t.category,"</td>\n        <td>").concat(t.clicks,"</td>\n        <td>").concat(t.correct,"</td>\n        <td>").concat(t.wrong,"</td>\n        <td>").concat(t.percent.toFixed(1),"</td>\n      </tr>")})),document.querySelectorAll("th").forEach((function(t){t.addEventListener("click",(function(){"↓"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!1):"↑"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!0):e.sortColumn(t.innerText,!0)}))}))},sortObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";return t.sort((function(t,n){return t["".concat(e)]>n["".concat(e)]?1:t["".concat(e)]<n["".concat(e)]?-1:0})),t},sortColumn:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));"% errors"===t&&(t="percent");var r,a,s=this.sortObject(n,t.toLowerCase());switch(e&&t.match(/Word|Translation|Category/)?(r="&darr;",this.buildingTable(s)):t.match(/Word|Translation|Category/)?(r="&uarr;",this.buildingTable(s.reverse())):e?(r="&darr;",this.buildingTable(s.reverse())):(r="&uarr;",this.buildingTable(s)),t){case"Word":a=document.querySelector("th:first-child");break;case"Translation":a=document.querySelector("th:nth-child(2)");break;case"Category":a=document.querySelector("th:nth-child(3)");break;case"Clicks":a=document.querySelector("th:nth-child(4)");break;case"Correct":a=document.querySelector("th:nth-child(5)");break;case"Wrong":a=document.querySelector("th:nth-child(6)");break;case"percent":a=document.querySelector("th:last-child")}a.innerHTML="".concat(r," ").concat(a.innerHTML)}};localStorage.getItem("english-for-kids")||n.init();const r=n;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.word=n,this.translation=r,this.number=a,this.card=null,this.cardFront=null,this.cardBack=null}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this.card=document.createElement("div"),this.card.classList.add("card-word"),this.cardFront=document.createElement("div"),this.cardFront.classList.add("card-word__front"),this.cardFront.setAttribute("data-number","".concat(this.number)),this.cardFront.setAttribute("data-name","".concat(this.word));var e=document.createElement("div");e.classList.add("card-word__front-image");var n=document.createElement("img");n.src="./".concat(this.image),e.appendChild(n);var a=document.createElement("span");a.classList.add("card-word__front-name"),a.innerText="".concat(this.word);var s=document.querySelector("label > input");this.cardFront.addEventListener("click",(function(e){e.target.classList.contains("reverse-button")||s.classList.contains("checked")||(r.countingStatistics(t.word,"clicks"),t.toVoice())}));var i=document.createElement("div");i.classList.add("reverse-button"),i.setAttribute("data-number","".concat(this.number)),i.addEventListener("click",(function(){t.reverseCard()})),this.cardFront.appendChild(e),this.cardFront.appendChild(a),this.cardFront.appendChild(i),this.cardBack=document.createElement("div"),this.cardBack.classList.add("card-word__back");var c=document.createElement("div");c.classList.add("card-word__back-image");var o=document.createElement("img");o.src="./".concat(this.image),c.appendChild(o);var d=document.createElement("span");return d.classList.add("card-word__back-name"),d.innerText="".concat(this.translation),this.cardBack.appendChild(c),this.cardBack.appendChild(d),this.card.appendChild(this.cardFront),this.card.appendChild(this.cardBack),this.card}},{key:"toVoice",value:function(){var t=new Audio("./assets/sounds/".concat(this.word,".mp3"));t.load(),t.play()}},{key:"reverseCard",value:function(){var t=this;this.cardFront.style.transform="rotateY(180deg)",this.cardBack.style.transform="rotateY(360deg)",this.card.addEventListener("mouseleave",(function(){t.cardFront.style.transform="rotateY(0deg)",t.cardBack.style.transform="rotateY(180deg)"}))}}])&&a(e.prototype,n),t}();const i={startGameButton:null,boxStars:null,currentWords:[],rating:[],correctAnswer:null,wrongAnswer:null,soundWin:null,soundLose:null,repeat:!1,currentWord:null,currentSound:null,mistakes:0,attributeCards:[],wordsUsed:[],init:function(){var t=this;this.startGameButton=document.createElement("div"),this.startGameButton.classList.add("button-play");var e=document.createElement("span");e.innerText="Start game",this.startGameButton.appendChild(e),this.boxStars=document.createElement("div"),this.boxStars.classList.add("box-stars"),this.correctAnswer=new Audio("./assets/sounds/correct.mp3"),this.wrongAnswer=new Audio("./assets/sounds/error.mp3"),this.soundWin=new Audio("./assets/sounds/success.mp3"),this.soundLose=new Audio("./assets/sounds/failure.mp3"),document.querySelector(".container").appendChild(this.startGameButton),document.querySelector(".container").appendChild(this.boxStars),this.startGameButton.addEventListener("click",(function(){t.repeat?t.currentWord.play():(t.startGameButton.classList.add("repeat"),document.querySelector(".button-play > span").innerText="",t.repeat=!0,t.play())}))},play:function(){var t=this,e=document.querySelectorAll(".card-word__front");e.forEach((function(e){t.currentWords.push(e.getAttribute("data-name"))})),this.currentWords.sort((function(){return Math.random()-.5}));var n=0,a=function(){t.currentWord=new Audio("./assets/sounds/".concat(t.currentWords[n],".mp3")),t.currentWord.load(),t.currentWord.play()};a(),e.forEach((function(e){e.addEventListener("click",(function(){if(e.getAttribute("data-name")===t.currentWords[n]){t.wordsUsed.push(t.currentWords[n]),r.countingStatistics(t.currentWords[n],"correct"),t.correctAnswer.play(),e.style.filter="blur(5px)";var s=document.createElement("img");s.src="./assets/icons/star-win.svg",t.boxStars.appendChild(s),(n+=1)<8?setTimeout(a,500):setTimeout((function(){t.finishGame()}),1e3)}else if(!t.wordsUsed.includes(e.getAttribute("data-name"))){r.countingStatistics(t.currentWords[n],"wrong"),t.mistakes+=1;var i=document.createElement("img");i.src="./assets/icons/star.svg",t.boxStars.appendChild(i),t.wrongAnswer.play()}}))}))},finishGame:function(){l.removeContent(),document.querySelector(".button-play > span").innerText="Start game",this.repeat=!1,this.startGameButton.classList.remove("repeat"),this.startGameButton.classList.add("disabled");var t=document.createElement("div");t.classList.add("win-image");var e=document.createElement("span");e.classList.add("win-title");var n=document.createElement("img");0===this.mistakes?(e.innerText="Congratulations! You win!",n.src="./assets/icons/success.svg",this.soundWin.play()):(e.innerHTML="You lost(: Train and try again!</br>\n        You made ".concat(this.mistakes," mistake(s)."),n.src="./assets/icons/failure.svg",this.soundLose.play()),t.append(n),l.container.appendChild(e),l.container.appendChild(t)}};var c={switchBox:null,init:function(){this.switchBox=document.createElement("div"),this.switchBox.classList.add("switch-container","switch-disabled");var t=document.createElement("div");t.classList.add("train-mode","active-mode"),t.innerText="Train";var e=document.createElement("div");e.classList.add("game-mode"),e.innerText="Play";var n=document.createElement("label");n.classList.add("switch");var r=document.createElement("input");r.setAttribute("type","checkbox"),r.addEventListener("change",(function(){r.classList.toggle("checked");var n=document.querySelectorAll(".card-word");r.classList.contains("checked")?(n.forEach((function(t){t.style.height="200px"})),i.init()):(n.forEach((function(t){t.style.height="280px"})),document.querySelector(".container").removeChild(document.querySelector(".button-play")),document.querySelector(".container").removeChild(document.querySelector(".box-stars"))),t.classList.toggle("active-mode"),e.classList.toggle("active-mode")}));var a=document.createElement("span");a.classList.add("slider","round"),n.appendChild(r),n.appendChild(a),this.switchBox.appendChild(t),this.switchBox.appendChild(n),this.switchBox.appendChild(e),document.querySelector(".container").prepend(this.switchBox)}};c.init();const o=c;var d={container:null,title:{0:"Action (set A)",1:"Action (set B)",2:"Action (set C)",3:"Adjective",4:"Animal (set A)",5:"Animal (set B)",6:"Clothes",7:"Emotion"},images:{0:"./assets/images/categories/actionA.jpg",1:"./assets/images/categories/actionB.jpg",2:"./assets/images/categories/actionC.jpg",3:"./assets/images/categories/adjective.jpg",4:"./assets/images/categories/animalA.jpg",5:"./assets/images/categories/animalB.jpg",6:"./assets/images/categories/clothes.jpg",7:"./assets/images/categories/emotion.jpg"},init:function(){this.container=document.createElement("div"),this.container.classList.add("wrapper"),document.querySelector(".container").appendChild(this.container),this.setTitleCards()},setTitleCards:function(){for(var t=this,n=0;n<8;n+=1){var r=new e(this.images[n],this.title[n],n);this.container.appendChild(r.render())}document.querySelectorAll(".card").forEach((function(e){e.addEventListener("click",(function(){t.removeContent(),t.setContentCards(e.getAttribute("data-number"))}))}))},setContentCards:function(t){var e=this;o.switchBox.classList.remove("switch-disabled"),fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(n){for(var r=n[t],a=0;a<r.length;a+=1){var i=new s(r[a].image,r[a].word,r[a].translation,a);e.container.appendChild(i.render())}}))},removeContent:function(){for(var t=document.querySelector(".container .wrapper");t.firstChild;)t.removeChild(t.firstChild)}};d.init();const l=d;var u={burgerBox:null,buttonOff:!0,init:function(){var t=this;this.burgerBox=document.createElement("div"),this.burgerBox.className="burger-menu__button";var e=document.createElement("div");e.className="first-line";var n=document.createElement("div");n.className="second-line";var r=document.createElement("div");r.className="third-line",this.burgerBox.appendChild(e),this.burgerBox.appendChild(n),this.burgerBox.appendChild(r),this.burgerBox.addEventListener("click",(function(){t.buttonOff?(e.style.transform="translateY(13px) rotate(45deg)",n.style.transform="translateX(-40px)",r.style.transform="translateY(-13px) rotate(-45deg)",document.querySelector(".burger-menu").style.transform="translateX(0)",document.querySelector(".modal").classList.remove("modal-disabled"),t.buttonOff=!1):(e.style.transform="translateY(0) rotate(0)",n.style.transform="translateX(0)",r.style.transform="translateY(0) rotate(0)",document.querySelector(".burger-menu").style.transform="translateX(-320px)",document.querySelector(".modal").classList.add("modal-disabled"),t.buttonOff=!0)})),document.querySelector(".header .wrapper").prepend(this.burgerBox)}};u.init();const m=u;document.querySelectorAll(".navigation-item").forEach((function(t){t.addEventListener("click",(function(){if(l.removeContent(),m.burgerBox.click(),document.querySelector(".navigation-item.active").classList.remove("active"),t.classList.add("active"),"main"===t.getAttribute("data-number"))o.switchBox.classList.add("switch-disabled"),l.setTitleCards();else if("statistics"===t.getAttribute("data-number")){var e=JSON.parse(localStorage.getItem("english-for-kids")),n=r.sortObject(e);r.buildingTable(n),document.querySelector("th:nth-child(1)").innerHTML="&darr; Word"}else l.setContentCards(t.getAttribute("data-number"))}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbXBvbmVudHMvdGl0bGUtY2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3N0YXQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9wbGF5LWdhbWUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2dhbWUtZmllbGQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlci1pY29uLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvYnVyZ2VyLW1lbnUuanMiXSwibmFtZXMiOlsiVGl0bGVDYXJkIiwiaW1hZ2UiLCJ0aXRsZSIsIm51bWJlciIsInRoaXMiLCJjYXJkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwiY2FyZEltYWdlIiwiaW1nIiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJjYXJkTmFtZSIsImlubmVyVGV4dCIsInN0YXRpc3RpY3MiLCJpbml0IiwiZmV0Y2giLCJ0aGVuIiwicmVzdWx0IiwianNvbiIsImFsbFdvcmRzIiwiZmxhdCIsImNvbW1vbkFycmF5IiwiZm9yRWFjaCIsIml0ZW0iLCJjdXJyZW50T2JqIiwid29yZCIsInRyYW5zbGF0aW9uIiwiY2F0ZWdvcnkiLCJjbGlja3MiLCJjb3JyZWN0Iiwid3JvbmciLCJwZXJjZW50IiwicHVzaCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiY291bnRpbmdTdGF0aXN0aWNzIiwic3RhdCIsInBhcnNlIiwiZ2V0SXRlbSIsImJ1aWxkaW5nVGFibGUiLCJkYXRhIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInN0YXRDb250YWluZXIiLCJidXR0b25zIiwicmVwZWF0QnV0dG9uIiwic3BhblJlcGVhdCIsInJlc2V0QnV0dG9uIiwic3BhblJlc2V0IiwidGFibGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzZXRMb2NhbFN0b3JhZ2UiLCJyZXBlYXRXb3JkcyIsImlubmVySFRNTCIsInJvdyIsInRvRml4ZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVhZGluZyIsInNvcnRDb2x1bW4iLCJzbGljZSIsInNvcnRPYmplY3QiLCJvYmoiLCJrZXkiLCJzb3J0IiwiYSIsImIiLCJkaXJlY3RPcmRlciIsImFycm93IiwiZGF0YUZvclRhYmxlIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInJldmVyc2UiLCJDYXJkIiwiY2FyZEZyb250IiwiY2FyZEJhY2siLCJjYXJkRnJvbnRJbWFnZSIsImltZ0Zyb250IiwiY2FyZEZyb250TmFtZSIsImdhbWVNb2RlIiwiZXZlbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsInRvVm9pY2UiLCJjYXJkQnV0dG9uIiwicmV2ZXJzZUNhcmQiLCJjYXJkQmFja0ltYWdlIiwiY2FyZEJhY2tOYW1lIiwiYXVkaW8iLCJBdWRpbyIsImxvYWQiLCJwbGF5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzdGFydEdhbWVCdXR0b24iLCJib3hTdGFycyIsImN1cnJlbnRXb3JkcyIsInJhdGluZyIsImNvcnJlY3RBbnN3ZXIiLCJ3cm9uZ0Fuc3dlciIsInNvdW5kV2luIiwic291bmRMb3NlIiwicmVwZWF0IiwiY3VycmVudFdvcmQiLCJjdXJyZW50U291bmQiLCJtaXN0YWtlcyIsImF0dHJpYnV0ZUNhcmRzIiwid29yZHNVc2VkIiwiY3VycmVudENhcmRzIiwiZ2V0QXR0cmlidXRlIiwiTWF0aCIsInJhbmRvbSIsInBsYXlXb3JkIiwiZmlsdGVyIiwid2luU3RhcnMiLCJzZXRUaW1lb3V0IiwiZmluaXNoR2FtZSIsImluY2x1ZGVzIiwiZ2FtZUZpZWxkIiwicmVtb3ZlIiwid2luU2NyZWVuIiwic3BhbiIsImFwcGVuZCIsInRvZ2dsZSIsInN3aXRjaEJveCIsInRyYWluTW9kZSIsInN3aXRjaGVyIiwiY2hlY2tib3giLCJjYXJkcyIsImhlaWdodCIsInBsYXlHYW1lIiwicHJlcGVuZCIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiaW1hZ2VzIiwic2V0VGl0bGVDYXJkcyIsImkiLCJyZW5kZXIiLCJyZW1vdmVDb250ZW50Iiwic2V0Q29udGVudENhcmRzIiwiYWN0aXZlQ2FyZCIsInRvb2dsZSIsImxlbmd0aCIsImJ1cmdlckljb24iLCJidXJnZXJCb3giLCJidXR0b25PZmYiLCJjbGFzc05hbWUiLCJmaXJzdExJbmUiLCJzZWNvbmRMaW5lIiwidGhpcmRMaW5lIiwibGluayJdLCJtYXBwaW5ncyI6Im1NQUFxQkEsRSxXQUNuQixXQUFZQyxFQUFPQyxFQUFPQyxJLDRGQUFRLFNBQ2hDQyxLQUFLSCxNQUFRQSxFQUNiRyxLQUFLRixNQUFRQSxFQUNiRSxLQUFLRCxPQUFTQSxFLHNEQUlkLElBQU1FLEVBQU9DLFNBQVNDLGNBQWMsT0FDcENGLEVBQUtHLFVBQVVDLElBQUksUUFDbkJKLEVBQUtLLGFBQWEsY0FBbEIsVUFBb0NOLEtBQUtELFNBRXpDLElBQU1RLEVBQVlMLFNBQVNDLGNBQWMsT0FDekNJLEVBQVVILFVBQVVDLElBQUksZUFFeEIsSUFBTUcsRUFBTU4sU0FBU0MsY0FBYyxPQUNuQ0ssRUFBSUMsSUFBSixVQUFhVCxLQUFLSCxPQUNsQlUsRUFBVUcsWUFBWUYsR0FFdEIsSUFBTUcsRUFBV1QsU0FBU0MsY0FBYyxRQU94QyxPQU5BUSxFQUFTUCxVQUFVQyxJQUFJLGNBQ3ZCTSxFQUFTQyxVQUFULFVBQXdCWixLQUFLRixPQUU3QkcsRUFBS1MsWUFBWUgsR0FDakJOLEVBQUtTLFlBQVlDLEdBRVZW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bGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaXRsZUNhcmQge1xuICBjb25zdHJ1Y3RvcihpbWFnZSwgdGl0bGUsIG51bWJlcikge1xuICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xuICAgIGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicsIGAke3RoaXMubnVtYmVyfWApO1xuXG4gICAgY29uc3QgY2FyZEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEltYWdlLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2ltYWdlJyk7XG5cbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYCR7dGhpcy5pbWFnZX1gO1xuICAgIGNhcmRJbWFnZS5hcHBlbmRDaGlsZChpbWcpO1xuXG4gICAgY29uc3QgY2FyZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY2FyZE5hbWUuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbmFtZScpO1xuICAgIGNhcmROYW1lLmlubmVyVGV4dCA9IGAke3RoaXMudGl0bGV9YDtcblxuICAgIGNhcmQuYXBwZW5kQ2hpbGQoY2FyZEltYWdlKTtcbiAgICBjYXJkLmFwcGVuZENoaWxkKGNhcmROYW1lKTtcblxuICAgIHJldHVybiBjYXJkO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuY29uc3Qgc3RhdGlzdGljcyA9IHtcbiAgaW5pdCgpIHtcbiAgICBmZXRjaCgnLi9hc3NldHMvanNvbi9jYXJkcy5qc29uJylcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFdvcmRzID0gcmVzdWx0LmZsYXQoKTtcbiAgICAgICAgY29uc3QgY29tbW9uQXJyYXkgPSBbXTtcbiAgICAgICAgYWxsV29yZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRPYmogPSB7XG4gICAgICAgICAgICB3b3JkOiBpdGVtLndvcmQsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbjogaXRlbS50cmFuc2xhdGlvbixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBpdGVtLmNhdGVnb3J5LFxuICAgICAgICAgICAgY2xpY2tzOiAwLFxuICAgICAgICAgICAgY29ycmVjdDogMCxcbiAgICAgICAgICAgIHdyb25nOiAwLFxuICAgICAgICAgICAgcGVyY2VudDogMCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbW1vbkFycmF5LnB1c2goY3VycmVudE9iaik7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycsIGAke0pTT04uc3RyaW5naWZ5KGNvbW1vbkFycmF5KX1gKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIGNvdW50aW5nU3RhdGlzdGljcyh3b3JkLCBjYXRlZ29yeSkge1xuICAgIGNvbnN0IHN0YXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpO1xuICAgIHN0YXQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0ud29yZCA9PT0gd29yZCkge1xuICAgICAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICAgICAgY2FzZSAnY2xpY2tzJzpcbiAgICAgICAgICAgIGl0ZW0uY2xpY2tzICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb3JyZWN0JzpcbiAgICAgICAgICAgIGl0ZW0uY29ycmVjdCArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnd3JvbmcnOlxuICAgICAgICAgICAgaXRlbS53cm9uZyArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0ID4gMCkge1xuICAgICAgICAgIGl0ZW0ucGVyY2VudCA9IChpdGVtLndyb25nICogMTAwKSAvIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJywgYCR7SlNPTi5zdHJpbmdpZnkoc3RhdCl9YCk7XG4gIH0sXG5cbiAgYnVpbGRpbmdUYWJsZShkYXRhKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpO1xuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RhdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzdGF0LWNvbnRhaW5lcicpO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgncGFuZWwtYnV0dG9ucycpO1xuXG4gICAgY29uc3QgcmVwZWF0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVwZWF0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3JlcGVhdC1idXR0b24nKTtcbiAgICBjb25zdCBzcGFuUmVwZWF0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW5SZXBlYXQuaW5uZXJUZXh0ID0gJ1JlcGVhdCBkaWZmaWN1bHQgd29yZHMnO1xuICAgIHJlcGVhdEJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuUmVwZWF0KTtcblxuICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVzZXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVzZXQtYnV0dG9uJyk7XG4gICAgY29uc3Qgc3BhblJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW5SZXNldC5pbm5lclRleHQgPSAnUmVzZXQnO1xuICAgIHJlc2V0QnV0dG9uLmFwcGVuZENoaWxkKHNwYW5SZXNldCk7XG5cbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlcGVhdEJ1dHRvbik7XG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChyZXNldEJ1dHRvbik7XG5cbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgdGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblxuICAgIC8vIGFkZCBlbGVtZW50cyB0byBwYWdlXG4gICAgc3RhdENvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zKTtcbiAgICBzdGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdENvbnRhaW5lcik7XG5cbiAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmVzZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICB9KTtcblxuICAgIHJlcGVhdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmVwZWF0V29yZHMoKTtcbiAgICB9KTtcblxuICAgIC8vIHJlbmRlcmluZyB0YWJsZVxuICAgIHRhYmxlLmlubmVySFRNTCA9IGA8dHI+XG4gICAgICA8dGg+V29yZDwvdGg+XG4gICAgICA8dGg+VHJhbnNsYXRpb248L3RoPlxuICAgICAgPHRoPkNhdGVnb3J5PC90aD5cbiAgICAgIDx0aD5DbGlja3M8L3RoPlxuICAgICAgPHRoPkNvcnJlY3Q8L3RoPlxuICAgICAgPHRoPldyb25nPC90aD5cbiAgICAgIDx0aD4lIGVycm9yczwvdGg+XG4gICAgPC90cj5gO1xuICAgIGRhdGEuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICB0YWJsZS5pbm5lckhUTUwgKz0gYDx0cj5cbiAgICAgICAgPHRkPiR7cm93LndvcmR9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LnRyYW5zbGF0aW9ufTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jYXRlZ29yeX08L3RkPlxuICAgICAgICA8dGQ+JHtyb3cuY2xpY2tzfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jb3JyZWN0fTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy53cm9uZ308L3RkPlxuICAgICAgICA8dGQ+JHtyb3cucGVyY2VudC50b0ZpeGVkKDEpfTwvdGQ+XG4gICAgICA8L3RyPmA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0YWJsZUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpO1xuICAgIHRhYmxlSGVhZC5mb3JFYWNoKChoZWFkaW5nKSA9PiB7XG4gICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoaGVhZGluZy5pbm5lclRleHRbMF0gPT09ICfihpMnKSB7XG4gICAgICAgICAgdGhpcy5zb3J0Q29sdW1uKGhlYWRpbmcuaW5uZXJUZXh0LnNsaWNlKDIpLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVhZGluZy5pbm5lclRleHRbMF0gPT09ICfihpEnKSB7XG4gICAgICAgICAgdGhpcy5zb3J0Q29sdW1uKGhlYWRpbmcuaW5uZXJUZXh0LnNsaWNlKDIpLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzb3J0T2JqZWN0KG9iaiwga2V5ID0gJ3dvcmQnKSB7XG4gICAgb2JqLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhW2Ake2tleX1gXSA+IGJbYCR7a2V5fWBdKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaWYgKGFbYCR7a2V5fWBdIDwgYltgJHtrZXl9YF0pIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIHNvcnRDb2x1bW4oa2V5LCBkaXJlY3RPcmRlcikge1xuICAgIGNvbnN0IHN0YXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpO1xuICAgIGlmIChrZXkgPT09ICclIGVycm9ycycpIHtcbiAgICAgIGtleSA9ICdwZXJjZW50JztcbiAgICB9XG4gICAgY29uc3QgZGF0YUZvclRhYmxlID0gdGhpcy5zb3J0T2JqZWN0KHN0YXQsIGtleS50b0xvd2VyQ2FzZSgpKTtcblxuICAgIGxldCBhcnJvdztcbiAgICBpZiAoZGlyZWN0T3JkZXIgJiYga2V5Lm1hdGNoKC9Xb3JkfFRyYW5zbGF0aW9ufENhdGVnb3J5LykpIHtcbiAgICAgIGFycm93ID0gJyZkYXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvV29yZHxUcmFuc2xhdGlvbnxDYXRlZ29yeS8pKSB7XG4gICAgICBhcnJvdyA9ICcmdWFycjsnO1xuICAgICAgdGhpcy5idWlsZGluZ1RhYmxlKGRhdGFGb3JUYWJsZS5yZXZlcnNlKCkpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0T3JkZXIpIHtcbiAgICAgIGFycm93ID0gJyZkYXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycm93ID0gJyZ1YXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICB9XG5cbiAgICBsZXQgdGl0bGU7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgJ1dvcmQnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOmZpcnN0LWNoaWxkJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVHJhbnNsYXRpb24nOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgyKScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NhdGVnb3J5JzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoMyknKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdDbGlja3MnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg0KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NvcnJlY3QnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg1KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1dyb25nJzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoNiknKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZXJjZW50JzpcbiAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0aDpsYXN0LWNoaWxkJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRpdGxlLmlubmVySFRNTCA9IGAke2Fycm93fSAke3RpdGxlLmlubmVySFRNTH1gO1xuICB9LFxufTtcblxuaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycpKSB7XG4gIHN0YXRpc3RpY3MuaW5pdCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdGF0aXN0aWNzO1xuIiwiaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi4vc3RhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihpbWFnZSwgd29yZCwgdHJhbnNsYXRpb24sIG51bWJlcikge1xuICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB0aGlzLndvcmQgPSB3b3JkO1xuICAgIHRoaXMudHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbjtcbiAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgICB0aGlzLmNhcmQgPSBudWxsO1xuICAgIHRoaXMuY2FyZEZyb250ID0gbnVsbDtcbiAgICB0aGlzLmNhcmRCYWNrID0gbnVsbDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkJyk7XG5cbiAgICB0aGlzLmNhcmRGcm9udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY2FyZEZyb250LmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fZnJvbnQnKTtcbiAgICB0aGlzLmNhcmRGcm9udC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJywgYCR7dGhpcy5udW1iZXJ9YCk7XG4gICAgdGhpcy5jYXJkRnJvbnQuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBgJHt0aGlzLndvcmR9YCk7XG5cbiAgICBjb25zdCBjYXJkRnJvbnRJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRGcm9udEltYWdlLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fZnJvbnQtaW1hZ2UnKTtcbiAgICBjb25zdCBpbWdGcm9udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltZ0Zyb250LnNyYyA9IGAuLyR7dGhpcy5pbWFnZX1gO1xuICAgIGNhcmRGcm9udEltYWdlLmFwcGVuZENoaWxkKGltZ0Zyb250KTtcblxuICAgIGNvbnN0IGNhcmRGcm9udE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY2FyZEZyb250TmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250LW5hbWUnKTtcbiAgICBjYXJkRnJvbnROYW1lLmlubmVyVGV4dCA9IGAke3RoaXMud29yZH1gO1xuXG4gICAgY29uc3QgZ2FtZU1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCA+IGlucHV0Jyk7XG5cbiAgICB0aGlzLmNhcmRGcm9udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXZlcnNlLWJ1dHRvbicpICYmICFnYW1lTW9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBzdGF0aXN0aWNzLmNvdW50aW5nU3RhdGlzdGljcyh0aGlzLndvcmQsICdjbGlja3MnKTtcbiAgICAgICAgdGhpcy50b1ZvaWNlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjYXJkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXZlcnNlLWJ1dHRvbicpO1xuICAgIGNhcmRCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicsIGAke3RoaXMubnVtYmVyfWApO1xuICAgIGNhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJldmVyc2VDYXJkKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNhcmRGcm9udC5hcHBlbmRDaGlsZChjYXJkRnJvbnRJbWFnZSk7XG4gICAgdGhpcy5jYXJkRnJvbnQuYXBwZW5kQ2hpbGQoY2FyZEZyb250TmFtZSk7XG4gICAgdGhpcy5jYXJkRnJvbnQuYXBwZW5kQ2hpbGQoY2FyZEJ1dHRvbik7XG5cbiAgICB0aGlzLmNhcmRCYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jYXJkQmFjay5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2snKTtcblxuICAgIGNvbnN0IGNhcmRCYWNrSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkQmFja0ltYWdlLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fYmFjay1pbWFnZScpO1xuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltZy5zcmMgPSBgLi8ke3RoaXMuaW1hZ2V9YDtcbiAgICBjYXJkQmFja0ltYWdlLmFwcGVuZENoaWxkKGltZyk7XG5cbiAgICBjb25zdCBjYXJkQmFja05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY2FyZEJhY2tOYW1lLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fYmFjay1uYW1lJyk7XG4gICAgY2FyZEJhY2tOYW1lLmlubmVyVGV4dCA9IGAke3RoaXMudHJhbnNsYXRpb259YDtcblxuICAgIHRoaXMuY2FyZEJhY2suYXBwZW5kQ2hpbGQoY2FyZEJhY2tJbWFnZSk7XG4gICAgdGhpcy5jYXJkQmFjay5hcHBlbmRDaGlsZChjYXJkQmFja05hbWUpO1xuXG4gICAgdGhpcy5jYXJkLmFwcGVuZENoaWxkKHRoaXMuY2FyZEZyb250KTtcbiAgICB0aGlzLmNhcmQuYXBwZW5kQ2hpbGQodGhpcy5jYXJkQmFjayk7XG5cbiAgICByZXR1cm4gdGhpcy5jYXJkO1xuICB9XG5cbiAgdG9Wb2ljZSgpIHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhgLi9hc3NldHMvc291bmRzLyR7dGhpcy53b3JkfS5tcDNgKTtcbiAgICBhdWRpby5sb2FkKCk7XG4gICAgYXVkaW8ucGxheSgpO1xuICB9XG5cbiAgcmV2ZXJzZUNhcmQoKSB7XG4gICAgdGhpcy5jYXJkRnJvbnQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMTgwZGVnKSc7XG4gICAgdGhpcy5jYXJkQmFjay5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlWSgzNjBkZWcpJztcbiAgICB0aGlzLmNhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIHRoaXMuY2FyZEZyb250LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDBkZWcpJztcbiAgICAgIHRoaXMuY2FyZEJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMTgwZGVnKSc7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5pbXBvcnQgc3RhdGlzdGljcyBmcm9tICcuL3N0YXQnO1xuaW1wb3J0IGdhbWVGaWVsZCBmcm9tICcuL2dhbWUtZmllbGQnO1xuXG5jb25zdCBwbGF5R2FtZSA9IHtcbiAgc3RhcnRHYW1lQnV0dG9uOiBudWxsLFxuICBib3hTdGFyczogbnVsbCxcbiAgY3VycmVudFdvcmRzOiBbXSxcbiAgcmF0aW5nOiBbXSxcbiAgY29ycmVjdEFuc3dlcjogbnVsbCxcbiAgd3JvbmdBbnN3ZXI6IG51bGwsXG4gIHNvdW5kV2luOiBudWxsLFxuICBzb3VuZExvc2U6IG51bGwsXG4gIHJlcGVhdDogZmFsc2UsXG4gIGN1cnJlbnRXb3JkOiBudWxsLFxuICBjdXJyZW50U291bmQ6IG51bGwsXG4gIG1pc3Rha2VzOiAwLFxuICBhdHRyaWJ1dGVDYXJkczogW10sXG4gIHdvcmRzVXNlZDogW10sXG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuc3RhcnRHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1wbGF5Jyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gJ1N0YXJ0IGdhbWUnO1xuICAgIHRoaXMuc3RhcnRHYW1lQnV0dG9uLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgIHRoaXMuYm94U3RhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmJveFN0YXJzLmNsYXNzTGlzdC5hZGQoJ2JveC1zdGFycycpO1xuXG4gICAgdGhpcy5jb3JyZWN0QW5zd2VyID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvY29ycmVjdC5tcDMnKTtcbiAgICB0aGlzLndyb25nQW5zd2VyID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvZXJyb3IubXAzJyk7XG4gICAgdGhpcy5zb3VuZFdpbiA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL3N1Y2Nlc3MubXAzJyk7XG4gICAgdGhpcy5zb3VuZExvc2UgPSBuZXcgQXVkaW8oJy4vYXNzZXRzL3NvdW5kcy9mYWlsdXJlLm1wMycpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmFwcGVuZENoaWxkKHRoaXMuc3RhcnRHYW1lQnV0dG9uKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQodGhpcy5ib3hTdGFycyk7XG5cbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnJlcGVhdCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRXb3JkLnBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3JlcGVhdCcpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXBsYXkgPiBzcGFuJykuaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgIHRoaXMucmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcGxheSgpIHtcbiAgICBjb25zdCBjdXJyZW50Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC13b3JkX19mcm9udCcpO1xuICAgIGN1cnJlbnRDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRXb3Jkcy5wdXNoKGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSk7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50V29yZHMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcblxuICAgIGxldCBjdXJyZW50V29yZCA9IDA7XG5cbiAgICBjb25zdCBwbGF5V29yZCA9ICgpID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFdvcmQgPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3RoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXX0ubXAzYCk7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkLmxvYWQoKTtcbiAgICAgIHRoaXMuY3VycmVudFdvcmQucGxheSgpO1xuICAgIH07XG5cbiAgICBwbGF5V29yZCgpO1xuXG4gICAgY3VycmVudENhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmIChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykgPT09IHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSkge1xuICAgICAgICAgIHRoaXMud29yZHNVc2VkLnB1c2godGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdKTtcbiAgICAgICAgICBzdGF0aXN0aWNzLmNvdW50aW5nU3RhdGlzdGljcyh0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF0sICdjb3JyZWN0Jyk7XG4gICAgICAgICAgdGhpcy5jb3JyZWN0QW5zd2VyLnBsYXkoKTtcbiAgICAgICAgICBjYXJkLnN0eWxlLmZpbHRlciA9ICdibHVyKDVweCknO1xuXG4gICAgICAgICAgY29uc3Qgd2luU3RhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICB3aW5TdGFycy5zcmMgPSAnLi9hc3NldHMvaWNvbnMvc3Rhci13aW4uc3ZnJztcbiAgICAgICAgICB0aGlzLmJveFN0YXJzLmFwcGVuZENoaWxkKHdpblN0YXJzKTtcblxuICAgICAgICAgIGN1cnJlbnRXb3JkICs9IDE7XG4gICAgICAgICAgaWYgKGN1cnJlbnRXb3JkIDwgOCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChwbGF5V29yZCwgNTAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuZmluaXNoR2FtZSgpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLndvcmRzVXNlZC5pbmNsdWRlcyhjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpKSB7XG4gICAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdLCAnd3JvbmcnKTtcbiAgICAgICAgICB0aGlzLm1pc3Rha2VzICs9IDE7XG5cbiAgICAgICAgICBjb25zdCB3aW5TdGFycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgIHdpblN0YXJzLnNyYyA9ICcuL2Fzc2V0cy9pY29ucy9zdGFyLnN2Zyc7XG4gICAgICAgICAgdGhpcy5ib3hTdGFycy5hcHBlbmRDaGlsZCh3aW5TdGFycyk7XG5cbiAgICAgICAgICB0aGlzLndyb25nQW5zd2VyLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgZmluaXNoR2FtZSgpIHtcbiAgICBnYW1lRmllbGQucmVtb3ZlQ29udGVudCgpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5ID4gc3BhbicpLmlubmVyVGV4dCA9ICdTdGFydCBnYW1lJztcbiAgICB0aGlzLnJlcGVhdCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhcnRHYW1lQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3JlcGVhdCcpO1xuICAgIHRoaXMuc3RhcnRHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG5cbiAgICBjb25zdCB3aW5TY3JlZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3aW5TY3JlZW4uY2xhc3NMaXN0LmFkZCgnd2luLWltYWdlJyk7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3dpbi10aXRsZScpO1xuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgaWYgKHRoaXMubWlzdGFrZXMgPT09IDApIHtcbiAgICAgIHNwYW4uaW5uZXJUZXh0ID0gJ0NvbmdyYXR1bGF0aW9ucyEgWW91IHdpbiEnO1xuICAgICAgaW1nLnNyYyA9ICcuL2Fzc2V0cy9pY29ucy9zdWNjZXNzLnN2Zyc7XG4gICAgICB0aGlzLnNvdW5kV2luLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Bhbi5pbm5lckhUTUwgPSBgWW91IGxvc3QoOiBUcmFpbiBhbmQgdHJ5IGFnYWluITwvYnI+XG4gICAgICAgIFlvdSBtYWRlICR7dGhpcy5taXN0YWtlc30gbWlzdGFrZShzKS5gO1xuICAgICAgaW1nLnNyYyA9ICcuL2Fzc2V0cy9pY29ucy9mYWlsdXJlLnN2Zyc7XG4gICAgICB0aGlzLnNvdW5kTG9zZS5wbGF5KCk7XG4gICAgfVxuXG4gICAgd2luU2NyZWVuLmFwcGVuZChpbWcpO1xuICAgIGdhbWVGaWVsZC5jb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgZ2FtZUZpZWxkLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh3aW5TY3JlZW4pO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgcGxheUdhbWU7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHBsYXlHYW1lIGZyb20gJy4uL3BsYXktZ2FtZSc7XG5cbmNvbnN0IHRvZ2dsZSA9IHtcbiAgc3dpdGNoQm94OiBudWxsLFxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zd2l0Y2hCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnN3aXRjaEJveC5jbGFzc0xpc3QuYWRkKCdzd2l0Y2gtY29udGFpbmVyJywgJ3N3aXRjaC1kaXNhYmxlZCcpO1xuXG4gICAgY29uc3QgdHJhaW5Nb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdHJhaW5Nb2RlLmNsYXNzTGlzdC5hZGQoJ3RyYWluLW1vZGUnLCAnYWN0aXZlLW1vZGUnKTtcbiAgICB0cmFpbk1vZGUuaW5uZXJUZXh0ID0gJ1RyYWluJztcbiAgICBjb25zdCBnYW1lTW9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdhbWVNb2RlLmNsYXNzTGlzdC5hZGQoJ2dhbWUtbW9kZScpO1xuICAgIGdhbWVNb2RlLmlubmVyVGV4dCA9ICdQbGF5JztcblxuICAgIGNvbnN0IHN3aXRjaGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBzd2l0Y2hlci5jbGFzc0xpc3QuYWRkKCdzd2l0Y2gnKTtcbiAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG5cbiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjaGVja2JveC5jbGFzc0xpc3QudG9nZ2xlKCdjaGVja2VkJyk7XG4gICAgICBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLXdvcmQnKTtcbiAgICAgIGlmIChjaGVja2JveC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICAgICAgY2FyZC5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuICAgICAgICB9KTtcbiAgICAgICAgcGxheUdhbWUuaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gJzI4MHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXBsYXknKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm94LXN0YXJzJykpO1xuICAgICAgfVxuXG4gICAgICB0cmFpbk1vZGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLW1vZGUnKTtcbiAgICAgIGdhbWVNb2RlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1tb2RlJyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnc2xpZGVyJywgJ3JvdW5kJyk7XG4gICAgc3dpdGNoZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgIHN3aXRjaGVyLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgdGhpcy5zd2l0Y2hCb3guYXBwZW5kQ2hpbGQodHJhaW5Nb2RlKTtcbiAgICB0aGlzLnN3aXRjaEJveC5hcHBlbmRDaGlsZChzd2l0Y2hlcik7XG4gICAgdGhpcy5zd2l0Y2hCb3guYXBwZW5kQ2hpbGQoZ2FtZU1vZGUpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLnByZXBlbmQodGhpcy5zd2l0Y2hCb3gpO1xuICB9LFxufTtcblxudG9nZ2xlLmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9nZ2xlO1xuIiwiaW1wb3J0IFRpdGxlQ2FyZCBmcm9tICcuL2NvbXBvbmVudHMvdGl0bGUtY2FyZCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NvbXBvbmVudHMvY2FyZCc7XG5pbXBvcnQgdG9vZ2xlIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuXG5jb25zdCBnYW1lRmllbGQgPSB7XG4gIGNvbnRhaW5lcjogbnVsbCxcbiAgdGl0bGU6IHtcbiAgICAwOiAnQWN0aW9uIChzZXQgQSknLFxuICAgIDE6ICdBY3Rpb24gKHNldCBCKScsXG4gICAgMjogJ0FjdGlvbiAoc2V0IEMpJyxcbiAgICAzOiAnQWRqZWN0aXZlJyxcbiAgICA0OiAnQW5pbWFsIChzZXQgQSknLFxuICAgIDU6ICdBbmltYWwgKHNldCBCKScsXG4gICAgNjogJ0Nsb3RoZXMnLFxuICAgIDc6ICdFbW90aW9uJyxcbiAgfSxcblxuICBpbWFnZXM6IHtcbiAgICAwOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWN0aW9uQS5qcGcnLFxuICAgIDE6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hY3Rpb25CLmpwZycsXG4gICAgMjogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FjdGlvbkMuanBnJyxcbiAgICAzOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWRqZWN0aXZlLmpwZycsXG4gICAgNDogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FuaW1hbEEuanBnJyxcbiAgICA1OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYW5pbWFsQi5qcGcnLFxuICAgIDY6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9jbG90aGVzLmpwZycsXG4gICAgNzogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2Vtb3Rpb24uanBnJyxcbiAgfSxcblxuICBpbml0KCkge1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnd3JhcHBlcicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgdGhpcy5zZXRUaXRsZUNhcmRzKCk7XG4gIH0sXG5cbiAgc2V0VGl0bGVDYXJkcygpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBUaXRsZUNhcmQodGhpcy5pbWFnZXNbaV0sIHRoaXMudGl0bGVbaV0sIGkpO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZC5yZW5kZXIoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZCcpO1xuICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ29udGVudCgpO1xuICAgICAgICB0aGlzLnNldENvbnRlbnRDYXJkcyhjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzZXRDb250ZW50Q2FyZHMoYWN0aXZlQ2FyZCkge1xuICAgIHRvb2dsZS5zd2l0Y2hCb3guY2xhc3NMaXN0LnJlbW92ZSgnc3dpdGNoLWRpc2FibGVkJyk7XG5cbiAgICBmZXRjaCgnLi9hc3NldHMvanNvbi9jYXJkcy5qc29uJylcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHRbYWN0aXZlQ2FyZF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhW2ldLmltYWdlLCBkYXRhW2ldLndvcmQsIGRhdGFbaV0udHJhbnNsYXRpb24sIGkpO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQucmVuZGVyKCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSxcblxuICByZW1vdmVDb250ZW50KCkge1xuICAgIGNvbnN0IGN1cnJlbnRDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKTtcbiAgICB3aGlsZSAoY3VycmVudENhcmRzLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGN1cnJlbnRDYXJkcy5yZW1vdmVDaGlsZChjdXJyZW50Q2FyZHMuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9LFxufTtcblxuZ2FtZUZpZWxkLmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUZpZWxkO1xuIiwiY29uc3QgYnVyZ2VySWNvbiA9IHtcbiAgYnVyZ2VyQm94OiBudWxsLFxuICBidXR0b25PZmY6IHRydWUsXG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmJ1cmdlckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYnVyZ2VyQm94LmNsYXNzTmFtZSA9ICdidXJnZXItbWVudV9fYnV0dG9uJztcblxuICAgIGNvbnN0IGZpcnN0TEluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZpcnN0TEluZS5jbGFzc05hbWUgPSAnZmlyc3QtbGluZSc7XG4gICAgY29uc3Qgc2Vjb25kTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNlY29uZExpbmUuY2xhc3NOYW1lID0gJ3NlY29uZC1saW5lJztcbiAgICBjb25zdCB0aGlyZExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlyZExpbmUuY2xhc3NOYW1lID0gJ3RoaXJkLWxpbmUnO1xuXG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQoZmlyc3RMSW5lKTtcbiAgICB0aGlzLmJ1cmdlckJveC5hcHBlbmRDaGlsZChzZWNvbmRMaW5lKTtcbiAgICB0aGlzLmJ1cmdlckJveC5hcHBlbmRDaGlsZCh0aGlyZExpbmUpO1xuXG4gICAgdGhpcy5idXJnZXJCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5idXR0b25PZmYpIHtcbiAgICAgICAgZmlyc3RMSW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEzcHgpIHJvdGF0ZSg0NWRlZyknO1xuICAgICAgICBzZWNvbmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC00MHB4KSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTNweCkgcm90YXRlKC00NWRlZyknO1xuXG4gICAgICAgIC8vIG1vdmVtZW50IGJ1cmdlci1tZW51XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5idXR0b25PZmYgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0TEluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSByb3RhdGUoMCknO1xuICAgICAgICBzZWNvbmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgdGhpcmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApIHJvdGF0ZSgwKSc7XG5cbiAgICAgICAgLy8gbW92ZW1lbnQgYnVyZ2VyLW1lbnVcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1tZW51Jykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLTMyMHB4KSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGJ1cmdlckJveC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgIC8vICAgY29uc29sZS5sb2coJ2FzZGFzZGFzJyk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyBhZGQgYnVyZ2VyLWljb24gdG8gcGFnZVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgLndyYXBwZXInKS5wcmVwZW5kKHRoaXMuYnVyZ2VyQm94KTtcbiAgfSxcbn07XG5cbmJ1cmdlckljb24uaW5pdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBidXJnZXJJY29uO1xuIiwiaW1wb3J0IGdhbWVGaWVsZCBmcm9tICcuL2dhbWUtZmllbGQnO1xuaW1wb3J0IGJ1cmdlckljb24gZnJvbSAnLi9jb21wb25lbnRzL2J1cmdlci1pY29uJztcbmltcG9ydCB0b29nbGUgZnJvbSAnLi9jb21wb25lbnRzL3N3aXRjaCc7XG5pbXBvcnQgc3RhdGlzdGljcyBmcm9tICcuL3N0YXQnO1xuXG5jb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLWl0ZW0nKTtcbmxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBnYW1lRmllbGQucmVtb3ZlQ29udGVudCgpO1xuICAgIGJ1cmdlckljb24uYnVyZ2VyQm94LmNsaWNrKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpID09PSAnbWFpbicpIHtcbiAgICAgIHRvb2dsZS5zd2l0Y2hCb3guY2xhc3NMaXN0LmFkZCgnc3dpdGNoLWRpc2FibGVkJyk7XG4gICAgICBnYW1lRmllbGQuc2V0VGl0bGVDYXJkcygpO1xuICAgIH0gZWxzZSBpZiAobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykgPT09ICdzdGF0aXN0aWNzJykge1xuICAgICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgICBjb25zdCBkYXRhRm9yVGFibGUgPSBzdGF0aXN0aWNzLnNvcnRPYmplY3Qoc3RhdCk7XG4gICAgICBzdGF0aXN0aWNzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgxKScpLmlubmVySFRNTCA9ICcmZGFycjsgV29yZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdhbWVGaWVsZC5zZXRDb250ZW50Q2FyZHMobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=