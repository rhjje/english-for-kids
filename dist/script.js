(()=>{"use strict";(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.title=n,this.number=r}var n,r;return n=e,(r=[{key:"render",value:function(){return'<div class="card" data-number="'.concat(this.number,'">\n      <div class="card__image"><img src="').concat(this.image,'"></div>\n      <span class="card__name">').concat(this.title,"</span>\n    </div>")}}])&&t(n.prototype,r),e}(),n={init:function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){var e=t.flat(),n=[];e.forEach((function(t){var e={word:t.word,translation:t.translation,category:t.category,clicks:0,correct:0,wrong:0,percent:0};n.push(e)})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))}))},countingStatistics:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));n.forEach((function(n){if(n.word===t){switch(e){case"clicks":n.clicks+=1;break;case"correct":n.correct+=1;break;case"wrong":n.wrong+=1}n.wrong+n.correct>0&&(n.percent=100*n.wrong/(n.wrong+n.correct))}})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))},buildingTable:function(t){for(var e=this,n=document.querySelector(".container");n.firstChild;)n.removeChild(n.firstChild);var r=document.createElement("div");r.classList.add("wrapper");var a=document.createElement("div");a.classList.add("panel-buttons");var s=document.createElement("div");s.classList.add("repeat-button");var i=document.createElement("span");i.innerText="Repeat difficult words",s.appendChild(i);var c=document.createElement("div");c.classList.add("reset-button");var o=document.createElement("span");o.innerText="Reset",c.appendChild(o),a.appendChild(s),a.appendChild(c);var d=document.createElement("table");d.classList.add("table"),r.appendChild(a),r.appendChild(d),n.appendChild(r),c.addEventListener("click",(function(){e.resetLocalStorage()})),s.addEventListener("click",(function(){e.repeatWords()})),d.innerHTML="<tr>\n      <th>Word</th>\n      <th>Translation</th>\n      <th>Category</th>\n      <th>Clicks</th>\n      <th>Correct</th>\n      <th>Wrong</th>\n      <th>% errors</th>\n    </tr>",t.forEach((function(t){d.innerHTML+="<tr>\n        <td>".concat(t.word,"</td>\n        <td>").concat(t.translation,"</td>\n        <td>").concat(t.category,"</td>\n        <td>").concat(t.clicks,"</td>\n        <td>").concat(t.correct,"</td>\n        <td>").concat(t.wrong,"</td>\n        <td>").concat(t.percent.toFixed(1),"</td>\n      </tr>")})),document.querySelectorAll("th").forEach((function(t){t.addEventListener("click",(function(){"↓"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!1):"↑"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!0):e.sortColumn(t.innerText,!0)}))}))},sortObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";return t.sort((function(t,n){return t["".concat(e)]>n["".concat(e)]?1:t["".concat(e)]<n["".concat(e)]?-1:0})),t},sortColumn:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));"% errors"===t&&(t="percent");var r,a,s=this.sortObject(n,t.toLowerCase());switch(e&&t.match(/Word|Translation|Category/)?(r="&darr;",this.buildingTable(s)):t.match(/Word|Translation|Category/)?(r="&uarr;",this.buildingTable(s.reverse())):e?(r="&darr;",this.buildingTable(s.reverse())):(r="&uarr;",this.buildingTable(s)),t){case"Word":a=document.querySelector("th:first-child");break;case"Translation":a=document.querySelector("th:nth-child(2)");break;case"Category":a=document.querySelector("th:nth-child(3)");break;case"Clicks":a=document.querySelector("th:nth-child(4)");break;case"Correct":a=document.querySelector("th:nth-child(5)");break;case"Wrong":a=document.querySelector("th:nth-child(6)");break;case"percent":a=document.querySelector("th:last-child")}a.innerHTML="".concat(r," ").concat(a.innerHTML)}};localStorage.getItem("english-for-kids")||n.init();const r=n;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.word=n,this.translation=r,this.number=a,this.card=null,this.cardFront=null,this.cardBack=null}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this.card=document.createElement("div"),this.card.classList.add("card-word"),this.cardFront=document.createElement("div"),this.cardFront.classList.add("card-word__front"),this.cardFront.setAttribute("data-number","".concat(this.number)),this.cardFront.setAttribute("data-name","".concat(this.word));var e=document.createElement("div");e.classList.add("card-word__front-image");var n=document.createElement("img");n.src="./".concat(this.image),n.addEventListener("load",(function(){e.appendChild(n)}));var a=document.createElement("span");a.classList.add("card-word__front-name"),a.innerText="".concat(this.word);var s=document.querySelector("label > input");this.cardFront.addEventListener("click",(function(e){e.target.classList.contains("reverse-button")||s.checked||(r.countingStatistics(t.word,"clicks"),t.toVoice())}));var i=document.createElement("div");i.classList.add("reverse-button"),i.setAttribute("data-number","".concat(this.number)),i.addEventListener("click",(function(){t.reverseCard()})),this.cardFront.appendChild(e),this.cardFront.appendChild(a),this.cardFront.appendChild(i),this.cardBack=document.createElement("div"),this.cardBack.classList.add("card-word__back");var c=document.createElement("div");c.classList.add("card-word__back-image");var o=document.createElement("img");o.src="./".concat(this.image),o.addEventListener("load",(function(){c.appendChild(o)}));var d=document.createElement("span");return d.classList.add("card-word__back-name"),d.innerText="".concat(this.translation),this.cardBack.appendChild(c),this.cardBack.appendChild(d),this.card.appendChild(this.cardFront),this.card.appendChild(this.cardBack),this.card}},{key:"toVoice",value:function(){var t=new Audio("./assets/sounds/".concat(this.word,".mp3"));t.load(),t.play()}},{key:"reverseCard",value:function(){var t=this;this.cardFront.style.transform="rotateY(180deg)",this.cardBack.style.transform="rotateY(360deg)",this.card.addEventListener("mouseleave",(function(){t.cardFront.style.transform="rotateY(0deg)",t.cardBack.style.transform="rotateY(180deg)"}))}}])&&a(e.prototype,n),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"render",value:function(){return'<div class="switch-container">\n      <div class="train-mode active-mode">Train</div>\n      <label class="switch">\n        <input type="checkbox">\n        <span class="slider round"></span>\n      </label>\n      <div class="game-mode">Play</div>\n    </div>'}}],null&&i(e.prototype,null),n&&i(e,n),t}();const o={startGameButton:null,boxStars:null,currentWords:[],correctAnswer:null,wrongAnswer:null,soundWin:null,soundLose:null,repeat:null,currentWord:null,mistakes:0,wordsUsed:[],init:function(){var t=this;this.repeat=!1,this.currentWords=[],this.currentWord=null,this.wordsUsed=[],this.startGameButton=document.createElement("div"),this.startGameButton.classList.add("button-play");var e=document.createElement("span");e.innerText="Start game",this.startGameButton.appendChild(e),this.boxStars=document.createElement("div"),this.boxStars.classList.add("box-stars"),this.correctAnswer=new Audio("./assets/sounds/correct.mp3"),this.wrongAnswer=new Audio("./assets/sounds/error.mp3"),this.soundWin=new Audio("./assets/sounds/success.mp3"),this.soundLose=new Audio("./assets/sounds/failure.mp3"),document.querySelector(".container .wrapper").appendChild(this.startGameButton),document.querySelector(".container .wrapper").appendChild(this.boxStars),this.startGameButton.addEventListener("click",(function(){t.repeat?t.currentWord.play():(t.startGameButton.classList.add("repeat"),document.querySelector(".button-play > span").innerText="",t.repeat=!0,t.play())}))},play:function(){var t=this,e=document.querySelectorAll(".card-word__front");e.forEach((function(e){t.currentWords.push(e.getAttribute("data-name"))})),this.currentWords.sort((function(){return Math.random()-.5}));var n=0,a=function(){t.currentWord=new Audio("./assets/sounds/".concat(t.currentWords[n],".mp3")),t.currentWord.load(),t.currentWord.play()};a(),e.forEach((function(e){e.addEventListener("click",(function(){if(e.getAttribute("data-name")===t.currentWords[n]){t.wordsUsed.push(t.currentWords[n]),r.countingStatistics(t.currentWords[n],"correct"),t.correctAnswer.play(),e.style.filter="blur(5px)";var s=document.createElement("img");s.src="./assets/icons/star-win.svg",t.boxStars.appendChild(s),(n+=1)<8?setTimeout(a,500):setTimeout((function(){t.finishGame()}),1e3)}else if(!t.wordsUsed.includes(e.getAttribute("data-name"))){r.countingStatistics(t.currentWords[n],"wrong"),t.mistakes+=1;var i=document.createElement("img");i.src="./assets/icons/star.svg",t.boxStars.appendChild(i),t.wrongAnswer.play()}}))}))},finishGame:function(){var t,e;l.removeContent(),0===this.mistakes?(t="Congratulations! You win!",e="./assets/icons/success.svg",this.soundWin.play()):(t="You lost(: Train and try again!</br>\n        You made ".concat(this.mistakes," mistake(s)."),e="./assets/icons/failure.svg",this.soundLose.play());var n=document.querySelector(".container"),r='<span class="win-title">'.concat(t,'</span>\n    <div class="win-image"><img src="').concat(e,'"></div>');n.innerHTML+=r;var a=document.createElement("div");a.classList.add("buttons-finish");var s=document.createElement("button");s.classList.add("new-game"),s.innerText="New game";var i=document.createElement("button");i.classList.add("main-menu"),i.innerText="Main menu",a.appendChild(s),a.appendChild(i),s.addEventListener("click",(function(){l.setContentCards(l.activeCard)})),i.addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")})),n.appendChild(a),this.mistakes=0}};var d={activeCard:null,title:{0:"Action (set A)",1:"Action (set B)",2:"Action (set C)",3:"Adjective",4:"Animal (set A)",5:"Animal (set B)",6:"Clothes",7:"Emotion"},images:{0:"./assets/images/categories/actionA.jpg",1:"./assets/images/categories/actionB.jpg",2:"./assets/images/categories/actionC.jpg",3:"./assets/images/categories/adjective.jpg",4:"./assets/images/categories/animalA.jpg",5:"./assets/images/categories/animalB.jpg",6:"./assets/images/categories/clothes.jpg",7:"./assets/images/categories/emotion.jpg"},setTitleCards:function(){var t=this;this.removeContent();var n=document.createElement("div");n.classList.add("wrapper"),document.querySelector(".container").appendChild(n);var r=document.createElement("div");r.classList.add("cards");for(var a=0;a<8;a+=1){var s=new e(this.images[a],this.title[a],a);r.innerHTML+=s.render()}n.appendChild(r),document.querySelectorAll(".card").forEach((function(e){e.addEventListener("click",(function(){t.removeContent(),t.activeCard=e.getAttribute("data-number"),t.setContentCards(t.activeCard)}))}))},setContentCards:function(t){this.removeContent();var e=document.createElement("div");e.classList.add("wrapper"),e.innerHTML+=c.render(),document.querySelector(".container").appendChild(e);var n=document.createElement("div");n.classList.add("cards"),fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(r){for(var a=r[t],i=0;i<a.length;i+=1){var c=new s(a[i].image,a[i].word,a[i].translation,i);n.appendChild(c.render())}e.appendChild(n)}));var r=document.querySelector("input[type=checkbox]");r.addEventListener("change",(function(){var t=document.querySelectorAll(".card-word");r.checked?(t.forEach((function(t){t.style.height="200px"})),o.init()):(t.forEach((function(t){t.style.height="280px"})),document.querySelector(".container .wrapper").removeChild(document.querySelector(".button-play")),document.querySelector(".container .wrapper").removeChild(document.querySelector(".box-stars")))}))},removeContent:function(){for(var t=document.querySelector(".container");t.firstChild;)t.removeChild(t.firstChild)}};d.setTitleCards();const l=d;var u={burgerBox:null,buttonOff:!0,init:function(){var t=this;this.burgerBox=document.createElement("div"),this.burgerBox.className="burger-menu__button";var e=document.createElement("div");e.className="first-line";var n=document.createElement("div");n.className="second-line";var r=document.createElement("div");r.className="third-line",this.burgerBox.appendChild(e),this.burgerBox.appendChild(n),this.burgerBox.appendChild(r),this.burgerBox.addEventListener("click",(function(){t.buttonOff?(e.style.transform="translateY(13px) rotate(45deg)",n.style.transform="translateX(-40px)",r.style.transform="translateY(-13px) rotate(-45deg)",document.querySelector(".burger-menu").style.transform="translateX(0)",document.querySelector(".modal").classList.remove("modal-disabled"),t.buttonOff=!1):(e.style.transform="translateY(0) rotate(0)",n.style.transform="translateX(0)",r.style.transform="translateY(0) rotate(0)",document.querySelector(".burger-menu").style.transform="translateX(-320px)",document.querySelector(".modal").classList.add("modal-disabled"),t.buttonOff=!0)})),document.querySelector(".header .wrapper").prepend(this.burgerBox)}};u.init();const m=u;document.querySelectorAll(".navigation-item").forEach((function(t){t.addEventListener("click",(function(){if(m.burgerBox.click(),document.querySelector(".navigation-item.active").classList.remove("active"),t.classList.add("active"),"main"===t.getAttribute("data-number"))l.setTitleCards();else if("statistics"===t.getAttribute("data-number")){var e=JSON.parse(localStorage.getItem("english-for-kids")),n=r.sortObject(e);r.buildingTable(n),document.querySelector("th:nth-child(1)").innerHTML="&darr; Word"}else l.removeContent(),l.setContentCards(t.getAttribute("data-number"))}))})),document.querySelector(".title").addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbXBvbmVudHMvdGl0bGUtY2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3N0YXRpc3RpY3MuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3BsYXktZ2FtZS5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2dhbWUtZmllbGQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlci1pY29uLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvYnVyZ2VyLW1lbnUuanMiXSwibmFtZXMiOlsiVGl0bGVDYXJkIiwiaW1hZ2UiLCJ0aXRsZSIsIm51bWJlciIsInRoaXMiLCJzdGF0aXN0aWNzIiwiaW5pdCIsImZldGNoIiwidGhlbiIsInJlc3VsdCIsImpzb24iLCJhbGxXb3JkcyIsImZsYXQiLCJjb21tb25BcnJheSIsImZvckVhY2giLCJpdGVtIiwiY3VycmVudE9iaiIsIndvcmQiLCJ0cmFuc2xhdGlvbiIsImNhdGVnb3J5IiwiY2xpY2tzIiwiY29ycmVjdCIsIndyb25nIiwicGVyY2VudCIsInB1c2giLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvdW50aW5nU3RhdGlzdGljcyIsInN0YXQiLCJwYXJzZSIsImdldEl0ZW0iLCJidWlsZGluZ1RhYmxlIiwiZGF0YSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInN0YXRDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYnV0dG9ucyIsInJlcGVhdEJ1dHRvbiIsInNwYW5SZXBlYXQiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsInJlc2V0QnV0dG9uIiwic3BhblJlc2V0IiwidGFibGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzZXRMb2NhbFN0b3JhZ2UiLCJyZXBlYXRXb3JkcyIsImlubmVySFRNTCIsInJvdyIsInRvRml4ZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVhZGluZyIsInNvcnRDb2x1bW4iLCJzbGljZSIsInNvcnRPYmplY3QiLCJvYmoiLCJrZXkiLCJzb3J0IiwiYSIsImIiLCJkaXJlY3RPcmRlciIsImFycm93IiwiZGF0YUZvclRhYmxlIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInJldmVyc2UiLCJDYXJkIiwiY2FyZCIsImNhcmRGcm9udCIsImNhcmRCYWNrIiwic2V0QXR0cmlidXRlIiwiY2FyZEZyb250SW1hZ2UiLCJpbWdGcm9udCIsInNyYyIsImNhcmRGcm9udE5hbWUiLCJnYW1lTW9kZSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjaGVja2VkIiwidG9Wb2ljZSIsImNhcmRCdXR0b24iLCJyZXZlcnNlQ2FyZCIsImNhcmRCYWNrSW1hZ2UiLCJpbWciLCJjYXJkQmFja05hbWUiLCJhdWRpbyIsIkF1ZGlvIiwibG9hZCIsInBsYXkiLCJzdHlsZSIsInRyYW5zZm9ybSIsIlN3aXRjaGVyIiwic3RhcnRHYW1lQnV0dG9uIiwiYm94U3RhcnMiLCJjdXJyZW50V29yZHMiLCJjb3JyZWN0QW5zd2VyIiwid3JvbmdBbnN3ZXIiLCJzb3VuZFdpbiIsInNvdW5kTG9zZSIsInJlcGVhdCIsImN1cnJlbnRXb3JkIiwibWlzdGFrZXMiLCJ3b3Jkc1VzZWQiLCJjdXJyZW50Q2FyZHMiLCJnZXRBdHRyaWJ1dGUiLCJNYXRoIiwicmFuZG9tIiwicGxheVdvcmQiLCJmaWx0ZXIiLCJ3aW5TdGFycyIsInNldFRpbWVvdXQiLCJmaW5pc2hHYW1lIiwiaW5jbHVkZXMiLCJzcGFuIiwiZ2FtZUZpZWxkIiwiZmluaXNoU2NyZWVuIiwiYnV0dG9uc0ZpbmlzaCIsIm5ld0dhbWVCdXR0b24iLCJtYWluTWVudUJ1dHRvbiIsInJlbW92ZSIsImFjdGl2ZUNhcmQiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsImltYWdlcyIsInNldFRpdGxlQ2FyZHMiLCJyZW1vdmVDb250ZW50IiwiY2FyZHNDb250YWluZXIiLCJpIiwicmVuZGVyIiwic2V0Q29udGVudENhcmRzIiwibGVuZ3RoIiwiaW5wdXQiLCJjYXJkcyIsImhlaWdodCIsInBsYXlHYW1lIiwiY3VycmVudENvbnRlbnQiLCJidXJnZXJJY29uIiwiYnVyZ2VyQm94IiwiYnV0dG9uT2ZmIiwiY2xhc3NOYW1lIiwiZmlyc3RMSW5lIiwic2Vjb25kTGluZSIsInRoaXJkTGluZSIsInByZXBlbmQiLCJsaW5rIl0sIm1hcHBpbmdzIjoibU1BQXFCQSxFLFdBQ25CLFdBQVlDLEVBQU9DLEVBQU9DLEksNEZBQVEsU0FDaENDLEtBQUtILE1BQVFBLEVBQ2JHLEtBQUtGLE1BQVFBLEVBQ2JFLEtBQUtELE9BQVNBLEUsc0RBU2QsTUFMYSxrQ0FBSCxPQUFxQ0MsS0FBS0QsT0FBMUMsd0RBQzZCQyxLQUFLSCxNQURsQyxvREFFbUJHLEtBQUtGLE1BRnhCLDRCLHNCQ1BSRyxFQUFhLENBQ2pCQyxLQURpQixXQUVmQyxNQUFNLDRCQUNIQyxNQUFLLFNBQUNDLEdBQUQsT0FBWUEsRUFBT0MsVUFDeEJGLE1BQUssU0FBQ0MsR0FDTCxJQUFNRSxFQUFXRixFQUFPRyxPQUNsQkMsRUFBYyxHQUNwQkYsRUFBU0csU0FBUSxTQUFDQyxHQUNoQixJQUFNQyxFQUFhLENBQ2pCQyxLQUFNRixFQUFLRSxLQUNYQyxZQUFhSCxFQUFLRyxZQUNsQkMsU0FBVUosRUFBS0ksU0FDZkMsT0FBUSxFQUNSQyxRQUFTLEVBQ1RDLE1BQU8sRUFDUEMsUUFBUyxHQUVYVixFQUFZVyxLQUFLUixNQUVuQlMs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SXJCckgsU0FBU0MsY0FBYyxvQkFBb0J5SCxRQUFRMUosS0FBS29KLGFBSTVERCxFQUFXakosT0FFWCxVQzNDYzhCLFNBQVNzQixpQkFBaUIsb0JBQ2xDNUMsU0FBUSxTQUFDaUosR0FDYkEsRUFBSzNHLGlCQUFpQixTQUFTLFdBSzdCLEdBSkFtRyxvQkFDQW5ILFNBQVNDLGNBQWMsMkJBQTJCSyxVQUFVc0YsT0FBTyxVQUNuRStCLEVBQUtySCxVQUFVQyxJQUFJLFVBRXNCLFNBQXJDb0gsRUFBSzlDLGFBQWEsZUFDcEJVLHVCQUNLLEdBQXlDLGVBQXJDb0MsRUFBSzlDLGFBQWEsZUFBaUMsQ0FDNUQsSUFBTW5GLEVBQU9ILEtBQUtJLE1BQU1OLGFBQWFPLFFBQVEscUJBQ3ZDc0MsRUFBZWpFLGFBQXNCeUIsR0FDM0N6QixnQkFBeUJpRSxHQUN6QmxDLFNBQVNDLGNBQWMsbUJBQW1Ca0IsVUFBWSxtQkFFdERvRSxrQkFDQUEsa0JBQTBCb0MsRUFBSzlDLGFBQWEsc0JBS3BDN0UsU0FBU0MsY0FBYyxVQUMvQmUsaUJBQWlCLFNBQVMsV0FDOUJ1RSxrQkFFQXZGLFNBQVNDLGNBQWMsMkJBQTJCSyxVQUFVc0YsT0FBTyxVQUNuRTVGLFNBQVNDLGNBQWMsZ0NBQWdDSyxVQUFVQyxJQUFJLGMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGVDYXJkIHtcbiAgY29uc3RydWN0b3IoaW1hZ2UsIHRpdGxlLCBudW1iZXIpIHtcbiAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhcmQgPSBgPGRpdiBjbGFzcz1cImNhcmRcIiBkYXRhLW51bWJlcj1cIiR7dGhpcy5udW1iZXJ9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZF9faW1hZ2VcIj48aW1nIHNyYz1cIiR7dGhpcy5pbWFnZX1cIj48L2Rpdj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZF9fbmFtZVwiPiR7dGhpcy50aXRsZX08L3NwYW4+XG4gICAgPC9kaXY+YDtcblxuICAgIHJldHVybiBjYXJkO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuY29uc3Qgc3RhdGlzdGljcyA9IHtcbiAgaW5pdCgpIHtcbiAgICBmZXRjaCgnLi9hc3NldHMvanNvbi9jYXJkcy5qc29uJylcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFdvcmRzID0gcmVzdWx0LmZsYXQoKTtcbiAgICAgICAgY29uc3QgY29tbW9uQXJyYXkgPSBbXTtcbiAgICAgICAgYWxsV29yZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRPYmogPSB7XG4gICAgICAgICAgICB3b3JkOiBpdGVtLndvcmQsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbjogaXRlbS50cmFuc2xhdGlvbixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBpdGVtLmNhdGVnb3J5LFxuICAgICAgICAgICAgY2xpY2tzOiAwLFxuICAgICAgICAgICAgY29ycmVjdDogMCxcbiAgICAgICAgICAgIHdyb25nOiAwLFxuICAgICAgICAgICAgcGVyY2VudDogMCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbW1vbkFycmF5LnB1c2goY3VycmVudE9iaik7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycsIGAke0pTT04uc3RyaW5naWZ5KGNvbW1vbkFycmF5KX1gKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIGNvdW50aW5nU3RhdGlzdGljcyh3b3JkLCBjYXRlZ29yeSkge1xuICAgIGNvbnN0IHN0YXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpO1xuICAgIHN0YXQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0ud29yZCA9PT0gd29yZCkge1xuICAgICAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICAgICAgY2FzZSAnY2xpY2tzJzpcbiAgICAgICAgICAgIGl0ZW0uY2xpY2tzICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb3JyZWN0JzpcbiAgICAgICAgICAgIGl0ZW0uY29ycmVjdCArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnd3JvbmcnOlxuICAgICAgICAgICAgaXRlbS53cm9uZyArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0ID4gMCkge1xuICAgICAgICAgIGl0ZW0ucGVyY2VudCA9IChpdGVtLndyb25nICogMTAwKSAvIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJywgYCR7SlNPTi5zdHJpbmdpZnkoc3RhdCl9YCk7XG4gIH0sXG5cbiAgYnVpbGRpbmdUYWJsZShkYXRhKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RhdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG5cbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdwYW5lbC1idXR0b25zJyk7XG5cbiAgICBjb25zdCByZXBlYXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXBlYXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVwZWF0LWJ1dHRvbicpO1xuICAgIGNvbnN0IHNwYW5SZXBlYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlcGVhdC5pbm5lclRleHQgPSAnUmVwZWF0IGRpZmZpY3VsdCB3b3Jkcyc7XG4gICAgcmVwZWF0QnV0dG9uLmFwcGVuZENoaWxkKHNwYW5SZXBlYXQpO1xuXG4gICAgY29uc3QgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXNldEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXNldC1idXR0b24nKTtcbiAgICBjb25zdCBzcGFuUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlc2V0LmlubmVyVGV4dCA9ICdSZXNldCc7XG4gICAgcmVzZXRCdXR0b24uYXBwZW5kQ2hpbGQoc3BhblJlc2V0KTtcblxuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQocmVwZWF0QnV0dG9uKTtcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlc2V0QnV0dG9uKTtcblxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICB0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXG4gICAgLy8gYWRkIGVsZW1lbnRzIHRvIHBhZ2VcbiAgICBzdGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIHN0YXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0Q29udGFpbmVyKTtcblxuICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNldExvY2FsU3RvcmFnZSgpO1xuICAgIH0pO1xuXG4gICAgcmVwZWF0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXBlYXRXb3JkcygpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVuZGVyaW5nIHRhYmxlXG4gICAgdGFibGUuaW5uZXJIVE1MID0gYDx0cj5cbiAgICAgIDx0aD5Xb3JkPC90aD5cbiAgICAgIDx0aD5UcmFuc2xhdGlvbjwvdGg+XG4gICAgICA8dGg+Q2F0ZWdvcnk8L3RoPlxuICAgICAgPHRoPkNsaWNrczwvdGg+XG4gICAgICA8dGg+Q29ycmVjdDwvdGg+XG4gICAgICA8dGg+V3Jvbmc8L3RoPlxuICAgICAgPHRoPiUgZXJyb3JzPC90aD5cbiAgICA8L3RyPmA7XG4gICAgZGF0YS5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHRhYmxlLmlubmVySFRNTCArPSBgPHRyPlxuICAgICAgICA8dGQ+JHtyb3cud29yZH08L3RkPlxuICAgICAgICA8dGQ+JHtyb3cudHJhbnNsYXRpb259PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LmNhdGVnb3J5fTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jbGlja3N9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LmNvcnJlY3R9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93Lndyb25nfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5wZXJjZW50LnRvRml4ZWQoMSl9PC90ZD5cbiAgICAgIDwvdHI+YDtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRhYmxlSGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJyk7XG4gICAgdGFibGVIZWFkLmZvckVhY2goKGhlYWRpbmcpID0+IHtcbiAgICAgIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmIChoZWFkaW5nLmlubmVyVGV4dFswXSA9PT0gJ+KGkycpIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQuc2xpY2UoMiksIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoZWFkaW5nLmlubmVyVGV4dFswXSA9PT0gJ+KGkScpIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQuc2xpY2UoMiksIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc29ydENvbHVtbihoZWFkaW5nLmlubmVyVGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHNvcnRPYmplY3Qob2JqLCBrZXkgPSAnd29yZCcpIHtcbiAgICBvYmouc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGFbYCR7a2V5fWBdID4gYltgJHtrZXl9YF0pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpZiAoYVtgJHtrZXl9YF0gPCBiW2Ake2tleX1gXSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgc29ydENvbHVtbihrZXksIGRpcmVjdE9yZGVyKSB7XG4gICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgaWYgKGtleSA9PT0gJyUgZXJyb3JzJykge1xuICAgICAga2V5ID0gJ3BlcmNlbnQnO1xuICAgIH1cbiAgICBjb25zdCBkYXRhRm9yVGFibGUgPSB0aGlzLnNvcnRPYmplY3Qoc3RhdCwga2V5LnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgbGV0IGFycm93O1xuICAgIGlmIChkaXJlY3RPcmRlciAmJiBrZXkubWF0Y2goL1dvcmR8VHJhbnNsYXRpb258Q2F0ZWdvcnkvKSkge1xuICAgICAgYXJyb3cgPSAnJmRhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9Xb3JkfFRyYW5zbGF0aW9ufENhdGVnb3J5LykpIHtcbiAgICAgIGFycm93ID0gJyZ1YXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3RPcmRlcikge1xuICAgICAgYXJyb3cgPSAnJmRhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUucmV2ZXJzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyb3cgPSAnJnVhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgIH1cblxuICAgIGxldCB0aXRsZTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnV29yZCc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6Zmlyc3QtY2hpbGQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdUcmFuc2xhdGlvbic6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDIpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ2F0ZWdvcnknOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgzKScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NsaWNrcyc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDQpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ29ycmVjdCc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDUpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnV3JvbmcnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg2KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BlcmNlbnQnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOmxhc3QtY2hpbGQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGl0bGUuaW5uZXJIVE1MID0gYCR7YXJyb3d9ICR7dGl0bGUuaW5uZXJIVE1MfWA7XG4gIH0sXG59O1xuXG5pZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpIHtcbiAgc3RhdGlzdGljcy5pbml0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0YXRpc3RpY3M7XG4iLCJpbXBvcnQgc3RhdGlzdGljcyBmcm9tICcuLi9zdGF0aXN0aWNzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGltYWdlLCB3b3JkLCB0cmFuc2xhdGlvbiwgbnVtYmVyKSB7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud29yZCA9IHdvcmQ7XG4gICAgdGhpcy50cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uO1xuICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICAgIHRoaXMuY2FyZCA9IG51bGw7XG4gICAgdGhpcy5jYXJkRnJvbnQgPSBudWxsO1xuICAgIHRoaXMuY2FyZEJhY2sgPSBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmQnKTtcblxuICAgIHRoaXMuY2FyZEZyb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jYXJkRnJvbnQuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19mcm9udCcpO1xuICAgIHRoaXMuY2FyZEZyb250LnNldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInLCBgJHt0aGlzLm51bWJlcn1gKTtcbiAgICB0aGlzLmNhcmRGcm9udC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIGAke3RoaXMud29yZH1gKTtcblxuICAgIGNvbnN0IGNhcmRGcm9udEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEZyb250SW1hZ2UuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19mcm9udC1pbWFnZScpO1xuICAgIGNvbnN0IGltZ0Zyb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nRnJvbnQuc3JjID0gYC4vJHt0aGlzLmltYWdlfWA7XG4gICAgaW1nRnJvbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGNhcmRGcm9udEltYWdlLmFwcGVuZENoaWxkKGltZ0Zyb250KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcmRGcm9udE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY2FyZEZyb250TmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2Zyb250LW5hbWUnKTtcbiAgICBjYXJkRnJvbnROYW1lLmlubmVyVGV4dCA9IGAke3RoaXMud29yZH1gO1xuXG4gICAgY29uc3QgZ2FtZU1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCA+IGlucHV0Jyk7XG5cbiAgICB0aGlzLmNhcmRGcm9udC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXZlcnNlLWJ1dHRvbicpICYmICFnYW1lTW9kZS5jaGVja2VkKSB7XG4gICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMud29yZCwgJ2NsaWNrcycpO1xuICAgICAgICB0aGlzLnRvVm9pY2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcmRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3JldmVyc2UtYnV0dG9uJyk7XG4gICAgY2FyZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJywgYCR7dGhpcy5udW1iZXJ9YCk7XG4gICAgY2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmV2ZXJzZUNhcmQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRGcm9udEltYWdlKTtcbiAgICB0aGlzLmNhcmRGcm9udC5hcHBlbmRDaGlsZChjYXJkRnJvbnROYW1lKTtcbiAgICB0aGlzLmNhcmRGcm9udC5hcHBlbmRDaGlsZChjYXJkQnV0dG9uKTtcblxuICAgIHRoaXMuY2FyZEJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNhcmRCYWNrLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fYmFjaycpO1xuXG4gICAgY29uc3QgY2FyZEJhY2tJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRCYWNrSW1hZ2UuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19iYWNrLWltYWdlJyk7XG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGAuLyR7dGhpcy5pbWFnZX1gO1xuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgY2FyZEJhY2tJbWFnZS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2FyZEJhY2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGNhcmRCYWNrTmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2stbmFtZScpO1xuICAgIGNhcmRCYWNrTmFtZS5pbm5lclRleHQgPSBgJHt0aGlzLnRyYW5zbGF0aW9ufWA7XG5cbiAgICB0aGlzLmNhcmRCYWNrLmFwcGVuZENoaWxkKGNhcmRCYWNrSW1hZ2UpO1xuICAgIHRoaXMuY2FyZEJhY2suYXBwZW5kQ2hpbGQoY2FyZEJhY2tOYW1lKTtcblxuICAgIHRoaXMuY2FyZC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRGcm9udCk7XG4gICAgdGhpcy5jYXJkLmFwcGVuZENoaWxkKHRoaXMuY2FyZEJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FyZDtcbiAgfVxuXG4gIHRvVm9pY2UoKSB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3RoaXMud29yZH0ubXAzYCk7XG4gICAgYXVkaW8ubG9hZCgpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgfVxuXG4gIHJldmVyc2VDYXJkKCkge1xuICAgIHRoaXMuY2FyZEZyb250LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIHRoaXMuY2FyZEJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMzYwZGVnKSc7XG4gICAgdGhpcy5jYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhcmRGcm9udC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlWSgwZGVnKSc7XG4gICAgICB0aGlzLmNhcmRCYWNrLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hlciB7XG4gIHN0YXRpYyByZW5kZXIoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGA8ZGl2IGNsYXNzPVwic3dpdGNoLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRyYWluLW1vZGUgYWN0aXZlLW1vZGVcIj5UcmFpbjwvZGl2PlxuICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZXIgcm91bmRcIj48L3NwYW4+XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzcz1cImdhbWUtbW9kZVwiPlBsYXk8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0aXN0aWNzJztcbmltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcblxuY29uc3QgcGxheUdhbWUgPSB7XG4gIHN0YXJ0R2FtZUJ1dHRvbjogbnVsbCxcbiAgYm94U3RhcnM6IG51bGwsXG4gIGN1cnJlbnRXb3JkczogW10sXG4gIGNvcnJlY3RBbnN3ZXI6IG51bGwsXG4gIHdyb25nQW5zd2VyOiBudWxsLFxuICBzb3VuZFdpbjogbnVsbCxcbiAgc291bmRMb3NlOiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGN1cnJlbnRXb3JkOiBudWxsLFxuICBtaXN0YWtlczogMCxcbiAgd29yZHNVc2VkOiBbXSxcblxuICBpbml0KCkge1xuICAgIHRoaXMucmVwZWF0ID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50V29yZHMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRXb3JkID0gbnVsbDtcbiAgICB0aGlzLndvcmRzVXNlZCA9IFtdO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tcGxheScpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdTdGFydCBnYW1lJztcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICB0aGlzLmJveFN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5ib3hTdGFycy5jbGFzc0xpc3QuYWRkKCdib3gtc3RhcnMnKTtcblxuICAgIHRoaXMuY29ycmVjdEFuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2NvcnJlY3QubXAzJyk7XG4gICAgdGhpcy53cm9uZ0Fuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2Vycm9yLm1wMycpO1xuICAgIHRoaXMuc291bmRXaW4gPSBuZXcgQXVkaW8oJy4vYXNzZXRzL3NvdW5kcy9zdWNjZXNzLm1wMycpO1xuICAgIHRoaXMuc291bmRMb3NlID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvZmFpbHVyZS5tcDMnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5hcHBlbmRDaGlsZCh0aGlzLnN0YXJ0R2FtZUJ1dHRvbik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpLmFwcGVuZENoaWxkKHRoaXMuYm94U3RhcnMpO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50V29yZC5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXBlYXQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5ID4gc3BhbicpLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLnJlcGVhdCA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBsYXkoKSB7XG4gICAgY29uc3QgY3VycmVudENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd29yZF9fZnJvbnQnKTtcbiAgICBjdXJyZW50Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50V29yZHMucHVzaChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFdvcmRzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICBsZXQgY3VycmVudFdvcmQgPSAwO1xuXG4gICAgY29uc3QgcGxheVdvcmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkID0gbmV3IEF1ZGlvKGAuL2Fzc2V0cy9zb3VuZHMvJHt0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF19Lm1wM2ApO1xuICAgICAgdGhpcy5jdXJyZW50V29yZC5sb2FkKCk7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgcGxheVdvcmQoKTtcblxuICAgIGN1cnJlbnRDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpID09PSB0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF0pIHtcbiAgICAgICAgICB0aGlzLndvcmRzVXNlZC5wdXNoKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSk7XG4gICAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdLCAnY29ycmVjdCcpO1xuICAgICAgICAgIHRoaXMuY29ycmVjdEFuc3dlci5wbGF5KCk7XG4gICAgICAgICAgY2FyZC5zdHlsZS5maWx0ZXIgPSAnYmx1cig1cHgpJztcblxuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXItd2luLnN2Zyc7XG4gICAgICAgICAgdGhpcy5ib3hTdGFycy5hcHBlbmRDaGlsZCh3aW5TdGFycyk7XG5cbiAgICAgICAgICBjdXJyZW50V29yZCArPSAxO1xuICAgICAgICAgIGlmIChjdXJyZW50V29yZCA8IDgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGxheVdvcmQsIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmZpbmlzaEdhbWUoKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy53b3Jkc1VzZWQuaW5jbHVkZXMoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpKSkge1xuICAgICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSwgJ3dyb25nJyk7XG4gICAgICAgICAgdGhpcy5taXN0YWtlcyArPSAxO1xuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXIuc3ZnJztcbiAgICAgICAgICB0aGlzLmJveFN0YXJzLmFwcGVuZENoaWxkKHdpblN0YXJzKTtcblxuICAgICAgICAgIHRoaXMud3JvbmdBbnN3ZXIucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBmaW5pc2hHYW1lKCkge1xuICAgIGdhbWVGaWVsZC5yZW1vdmVDb250ZW50KCk7XG5cbiAgICBsZXQgc3BhbjtcbiAgICBsZXQgc3JjO1xuICAgIGlmICh0aGlzLm1pc3Rha2VzID09PSAwKSB7XG4gICAgICBzcGFuID0gJ0NvbmdyYXR1bGF0aW9ucyEgWW91IHdpbiEnO1xuICAgICAgc3JjID0gJy4vYXNzZXRzL2ljb25zL3N1Y2Nlc3Muc3ZnJztcbiAgICAgIHRoaXMuc291bmRXaW4ucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFuID0gYFlvdSBsb3N0KDogVHJhaW4gYW5kIHRyeSBhZ2FpbiE8L2JyPlxuICAgICAgICBZb3UgbWFkZSAke3RoaXMubWlzdGFrZXN9IG1pc3Rha2UocykuYDtcbiAgICAgIHNyYyA9ICcuL2Fzc2V0cy9pY29ucy9mYWlsdXJlLnN2Zyc7XG4gICAgICB0aGlzLnNvdW5kTG9zZS5wbGF5KCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICBjb25zdCBmaW5pc2hTY3JlZW4gPSBgPHNwYW4gY2xhc3M9XCJ3aW4tdGl0bGVcIj4ke3NwYW59PC9zcGFuPlxuICAgIDxkaXYgY2xhc3M9XCJ3aW4taW1hZ2VcIj48aW1nIHNyYz1cIiR7c3JjfVwiPjwvZGl2PmA7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCArPSBmaW5pc2hTY3JlZW47XG5cbiAgICBjb25zdCBidXR0b25zRmluaXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0ZpbmlzaC5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWZpbmlzaCcpO1xuICAgIGNvbnN0IG5ld0dhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25ldy1nYW1lJyk7XG4gICAgbmV3R2FtZUJ1dHRvbi5pbm5lclRleHQgPSAnTmV3IGdhbWUnO1xuICAgIGNvbnN0IG1haW5NZW51QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbWFpbk1lbnVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51Jyk7XG4gICAgbWFpbk1lbnVCdXR0b24uaW5uZXJUZXh0ID0gJ01haW4gbWVudSc7XG4gICAgYnV0dG9uc0ZpbmlzaC5hcHBlbmRDaGlsZChuZXdHYW1lQnV0dG9uKTtcbiAgICBidXR0b25zRmluaXNoLmFwcGVuZENoaWxkKG1haW5NZW51QnV0dG9uKTtcblxuICAgIG5ld0dhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBnYW1lRmllbGQuc2V0Q29udGVudENhcmRzKGdhbWVGaWVsZC5hY3RpdmVDYXJkKTtcbiAgICB9KTtcblxuICAgIG1haW5NZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW06Zmlyc3QtY2hpbGQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zRmluaXNoKTtcbiAgICB0aGlzLm1pc3Rha2VzID0gMDtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXlHYW1lO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmltcG9ydCBUaXRsZUNhcmQgZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlLWNhcmQnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9jb21wb25lbnRzL2NhcmQnO1xuaW1wb3J0IFN3aXRjaGVyIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuaW1wb3J0IHBsYXlHYW1lIGZyb20gJy4vcGxheS1nYW1lJztcblxuY29uc3QgZ2FtZUZpZWxkID0ge1xuICBhY3RpdmVDYXJkOiBudWxsLFxuICB0aXRsZToge1xuICAgIDA6ICdBY3Rpb24gKHNldCBBKScsXG4gICAgMTogJ0FjdGlvbiAoc2V0IEIpJyxcbiAgICAyOiAnQWN0aW9uIChzZXQgQyknLFxuICAgIDM6ICdBZGplY3RpdmUnLFxuICAgIDQ6ICdBbmltYWwgKHNldCBBKScsXG4gICAgNTogJ0FuaW1hbCAoc2V0IEIpJyxcbiAgICA2OiAnQ2xvdGhlcycsXG4gICAgNzogJ0Vtb3Rpb24nLFxuICB9LFxuXG4gIGltYWdlczoge1xuICAgIDA6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hY3Rpb25BLmpwZycsXG4gICAgMTogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FjdGlvbkIuanBnJyxcbiAgICAyOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWN0aW9uQy5qcGcnLFxuICAgIDM6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hZGplY3RpdmUuanBnJyxcbiAgICA0OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYW5pbWFsQS5qcGcnLFxuICAgIDU6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hbmltYWxCLmpwZycsXG4gICAgNjogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2Nsb3RoZXMuanBnJyxcbiAgICA3OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvZW1vdGlvbi5qcGcnLFxuICB9LFxuXG4gIHNldFRpdGxlQ2FyZHMoKSB7XG4gICAgdGhpcy5yZW1vdmVDb250ZW50KCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3dyYXBwZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZHMnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IFRpdGxlQ2FyZCh0aGlzLmltYWdlc1tpXSwgdGhpcy50aXRsZVtpXSwgaSk7XG4gICAgICBjYXJkc0NvbnRhaW5lci5pbm5lckhUTUwgKz0gY2FyZC5yZW5kZXIoKTtcbiAgICB9XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmRzQ29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZUNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYXJkID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJyk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudENhcmRzKHRoaXMuYWN0aXZlQ2FyZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzZXRDb250ZW50Q2FyZHMoYWN0aXZlQ2FyZCkge1xuICAgIHRoaXMucmVtb3ZlQ29udGVudCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCArPSBTd2l0Y2hlci5yZW5kZXIoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZHMnKTtcblxuICAgIGZldGNoKCcuL2Fzc2V0cy9qc29uL2NhcmRzLmpzb24nKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdFthY3RpdmVDYXJkXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGFbaV0uaW1hZ2UsIGRhdGFbaV0ud29yZCwgZGF0YVtpXS50cmFuc2xhdGlvbiwgaSk7XG4gICAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZC5yZW5kZXIoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZHNDb250YWluZXIpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJyk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC13b3JkJyk7XG4gICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xuICAgICAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICAgICAgY2FyZC5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuICAgICAgICB9KTtcbiAgICAgICAgcGxheUdhbWUuaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gJzI4MHB4JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpLnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tcGxheScpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpLnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3gtc3RhcnMnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVtb3ZlQ29udGVudCgpIHtcbiAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICB3aGlsZSAoY3VycmVudENvbnRlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQoY3VycmVudENvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9LFxufTtcblxuZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUZpZWxkO1xuIiwiY29uc3QgYnVyZ2VySWNvbiA9IHtcbiAgYnVyZ2VyQm94OiBudWxsLFxuICBidXR0b25PZmY6IHRydWUsXG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmJ1cmdlckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYnVyZ2VyQm94LmNsYXNzTmFtZSA9ICdidXJnZXItbWVudV9fYnV0dG9uJztcblxuICAgIGNvbnN0IGZpcnN0TEluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZpcnN0TEluZS5jbGFzc05hbWUgPSAnZmlyc3QtbGluZSc7XG4gICAgY29uc3Qgc2Vjb25kTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNlY29uZExpbmUuY2xhc3NOYW1lID0gJ3NlY29uZC1saW5lJztcbiAgICBjb25zdCB0aGlyZExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlyZExpbmUuY2xhc3NOYW1lID0gJ3RoaXJkLWxpbmUnO1xuXG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQoZmlyc3RMSW5lKTtcbiAgICB0aGlzLmJ1cmdlckJveC5hcHBlbmRDaGlsZChzZWNvbmRMaW5lKTtcbiAgICB0aGlzLmJ1cmdlckJveC5hcHBlbmRDaGlsZCh0aGlyZExpbmUpO1xuXG4gICAgdGhpcy5idXJnZXJCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5idXR0b25PZmYpIHtcbiAgICAgICAgZmlyc3RMSW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEzcHgpIHJvdGF0ZSg0NWRlZyknO1xuICAgICAgICBzZWNvbmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC00MHB4KSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTNweCkgcm90YXRlKC00NWRlZyknO1xuXG4gICAgICAgIC8vIG1vdmVtZW50IGJ1cmdlci1tZW51XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5idXR0b25PZmYgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0TEluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSByb3RhdGUoMCknO1xuICAgICAgICBzZWNvbmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgdGhpcmRMaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApIHJvdGF0ZSgwKSc7XG5cbiAgICAgICAgLy8gbW92ZW1lbnQgYnVyZ2VyLW1lbnVcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1tZW51Jykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLTMyMHB4KSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgLndyYXBwZXInKS5wcmVwZW5kKHRoaXMuYnVyZ2VyQm94KTtcbiAgfSxcbn07XG5cbmJ1cmdlckljb24uaW5pdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBidXJnZXJJY29uO1xuIiwiaW1wb3J0IGdhbWVGaWVsZCBmcm9tICcuL2dhbWUtZmllbGQnO1xuaW1wb3J0IGJ1cmdlckljb24gZnJvbSAnLi9jb21wb25lbnRzL2J1cmdlci1pY29uJztcbmltcG9ydCBzdGF0aXN0aWNzIGZyb20gJy4vc3RhdGlzdGljcyc7XG5cbmNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmlnYXRpb24taXRlbScpO1xubGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGJ1cmdlckljb24uYnVyZ2VyQm94LmNsaWNrKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpID09PSAnbWFpbicpIHtcbiAgICAgIGdhbWVGaWVsZC5zZXRUaXRsZUNhcmRzKCk7XG4gICAgfSBlbHNlIGlmIChsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKSA9PT0gJ3N0YXRpc3RpY3MnKSB7XG4gICAgICBjb25zdCBzdGF0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycpKTtcbiAgICAgIGNvbnN0IGRhdGFGb3JUYWJsZSA9IHN0YXRpc3RpY3Muc29ydE9iamVjdChzdGF0KTtcbiAgICAgIHN0YXRpc3RpY3MuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDEpJykuaW5uZXJIVE1MID0gJyZkYXJyOyBXb3JkJztcbiAgICB9IGVsc2Uge1xuICAgICAgZ2FtZUZpZWxkLnJlbW92ZUNvbnRlbnQoKTtcbiAgICAgIGdhbWVGaWVsZC5zZXRDb250ZW50Q2FyZHMobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcbnRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBnYW1lRmllbGQuc2V0VGl0bGVDYXJkcygpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW0uYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW06Zmlyc3QtY2hpbGQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==