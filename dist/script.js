(()=>{"use strict";(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.title=n,this.number=r}var n,r;return n=e,(r=[{key:"render",value:function(){return'<div class="card" data-number="'.concat(this.number,'">\n      <div class="card__image"><img src="').concat(this.image,'"></div>\n      <span class="card__name">').concat(this.title,"</span>\n    </div>")}}])&&t(n.prototype,r),e}(),n={init:function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){var e=t.flat(),n=[];e.forEach((function(t){var e={word:t.word,translation:t.translation,category:t.category,clicks:0,correct:0,wrong:0,percent:0};n.push(e)})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))}))},countingStatistics:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));n.forEach((function(n){if(n.word===t){switch(e){case"clicks":n.clicks+=1;break;case"correct":n.correct+=1;break;case"wrong":n.wrong+=1}n.wrong+n.correct>0&&(n.percent=100*n.wrong/(n.wrong+n.correct))}})),localStorage.setItem("english-for-kids","".concat(JSON.stringify(n)))},buildingTable:function(t){for(var e=this,n=document.querySelector(".container");n.firstChild;)n.removeChild(n.firstChild);var r=document.createElement("div");r.classList.add("wrapper");var a=document.createElement("div");a.classList.add("panel-buttons");var s=document.createElement("div");s.classList.add("repeat-button");var c=document.createElement("span");c.innerText="Repeat difficult words",s.appendChild(c);var i=document.createElement("div");i.classList.add("reset-button");var o=document.createElement("span");o.innerText="Reset",i.appendChild(o),a.appendChild(s),a.appendChild(i);var d=document.createElement("table");d.classList.add("table"),r.appendChild(a),r.appendChild(d),n.appendChild(r),i.addEventListener("click",(function(){e.resetLocalStorage()})),s.addEventListener("click",(function(){e.repeatWords()})),d.innerHTML="<tr>\n      <th>Word</th>\n      <th>Translation</th>\n      <th>Category</th>\n      <th>Clicks</th>\n      <th>Correct</th>\n      <th>Wrong</th>\n      <th>% errors</th>\n    </tr>",t.forEach((function(t){d.innerHTML+="<tr>\n        <td>".concat(t.word,"</td>\n        <td>").concat(t.translation,"</td>\n        <td>").concat(t.category,"</td>\n        <td>").concat(t.clicks,"</td>\n        <td>").concat(t.correct,"</td>\n        <td>").concat(t.wrong,"</td>\n        <td>").concat(t.percent.toFixed(1),"</td>\n      </tr>")})),document.querySelectorAll("th").forEach((function(t){t.addEventListener("click",(function(){"↓"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!1):"↑"===t.innerText[0]?e.sortColumn(t.innerText.slice(2),!0):e.sortColumn(t.innerText,!0)}))}))},sortObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";return t.sort((function(t,n){return t["".concat(e)]>n["".concat(e)]?1:t["".concat(e)]<n["".concat(e)]?-1:0})),t},sortColumn:function(t,e){var n=JSON.parse(localStorage.getItem("english-for-kids"));"% errors"===t&&(t="percent");var r,a,s=this.sortObject(n,t.toLowerCase());switch(e&&t.match(/Word|Translation|Category/)?(r="&darr;",this.buildingTable(s)):t.match(/Word|Translation|Category/)?(r="&uarr;",this.buildingTable(s.reverse())):e?(r="&darr;",this.buildingTable(s.reverse())):(r="&uarr;",this.buildingTable(s)),t){case"Word":a=document.querySelector("th:first-child");break;case"Translation":a=document.querySelector("th:nth-child(2)");break;case"Category":a=document.querySelector("th:nth-child(3)");break;case"Clicks":a=document.querySelector("th:nth-child(4)");break;case"Correct":a=document.querySelector("th:nth-child(5)");break;case"Wrong":a=document.querySelector("th:nth-child(6)");break;case"percent":a=document.querySelector("th:last-child")}a.innerHTML="".concat(r," ").concat(a.innerHTML)}};localStorage.getItem("english-for-kids")||n.init();const r=n;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.word=n,this.translation=r,this.number=a,this.card=null,this.cardFront=null,this.cardBack=null}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this.card=document.createElement("div"),this.card.classList.add("card-word"),this.cardFront=document.createElement("div"),this.cardFront.classList.add("card-word__front"),this.cardFront.setAttribute("data-number","".concat(this.number)),this.cardFront.setAttribute("data-name","".concat(this.word));var e=document.createElement("div");e.classList.add("card-word__front-image");var n=document.createElement("img");n.src="./".concat(this.image),e.appendChild(n);var a=document.createElement("span");a.classList.add("card-word__front-name"),a.innerText="".concat(this.word);var s=document.querySelector("label > input");this.cardFront.addEventListener("click",(function(e){e.target.classList.contains("reverse-button")||s.checked||(r.countingStatistics(t.word,"clicks"),t.toVoice())}));var c=document.createElement("div");c.classList.add("reverse-button"),c.setAttribute("data-number","".concat(this.number)),c.addEventListener("click",(function(){t.reverseCard()})),this.cardFront.appendChild(e),this.cardFront.appendChild(a),this.cardFront.appendChild(c),this.cardBack=document.createElement("div"),this.cardBack.classList.add("card-word__back");var i=document.createElement("div");i.classList.add("card-word__back-image");var o=document.createElement("img");o.src="./".concat(this.image),i.appendChild(o);var d=document.createElement("span");return d.classList.add("card-word__back-name"),d.innerText="".concat(this.translation),this.cardBack.appendChild(i),this.cardBack.appendChild(d),this.card.appendChild(this.cardFront),this.card.appendChild(this.cardBack),this.card}},{key:"toVoice",value:function(){var t=new Audio("./assets/sounds/".concat(this.word,".mp3"));t.load(),t.play()}},{key:"reverseCard",value:function(){var t=this;this.cardFront.style.transform="rotateY(180deg)",this.cardBack.style.transform="rotateY(360deg)",this.card.addEventListener("mouseleave",(function(){t.cardFront.style.transform="rotateY(0deg)",t.cardBack.style.transform="rotateY(180deg)"}))}}])&&a(e.prototype,n),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"render",value:function(){return'<div class="switch-container">\n      <div class="train-mode active-mode">Train</div>\n      <label class="switch">\n        <input type="checkbox">\n        <span class="slider round"></span>\n      </label>\n      <div class="game-mode">Play</div>\n    </div>'}}],null&&c(e.prototype,null),n&&c(e,n),t}();const o={startGameButton:null,boxStars:null,currentWords:[],correctAnswer:null,wrongAnswer:null,soundWin:null,soundLose:null,repeat:null,currentWord:null,mistakes:0,wordsUsed:[],init:function(){var t=this;this.repeat=!1,this.currentWords=[],this.currentWord=null,this.wordsUsed=[],this.startGameButton=document.createElement("div"),this.startGameButton.classList.add("button-play");var e=document.createElement("span");e.innerText="Start game",this.startGameButton.appendChild(e),this.boxStars=document.createElement("div"),this.boxStars.classList.add("box-stars"),this.correctAnswer=new Audio("./assets/sounds/correct.mp3"),this.wrongAnswer=new Audio("./assets/sounds/error.mp3"),this.soundWin=new Audio("./assets/sounds/success.mp3"),this.soundLose=new Audio("./assets/sounds/failure.mp3"),document.querySelector(".container .wrapper").appendChild(this.startGameButton),document.querySelector(".container .wrapper").appendChild(this.boxStars),this.startGameButton.addEventListener("click",(function(){t.repeat?t.currentWord.play():(t.startGameButton.classList.add("repeat"),document.querySelector(".button-play > span").innerText="",t.repeat=!0,t.play())}))},play:function(){var t=this,e=document.querySelectorAll(".card-word__front");e.forEach((function(e){t.currentWords.push(e.getAttribute("data-name"))})),this.currentWords.sort((function(){return Math.random()-.5}));var n=0,a=function(){t.currentWord=new Audio("./assets/sounds/".concat(t.currentWords[n],".mp3")),t.currentWord.load(),t.currentWord.play()};a(),e.forEach((function(e){e.addEventListener("click",(function(){if(e.getAttribute("data-name")===t.currentWords[n]){t.wordsUsed.push(t.currentWords[n]),r.countingStatistics(t.currentWords[n],"correct"),t.correctAnswer.play(),e.style.filter="blur(5px)";var s=document.createElement("img");s.src="./assets/icons/star-win.svg",t.boxStars.appendChild(s),(n+=1)<8?setTimeout(a,500):setTimeout((function(){t.finishGame()}),1e3)}else if(!t.wordsUsed.includes(e.getAttribute("data-name"))){r.countingStatistics(t.currentWords[n],"wrong"),t.mistakes+=1;var c=document.createElement("img");c.src="./assets/icons/star.svg",t.boxStars.appendChild(c),t.wrongAnswer.play()}}))}))},finishGame:function(){var t,e;l.removeContent(),0===this.mistakes?(t="Congratulations! You win!",e="./assets/icons/success.svg",this.soundWin.play()):(t="You lost(: Train and try again!</br>\n        You made ".concat(this.mistakes," mistake(s)."),e="./assets/icons/failure.svg",this.soundLose.play());var n=document.querySelector(".container"),r='<span class="win-title">'.concat(t,'</span>\n    <div class="win-image"><img src="').concat(e,'"></div>');n.innerHTML+=r;var a=document.createElement("div");a.classList.add("buttons-finish");var s=document.createElement("button");s.classList.add("new-game"),s.innerText="New game";var c=document.createElement("button");c.classList.add("main-menu"),c.innerText="Main menu",a.appendChild(s),a.appendChild(c),s.addEventListener("click",(function(){l.setContentCards(l.activeCard)})),c.addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")})),n.appendChild(a),this.mistakes=0}};var d={activeCard:null,title:{0:"Action (set A)",1:"Action (set B)",2:"Action (set C)",3:"Adjective",4:"Animal (set A)",5:"Animal (set B)",6:"Clothes",7:"Emotion"},images:{0:"./assets/images/categories/actionA.jpg",1:"./assets/images/categories/actionB.jpg",2:"./assets/images/categories/actionC.jpg",3:"./assets/images/categories/adjective.jpg",4:"./assets/images/categories/animalA.jpg",5:"./assets/images/categories/animalB.jpg",6:"./assets/images/categories/clothes.jpg",7:"./assets/images/categories/emotion.jpg"},setTitleCards:function(){var t=this;this.removeContent();var n=document.createElement("div");n.classList.add("wrapper"),document.querySelector(".container").appendChild(n);var r=document.createElement("div");r.classList.add("cards");for(var a=0;a<8;a+=1){var s=new e(this.images[a],this.title[a],a);r.innerHTML+=s.render()}n.appendChild(r),document.querySelectorAll(".card").forEach((function(e){e.addEventListener("click",(function(){t.removeContent(),t.activeCard=e.getAttribute("data-number"),t.setContentCards(t.activeCard)}))}))},setContentCards:function(t){this.removeContent();var e=document.createElement("div");e.classList.add("wrapper"),e.innerHTML+=i.render(),document.querySelector(".container").appendChild(e);var n=document.createElement("div");n.classList.add("cards"),fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(r){for(var a=r[t],c=0;c<a.length;c+=1){var i=new s(a[c].image,a[c].word,a[c].translation,c);n.appendChild(i.render())}e.appendChild(n)}));var r=document.querySelector("input[type=checkbox]");r.addEventListener("change",(function(){var t=document.querySelectorAll(".card-word");r.checked?(t.forEach((function(t){t.style.height="200px"})),o.init()):(t.forEach((function(t){t.style.height="280px"})),document.querySelector(".container .wrapper").removeChild(document.querySelector(".button-play")),document.querySelector(".container .wrapper").removeChild(document.querySelector(".box-stars")))}))},removeContent:function(){for(var t=document.querySelector(".container");t.firstChild;)t.removeChild(t.firstChild)}};d.setTitleCards();const l=d;var u={burgerBox:null,buttonOff:!0,init:function(){var t=this;this.burgerBox=document.createElement("div"),this.burgerBox.className="burger-menu__button";var e=document.createElement("div");e.className="first-line";var n=document.createElement("div");n.className="second-line";var r=document.createElement("div");r.className="third-line",this.burgerBox.appendChild(e),this.burgerBox.appendChild(n),this.burgerBox.appendChild(r),this.burgerBox.addEventListener("click",(function(){t.buttonOff?(e.style.transform="translateY(13px) rotate(45deg)",n.style.transform="translateX(-40px)",r.style.transform="translateY(-13px) rotate(-45deg)",document.querySelector(".burger-menu").style.transform="translateX(0)",document.querySelector(".modal").classList.remove("modal-disabled"),t.buttonOff=!1):(e.style.transform="translateY(0) rotate(0)",n.style.transform="translateX(0)",r.style.transform="translateY(0) rotate(0)",document.querySelector(".burger-menu").style.transform="translateX(-320px)",document.querySelector(".modal").classList.add("modal-disabled"),t.buttonOff=!0)})),document.querySelector(".header .wrapper").prepend(this.burgerBox)}};u.init();const m=u;document.querySelectorAll(".navigation-item").forEach((function(t){t.addEventListener("click",(function(){if(m.burgerBox.click(),document.querySelector(".navigation-item.active").classList.remove("active"),t.classList.add("active"),"main"===t.getAttribute("data-number"))l.setTitleCards();else if("statistics"===t.getAttribute("data-number")){var e=JSON.parse(localStorage.getItem("english-for-kids")),n=r.sortObject(e);r.buildingTable(n),document.querySelector("th:nth-child(1)").innerHTML="&darr; Word"}else l.removeContent(),l.setContentCards(t.getAttribute("data-number"))}))})),document.querySelector(".title").addEventListener("click",(function(){l.setTitleCards(),document.querySelector(".navigation-item.active").classList.remove("active"),document.querySelector(".navigation-item:first-child").classList.add("active")})),document.addEventListener("DOMContentLoaded",(function(){fetch("./assets/json/cards.json").then((function(t){return t.json()})).then((function(t){!function(t){for(var e=0;e<t.length;e+=1)(new Image).src="./".concat(t[e])}(t.flat().map((function(t){return t.image})))}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbXBvbmVudHMvdGl0bGUtY2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3N0YXRpc3RpY3MuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3BsYXktZ2FtZS5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2dhbWUtZmllbGQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlci1pY29uLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvYnVyZ2VyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJUaXRsZUNhcmQiLCJpbWFnZSIsInRpdGxlIiwibnVtYmVyIiwidGhpcyIsInN0YXRpc3RpY3MiLCJpbml0IiwiZmV0Y2giLCJ0aGVuIiwicmVzdWx0IiwianNvbiIsImFsbFdvcmRzIiwiZmxhdCIsImNvbW1vbkFycmF5IiwiZm9yRWFjaCIsIml0ZW0iLCJjdXJyZW50T2JqIiwid29yZCIsInRyYW5zbGF0aW9uIiwiY2F0ZWdvcnkiLCJjbGlja3MiLCJjb3JyZWN0Iiwid3JvbmciLCJwZXJjZW50IiwicHVzaCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiY291bnRpbmdTdGF0aXN0aWNzIiwic3RhdCIsInBhcnNlIiwiZ2V0SXRlbSIsImJ1aWxkaW5nVGFibGUiLCJkYXRhIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwic3RhdENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJidXR0b25zIiwicmVwZWF0QnV0dG9uIiwic3BhblJlcGVhdCIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwicmVzZXRCdXR0b24iLCJzcGFuUmVzZXQiLCJ0YWJsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNldExvY2FsU3RvcmFnZSIsInJlcGVhdFdvcmRzIiwiaW5uZXJIVE1MIiwicm93IiwidG9GaXhlZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoZWFkaW5nIiwic29ydENvbHVtbiIsInNsaWNlIiwic29ydE9iamVjdCIsIm9iaiIsImtleSIsInNvcnQiLCJhIiwiYiIsImRpcmVjdE9yZGVyIiwiYXJyb3ciLCJkYXRhRm9yVGFibGUiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwicmV2ZXJzZSIsIkNhcmQiLCJjYXJkIiwiY2FyZEZyb250IiwiY2FyZEJhY2siLCJzZXRBdHRyaWJ1dGUiLCJjYXJkRnJvbnRJbWFnZSIsImltZ0Zyb250Iiwic3JjIiwiY2FyZEZyb250TmFtZSIsImdhbWVNb2RlIiwiZXZlbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImNoZWNrZWQiLCJ0b1ZvaWNlIiwiY2FyZEJ1dHRvbiIsInJldmVyc2VDYXJkIiwiY2FyZEJhY2tJbWFnZSIsImltZyIsImNhcmRCYWNrTmFtZSIsImF1ZGlvIiwiQXVkaW8iLCJsb2FkIiwicGxheSIsInN0eWxlIiwidHJhbnNmb3JtIiwiU3dpdGNoZXIiLCJzdGFydEdhbWVCdXR0b24iLCJib3hTdGFycyIsImN1cnJlbnRXb3JkcyIsImNvcnJlY3RBbnN3ZXIiLCJ3cm9uZ0Fuc3dlciIsInNvdW5kV2luIiwic291bmRMb3NlIiwicmVwZWF0IiwiY3VycmVudFdvcmQiLCJtaXN0YWtlcyIsIndvcmRzVXNlZCIsImN1cnJlbnRDYXJkcyIsImdldEF0dHJpYnV0ZSIsIk1hdGgiLCJyYW5kb20iLCJwbGF5V29yZCIsImZpbHRlciIsIndpblN0YXJzIiwic2V0VGltZW91dCIsImZpbmlzaEdhbWUiLCJpbmNsdWRlcyIsInNwYW4iLCJnYW1lRmllbGQiLCJmaW5pc2hTY3JlZW4iLCJidXR0b25zRmluaXNoIiwibmV3R2FtZUJ1dHRvbiIsIm1haW5NZW51QnV0dG9uIiwicmVtb3ZlIiwiYWN0aXZlQ2FyZCIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiaW1hZ2VzIiwic2V0VGl0bGVDYXJkcyIsInJlbW92ZUNvbnRlbnQiLCJjYXJkc0NvbnRhaW5lciIsImkiLCJyZW5kZXIiLCJzZXRDb250ZW50Q2FyZHMiLCJsZW5ndGgiLCJpbnB1dCIsImNhcmRzIiwiaGVpZ2h0IiwicGxheUdhbWUiLCJjdXJyZW50Q29udGVudCIsImJ1cmdlckljb24iLCJidXJnZXJCb3giLCJidXR0b25PZmYiLCJjbGFzc05hbWUiLCJmaXJzdExJbmUiLCJzZWNvbmRMaW5lIiwidGhpcmRMaW5lIiwicHJlcGVuZCIsImxpbmsiLCJhcnIiLCJJbWFnZSIsInByZWxvYWRJbWFnZXMiLCJtYXAiXSwibWFwcGluZ3MiOiJtTUFBcUJBLEUsV0FDbkIsV0FBWUMsRUFBT0MsRUFBT0MsSSw0RkFBUSxTQUNoQ0MsS0FBS0gsTUFBUUEsRUFDYkcsS0FBS0YsTUFBUUEsRUFDYkUsS0FBS0QsT0FBU0EsRSxzREFTZCxNQUxhLGtDQUFILE9BQXFDQyxLQUFLRCxPQUExQyx3REFDNkJDLEtBQUtILE1BRGxDLG9EQUVtQkcsS0FBS0YsTUFGeEIsNEIsc0JDUFJHLEVBQWEsQ0FDakJDLEtBRGlCLFdBRWZDLE1BQU0sNEJBQ0hDLE1BQUssU0FBQ0MsR0FBRCxPQUFZQSxFQUFPQyxVQUN4QkYsTUFBSyxTQUFDQyxHQUNMLElBQU1FLEVBQVdGLEVBQU9HLE9BQ2xCQyxFQUFjLEdBQ3BCRixFQUFTRyxTQUFRLFNBQUNDLEdBQ2hCLElBQU1DLEVBQWEsQ0FDakJDLEtBQU1GLEVBQUtFLEtBQ1hDLFlBQWFILEVBQUtHLFlBQ2xC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c3MgVGl0bGVDYXJkIHtcbiAgY29uc3RydWN0b3IoaW1hZ2UsIHRpdGxlLCBudW1iZXIpIHtcbiAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhcmQgPSBgPGRpdiBjbGFzcz1cImNhcmRcIiBkYXRhLW51bWJlcj1cIiR7dGhpcy5udW1iZXJ9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZF9faW1hZ2VcIj48aW1nIHNyYz1cIiR7dGhpcy5pbWFnZX1cIj48L2Rpdj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZF9fbmFtZVwiPiR7dGhpcy50aXRsZX08L3NwYW4+XG4gICAgPC9kaXY+YDtcblxuICAgIHJldHVybiBjYXJkO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuY29uc3Qgc3RhdGlzdGljcyA9IHtcbiAgaW5pdCgpIHtcbiAgICBmZXRjaCgnLi9hc3NldHMvanNvbi9jYXJkcy5qc29uJylcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFdvcmRzID0gcmVzdWx0LmZsYXQoKTtcbiAgICAgICAgY29uc3QgY29tbW9uQXJyYXkgPSBbXTtcbiAgICAgICAgYWxsV29yZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRPYmogPSB7XG4gICAgICAgICAgICB3b3JkOiBpdGVtLndvcmQsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbjogaXRlbS50cmFuc2xhdGlvbixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBpdGVtLmNhdGVnb3J5LFxuICAgICAgICAgICAgY2xpY2tzOiAwLFxuICAgICAgICAgICAgY29ycmVjdDogMCxcbiAgICAgICAgICAgIHdyb25nOiAwLFxuICAgICAgICAgICAgcGVyY2VudDogMCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbW1vbkFycmF5LnB1c2goY3VycmVudE9iaik7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW5nbGlzaC1mb3Ita2lkcycsIGAke0pTT04uc3RyaW5naWZ5KGNvbW1vbkFycmF5KX1gKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIGNvdW50aW5nU3RhdGlzdGljcyh3b3JkLCBjYXRlZ29yeSkge1xuICAgIGNvbnN0IHN0YXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpO1xuICAgIHN0YXQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0ud29yZCA9PT0gd29yZCkge1xuICAgICAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICAgICAgY2FzZSAnY2xpY2tzJzpcbiAgICAgICAgICAgIGl0ZW0uY2xpY2tzICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb3JyZWN0JzpcbiAgICAgICAgICAgIGl0ZW0uY29ycmVjdCArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnd3JvbmcnOlxuICAgICAgICAgICAgaXRlbS53cm9uZyArPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0ID4gMCkge1xuICAgICAgICAgIGl0ZW0ucGVyY2VudCA9IChpdGVtLndyb25nICogMTAwKSAvIChpdGVtLndyb25nICsgaXRlbS5jb3JyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJywgYCR7SlNPTi5zdHJpbmdpZnkoc3RhdCl9YCk7XG4gIH0sXG5cbiAgYnVpbGRpbmdUYWJsZShkYXRhKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RhdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG5cbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdwYW5lbC1idXR0b25zJyk7XG5cbiAgICBjb25zdCByZXBlYXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXBlYXRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVwZWF0LWJ1dHRvbicpO1xuICAgIGNvbnN0IHNwYW5SZXBlYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlcGVhdC5pbm5lclRleHQgPSAnUmVwZWF0IGRpZmZpY3VsdCB3b3Jkcyc7XG4gICAgcmVwZWF0QnV0dG9uLmFwcGVuZENoaWxkKHNwYW5SZXBlYXQpO1xuXG4gICAgY29uc3QgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXNldEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXNldC1idXR0b24nKTtcbiAgICBjb25zdCBzcGFuUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhblJlc2V0LmlubmVyVGV4dCA9ICdSZXNldCc7XG4gICAgcmVzZXRCdXR0b24uYXBwZW5kQ2hpbGQoc3BhblJlc2V0KTtcblxuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQocmVwZWF0QnV0dG9uKTtcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlc2V0QnV0dG9uKTtcblxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICB0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXG4gICAgLy8gYWRkIGVsZW1lbnRzIHRvIHBhZ2VcbiAgICBzdGF0Q29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIHN0YXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0Q29udGFpbmVyKTtcblxuICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNldExvY2FsU3RvcmFnZSgpO1xuICAgIH0pO1xuXG4gICAgcmVwZWF0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXBlYXRXb3JkcygpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVuZGVyaW5nIHRhYmxlXG4gICAgdGFibGUuaW5uZXJIVE1MID0gYDx0cj5cbiAgICAgIDx0aD5Xb3JkPC90aD5cbiAgICAgIDx0aD5UcmFuc2xhdGlvbjwvdGg+XG4gICAgICA8dGg+Q2F0ZWdvcnk8L3RoPlxuICAgICAgPHRoPkNsaWNrczwvdGg+XG4gICAgICA8dGg+Q29ycmVjdDwvdGg+XG4gICAgICA8dGg+V3Jvbmc8L3RoPlxuICAgICAgPHRoPiUgZXJyb3JzPC90aD5cbiAgICA8L3RyPmA7XG4gICAgZGF0YS5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHRhYmxlLmlubmVySFRNTCArPSBgPHRyPlxuICAgICAgICA8dGQ+JHtyb3cud29yZH08L3RkPlxuICAgICAgICA8dGQ+JHtyb3cudHJhbnNsYXRpb259PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LmNhdGVnb3J5fTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5jbGlja3N9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93LmNvcnJlY3R9PC90ZD5cbiAgICAgICAgPHRkPiR7cm93Lndyb25nfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Jvdy5wZXJjZW50LnRvRml4ZWQoMSl9PC90ZD5cbiAgICAgIDwvdHI+YDtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRhYmxlSGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJyk7XG4gICAgdGFibGVIZWFkLmZvckVhY2goKGhlYWRpbmcpID0+IHtcbiAgICAgIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmIChoZWFkaW5nLmlubmVyVGV4dFswXSA9PT0gJ+KGkycpIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQuc2xpY2UoMiksIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoZWFkaW5nLmlubmVyVGV4dFswXSA9PT0gJ+KGkScpIHtcbiAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4oaGVhZGluZy5pbm5lclRleHQuc2xpY2UoMiksIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc29ydENvbHVtbihoZWFkaW5nLmlubmVyVGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHNvcnRPYmplY3Qob2JqLCBrZXkgPSAnd29yZCcpIHtcbiAgICBvYmouc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGFbYCR7a2V5fWBdID4gYltgJHtrZXl9YF0pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpZiAoYVtgJHtrZXl9YF0gPCBiW2Ake2tleX1gXSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgc29ydENvbHVtbihrZXksIGRpcmVjdE9yZGVyKSB7XG4gICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgaWYgKGtleSA9PT0gJyUgZXJyb3JzJykge1xuICAgICAga2V5ID0gJ3BlcmNlbnQnO1xuICAgIH1cbiAgICBjb25zdCBkYXRhRm9yVGFibGUgPSB0aGlzLnNvcnRPYmplY3Qoc3RhdCwga2V5LnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgbGV0IGFycm93O1xuICAgIGlmIChkaXJlY3RPcmRlciAmJiBrZXkubWF0Y2goL1dvcmR8VHJhbnNsYXRpb258Q2F0ZWdvcnkvKSkge1xuICAgICAgYXJyb3cgPSAnJmRhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9Xb3JkfFRyYW5zbGF0aW9ufENhdGVnb3J5LykpIHtcbiAgICAgIGFycm93ID0gJyZ1YXJyOyc7XG4gICAgICB0aGlzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3RPcmRlcikge1xuICAgICAgYXJyb3cgPSAnJmRhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUucmV2ZXJzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyb3cgPSAnJnVhcnI7JztcbiAgICAgIHRoaXMuYnVpbGRpbmdUYWJsZShkYXRhRm9yVGFibGUpO1xuICAgIH1cblxuICAgIGxldCB0aXRsZTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnV29yZCc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6Zmlyc3QtY2hpbGQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdUcmFuc2xhdGlvbic6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDIpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ2F0ZWdvcnknOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgzKScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NsaWNrcyc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDQpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ29ycmVjdCc6XG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGg6bnRoLWNoaWxkKDUpJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnV3JvbmcnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCg2KScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BlcmNlbnQnOlxuICAgICAgICB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOmxhc3QtY2hpbGQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGl0bGUuaW5uZXJIVE1MID0gYCR7YXJyb3d9ICR7dGl0bGUuaW5uZXJIVE1MfWA7XG4gIH0sXG59O1xuXG5pZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbmdsaXNoLWZvci1raWRzJykpIHtcbiAgc3RhdGlzdGljcy5pbml0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0YXRpc3RpY3M7XG4iLCJpbXBvcnQgc3RhdGlzdGljcyBmcm9tICcuLi9zdGF0aXN0aWNzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGltYWdlLCB3b3JkLCB0cmFuc2xhdGlvbiwgbnVtYmVyKSB7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud29yZCA9IHdvcmQ7XG4gICAgdGhpcy50cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uO1xuICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICAgIHRoaXMuY2FyZCA9IG51bGw7XG4gICAgdGhpcy5jYXJkRnJvbnQgPSBudWxsO1xuICAgIHRoaXMuY2FyZEJhY2sgPSBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmQnKTtcblxuICAgIHRoaXMuY2FyZEZyb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jYXJkRnJvbnQuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19mcm9udCcpO1xuICAgIHRoaXMuY2FyZEZyb250LnNldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInLCBgJHt0aGlzLm51bWJlcn1gKTtcbiAgICB0aGlzLmNhcmRGcm9udC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIGAke3RoaXMud29yZH1gKTtcblxuICAgIGNvbnN0IGNhcmRGcm9udEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEZyb250SW1hZ2UuY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19mcm9udC1pbWFnZScpO1xuICAgIGNvbnN0IGltZ0Zyb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nRnJvbnQuc3JjID0gYC4vJHt0aGlzLmltYWdlfWA7XG4gICAgY2FyZEZyb250SW1hZ2UuYXBwZW5kQ2hpbGQoaW1nRnJvbnQpO1xuXG4gICAgY29uc3QgY2FyZEZyb250TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBjYXJkRnJvbnROYW1lLmNsYXNzTGlzdC5hZGQoJ2NhcmQtd29yZF9fZnJvbnQtbmFtZScpO1xuICAgIGNhcmRGcm9udE5hbWUuaW5uZXJUZXh0ID0gYCR7dGhpcy53b3JkfWA7XG5cbiAgICBjb25zdCBnYW1lTW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsID4gaW5wdXQnKTtcblxuICAgIHRoaXMuY2FyZEZyb250LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3JldmVyc2UtYnV0dG9uJykgJiYgIWdhbWVNb2RlLmNoZWNrZWQpIHtcbiAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy53b3JkLCAnY2xpY2tzJyk7XG4gICAgICAgIHRoaXMudG9Wb2ljZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2FyZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRCdXR0b24uY2xhc3NMaXN0LmFkZCgncmV2ZXJzZS1idXR0b24nKTtcbiAgICBjYXJkQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInLCBgJHt0aGlzLm51bWJlcn1gKTtcbiAgICBjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXZlcnNlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jYXJkRnJvbnQuYXBwZW5kQ2hpbGQoY2FyZEZyb250SW1hZ2UpO1xuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRGcm9udE5hbWUpO1xuICAgIHRoaXMuY2FyZEZyb250LmFwcGVuZENoaWxkKGNhcmRCdXR0b24pO1xuXG4gICAgdGhpcy5jYXJkQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY2FyZEJhY2suY2xhc3NMaXN0LmFkZCgnY2FyZC13b3JkX19iYWNrJyk7XG5cbiAgICBjb25zdCBjYXJkQmFja0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZEJhY2tJbWFnZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2staW1hZ2UnKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYC4vJHt0aGlzLmltYWdlfWA7XG4gICAgY2FyZEJhY2tJbWFnZS5hcHBlbmRDaGlsZChpbWcpO1xuXG4gICAgY29uc3QgY2FyZEJhY2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGNhcmRCYWNrTmFtZS5jbGFzc0xpc3QuYWRkKCdjYXJkLXdvcmRfX2JhY2stbmFtZScpO1xuICAgIGNhcmRCYWNrTmFtZS5pbm5lclRleHQgPSBgJHt0aGlzLnRyYW5zbGF0aW9ufWA7XG5cbiAgICB0aGlzLmNhcmRCYWNrLmFwcGVuZENoaWxkKGNhcmRCYWNrSW1hZ2UpO1xuICAgIHRoaXMuY2FyZEJhY2suYXBwZW5kQ2hpbGQoY2FyZEJhY2tOYW1lKTtcblxuICAgIHRoaXMuY2FyZC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRGcm9udCk7XG4gICAgdGhpcy5jYXJkLmFwcGVuZENoaWxkKHRoaXMuY2FyZEJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FyZDtcbiAgfVxuXG4gIHRvVm9pY2UoKSB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3RoaXMud29yZH0ubXAzYCk7XG4gICAgYXVkaW8ubG9hZCgpO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgfVxuXG4gIHJldmVyc2VDYXJkKCkge1xuICAgIHRoaXMuY2FyZEZyb250LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIHRoaXMuY2FyZEJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZVkoMzYwZGVnKSc7XG4gICAgdGhpcy5jYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhcmRGcm9udC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlWSgwZGVnKSc7XG4gICAgICB0aGlzLmNhcmRCYWNrLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVZKDE4MGRlZyknO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hlciB7XG4gIHN0YXRpYyByZW5kZXIoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGA8ZGl2IGNsYXNzPVwic3dpdGNoLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRyYWluLW1vZGUgYWN0aXZlLW1vZGVcIj5UcmFpbjwvZGl2PlxuICAgICAgPGxhYmVsIGNsYXNzPVwic3dpdGNoXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzbGlkZXIgcm91bmRcIj48L3NwYW4+XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzcz1cImdhbWUtbW9kZVwiPlBsYXk8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0aXN0aWNzJztcbmltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcblxuY29uc3QgcGxheUdhbWUgPSB7XG4gIHN0YXJ0R2FtZUJ1dHRvbjogbnVsbCxcbiAgYm94U3RhcnM6IG51bGwsXG4gIGN1cnJlbnRXb3JkczogW10sXG4gIGNvcnJlY3RBbnN3ZXI6IG51bGwsXG4gIHdyb25nQW5zd2VyOiBudWxsLFxuICBzb3VuZFdpbjogbnVsbCxcbiAgc291bmRMb3NlOiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGN1cnJlbnRXb3JkOiBudWxsLFxuICBtaXN0YWtlczogMCxcbiAgd29yZHNVc2VkOiBbXSxcblxuICBpbml0KCkge1xuICAgIHRoaXMucmVwZWF0ID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50V29yZHMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRXb3JkID0gbnVsbDtcbiAgICB0aGlzLndvcmRzVXNlZCA9IFtdO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tcGxheScpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9ICdTdGFydCBnYW1lJztcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICB0aGlzLmJveFN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5ib3hTdGFycy5jbGFzc0xpc3QuYWRkKCdib3gtc3RhcnMnKTtcblxuICAgIHRoaXMuY29ycmVjdEFuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2NvcnJlY3QubXAzJyk7XG4gICAgdGhpcy53cm9uZ0Fuc3dlciA9IG5ldyBBdWRpbygnLi9hc3NldHMvc291bmRzL2Vycm9yLm1wMycpO1xuICAgIHRoaXMuc291bmRXaW4gPSBuZXcgQXVkaW8oJy4vYXNzZXRzL3NvdW5kcy9zdWNjZXNzLm1wMycpO1xuICAgIHRoaXMuc291bmRMb3NlID0gbmV3IEF1ZGlvKCcuL2Fzc2V0cy9zb3VuZHMvZmFpbHVyZS5tcDMnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5hcHBlbmRDaGlsZCh0aGlzLnN0YXJ0R2FtZUJ1dHRvbik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lciAud3JhcHBlcicpLmFwcGVuZENoaWxkKHRoaXMuYm94U3RhcnMpO1xuXG4gICAgdGhpcy5zdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50V29yZC5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZXBlYXQnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGF5ID4gc3BhbicpLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLnJlcGVhdCA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBsYXkoKSB7XG4gICAgY29uc3QgY3VycmVudENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd29yZF9fZnJvbnQnKTtcbiAgICBjdXJyZW50Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50V29yZHMucHVzaChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFdvcmRzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICBsZXQgY3VycmVudFdvcmQgPSAwO1xuXG4gICAgY29uc3QgcGxheVdvcmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkID0gbmV3IEF1ZGlvKGAuL2Fzc2V0cy9zb3VuZHMvJHt0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF19Lm1wM2ApO1xuICAgICAgdGhpcy5jdXJyZW50V29yZC5sb2FkKCk7XG4gICAgICB0aGlzLmN1cnJlbnRXb3JkLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgcGxheVdvcmQoKTtcblxuICAgIGN1cnJlbnRDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpID09PSB0aGlzLmN1cnJlbnRXb3Jkc1tjdXJyZW50V29yZF0pIHtcbiAgICAgICAgICB0aGlzLndvcmRzVXNlZC5wdXNoKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSk7XG4gICAgICAgICAgc3RhdGlzdGljcy5jb3VudGluZ1N0YXRpc3RpY3ModGhpcy5jdXJyZW50V29yZHNbY3VycmVudFdvcmRdLCAnY29ycmVjdCcpO1xuICAgICAgICAgIHRoaXMuY29ycmVjdEFuc3dlci5wbGF5KCk7XG4gICAgICAgICAgY2FyZC5zdHlsZS5maWx0ZXIgPSAnYmx1cig1cHgpJztcblxuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXItd2luLnN2Zyc7XG4gICAgICAgICAgdGhpcy5ib3hTdGFycy5hcHBlbmRDaGlsZCh3aW5TdGFycyk7XG5cbiAgICAgICAgICBjdXJyZW50V29yZCArPSAxO1xuICAgICAgICAgIGlmIChjdXJyZW50V29yZCA8IDgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGxheVdvcmQsIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmZpbmlzaEdhbWUoKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy53b3Jkc1VzZWQuaW5jbHVkZXMoY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpKSkge1xuICAgICAgICAgIHN0YXRpc3RpY3MuY291bnRpbmdTdGF0aXN0aWNzKHRoaXMuY3VycmVudFdvcmRzW2N1cnJlbnRXb3JkXSwgJ3dyb25nJyk7XG4gICAgICAgICAgdGhpcy5taXN0YWtlcyArPSAxO1xuICAgICAgICAgIGNvbnN0IHdpblN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgd2luU3RhcnMuc3JjID0gJy4vYXNzZXRzL2ljb25zL3N0YXIuc3ZnJztcbiAgICAgICAgICB0aGlzLmJveFN0YXJzLmFwcGVuZENoaWxkKHdpblN0YXJzKTtcblxuICAgICAgICAgIHRoaXMud3JvbmdBbnN3ZXIucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBmaW5pc2hHYW1lKCkge1xuICAgIGdhbWVGaWVsZC5yZW1vdmVDb250ZW50KCk7XG5cbiAgICBsZXQgc3BhbjtcbiAgICBsZXQgc3JjO1xuICAgIGlmICh0aGlzLm1pc3Rha2VzID09PSAwKSB7XG4gICAgICBzcGFuID0gJ0NvbmdyYXR1bGF0aW9ucyEgWW91IHdpbiEnO1xuICAgICAgc3JjID0gJy4vYXNzZXRzL2ljb25zL3N1Y2Nlc3Muc3ZnJztcbiAgICAgIHRoaXMuc291bmRXaW4ucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFuID0gYFlvdSBsb3N0KDogVHJhaW4gYW5kIHRyeSBhZ2FpbiE8L2JyPlxuICAgICAgICBZb3UgbWFkZSAke3RoaXMubWlzdGFrZXN9IG1pc3Rha2UocykuYDtcbiAgICAgIHNyYyA9ICcuL2Fzc2V0cy9pY29ucy9mYWlsdXJlLnN2Zyc7XG4gICAgICB0aGlzLnNvdW5kTG9zZS5wbGF5KCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICBjb25zdCBmaW5pc2hTY3JlZW4gPSBgPHNwYW4gY2xhc3M9XCJ3aW4tdGl0bGVcIj4ke3NwYW59PC9zcGFuPlxuICAgIDxkaXYgY2xhc3M9XCJ3aW4taW1hZ2VcIj48aW1nIHNyYz1cIiR7c3JjfVwiPjwvZGl2PmA7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCArPSBmaW5pc2hTY3JlZW47XG5cbiAgICBjb25zdCBidXR0b25zRmluaXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0ZpbmlzaC5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWZpbmlzaCcpO1xuICAgIGNvbnN0IG5ld0dhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdHYW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25ldy1nYW1lJyk7XG4gICAgbmV3R2FtZUJ1dHRvbi5pbm5lclRleHQgPSAnTmV3IGdhbWUnO1xuICAgIGNvbnN0IG1haW5NZW51QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbWFpbk1lbnVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFpbi1tZW51Jyk7XG4gICAgbWFpbk1lbnVCdXR0b24uaW5uZXJUZXh0ID0gJ01haW4gbWVudSc7XG4gICAgYnV0dG9uc0ZpbmlzaC5hcHBlbmRDaGlsZChuZXdHYW1lQnV0dG9uKTtcbiAgICBidXR0b25zRmluaXNoLmFwcGVuZENoaWxkKG1haW5NZW51QnV0dG9uKTtcblxuICAgIG5ld0dhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBnYW1lRmllbGQuc2V0Q29udGVudENhcmRzKGdhbWVGaWVsZC5hY3RpdmVDYXJkKTtcbiAgICB9KTtcblxuICAgIG1haW5NZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24taXRlbS5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW06Zmlyc3QtY2hpbGQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zRmluaXNoKTtcbiAgICB0aGlzLm1pc3Rha2VzID0gMDtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXlHYW1lO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmltcG9ydCBUaXRsZUNhcmQgZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlLWNhcmQnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9jb21wb25lbnRzL2NhcmQnO1xuaW1wb3J0IFN3aXRjaGVyIGZyb20gJy4vY29tcG9uZW50cy9zd2l0Y2gnO1xuaW1wb3J0IHBsYXlHYW1lIGZyb20gJy4vcGxheS1nYW1lJztcblxuY29uc3QgZ2FtZUZpZWxkID0ge1xuICBhY3RpdmVDYXJkOiBudWxsLFxuICB0aXRsZToge1xuICAgIDA6ICdBY3Rpb24gKHNldCBBKScsXG4gICAgMTogJ0FjdGlvbiAoc2V0IEIpJyxcbiAgICAyOiAnQWN0aW9uIChzZXQgQyknLFxuICAgIDM6ICdBZGplY3RpdmUnLFxuICAgIDQ6ICdBbmltYWwgKHNldCBBKScsXG4gICAgNTogJ0FuaW1hbCAoc2V0IEIpJyxcbiAgICA2OiAnQ2xvdGhlcycsXG4gICAgNzogJ0Vtb3Rpb24nLFxuICB9LFxuXG4gIGltYWdlczoge1xuICAgIDA6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hY3Rpb25BLmpwZycsXG4gICAgMTogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2FjdGlvbkIuanBnJyxcbiAgICAyOiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYWN0aW9uQy5qcGcnLFxuICAgIDM6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hZGplY3RpdmUuanBnJyxcbiAgICA0OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvYW5pbWFsQS5qcGcnLFxuICAgIDU6ICcuL2Fzc2V0cy9pbWFnZXMvY2F0ZWdvcmllcy9hbmltYWxCLmpwZycsXG4gICAgNjogJy4vYXNzZXRzL2ltYWdlcy9jYXRlZ29yaWVzL2Nsb3RoZXMuanBnJyxcbiAgICA3OiAnLi9hc3NldHMvaW1hZ2VzL2NhdGVnb3JpZXMvZW1vdGlvbi5qcGcnLFxuICB9LFxuXG4gIHNldFRpdGxlQ2FyZHMoKSB7XG4gICAgdGhpcy5yZW1vdmVDb250ZW50KCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3dyYXBwZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZHMnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IFRpdGxlQ2FyZCh0aGlzLmltYWdlc1tpXSwgdGhpcy50aXRsZVtpXSwgaSk7XG4gICAgICBjYXJkc0NvbnRhaW5lci5pbm5lckhUTUwgKz0gY2FyZC5yZW5kZXIoKTtcbiAgICB9XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmRzQ29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZUNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYXJkID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJyk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudENhcmRzKHRoaXMuYWN0aXZlQ2FyZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzZXRDb250ZW50Q2FyZHMoYWN0aXZlQ2FyZCkge1xuICAgIHRoaXMucmVtb3ZlQ29udGVudCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCArPSBTd2l0Y2hlci5yZW5kZXIoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZHMnKTtcblxuICAgIGZldGNoKCcuL2Fzc2V0cy9qc29uL2NhcmRzLmpzb24nKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdFthY3RpdmVDYXJkXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGFbaV0uaW1hZ2UsIGRhdGFbaV0ud29yZCwgZGF0YVtpXS50cmFuc2xhdGlvbiwgaSk7XG4gICAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZC5yZW5kZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmRzQ29udGFpbmVyKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd29yZCcpO1xuICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXlHYW1lLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9ICcyODBweCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXBsYXknKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXIgLndyYXBwZXInKS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm94LXN0YXJzJykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbW92ZUNvbnRlbnQoKSB7XG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gICAgd2hpbGUgKGN1cnJlbnRDb250ZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIGN1cnJlbnRDb250ZW50LnJlbW92ZUNoaWxkKGN1cnJlbnRDb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSxcbn07XG5cbmdhbWVGaWVsZC5zZXRUaXRsZUNhcmRzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVGaWVsZDtcbiIsImNvbnN0IGJ1cmdlckljb24gPSB7XG4gIGJ1cmdlckJveDogbnVsbCxcbiAgYnV0dG9uT2ZmOiB0cnVlLFxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5idXJnZXJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmJ1cmdlckJveC5jbGFzc05hbWUgPSAnYnVyZ2VyLW1lbnVfX2J1dHRvbic7XG5cbiAgICBjb25zdCBmaXJzdExJbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaXJzdExJbmUuY2xhc3NOYW1lID0gJ2ZpcnN0LWxpbmUnO1xuICAgIGNvbnN0IHNlY29uZExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZWNvbmRMaW5lLmNsYXNzTmFtZSA9ICdzZWNvbmQtbGluZSc7XG4gICAgY29uc3QgdGhpcmRMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcmRMaW5lLmNsYXNzTmFtZSA9ICd0aGlyZC1saW5lJztcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFwcGVuZENoaWxkKGZpcnN0TEluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQoc2Vjb25kTGluZSk7XG4gICAgdGhpcy5idXJnZXJCb3guYXBwZW5kQ2hpbGQodGhpcmRMaW5lKTtcblxuICAgIHRoaXMuYnVyZ2VyQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYnV0dG9uT2ZmKSB7XG4gICAgICAgIGZpcnN0TEluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgxM3B4KSByb3RhdGUoNDVkZWcpJztcbiAgICAgICAgc2Vjb25kTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtNDBweCknO1xuICAgICAgICB0aGlyZExpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTEzcHgpIHJvdGF0ZSgtNDVkZWcpJztcblxuICAgICAgICAvLyBtb3ZlbWVudCBidXJnZXItbWVudVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuYnV0dG9uT2ZmID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdExJbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCkgcm90YXRlKDApJztcbiAgICAgICAgc2Vjb25kTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIHRoaXJkTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSByb3RhdGUoMCknO1xuXG4gICAgICAgIC8vIG1vdmVtZW50IGJ1cmdlci1tZW51XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0zMjBweCknO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1kaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLmJ1dHRvbk9mZiA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC53cmFwcGVyJykucHJlcGVuZCh0aGlzLmJ1cmdlckJveCk7XG4gIH0sXG59O1xuXG5idXJnZXJJY29uLmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgYnVyZ2VySWNvbjtcbiIsImltcG9ydCBnYW1lRmllbGQgZnJvbSAnLi9nYW1lLWZpZWxkJztcbmltcG9ydCBidXJnZXJJY29uIGZyb20gJy4vY29tcG9uZW50cy9idXJnZXItaWNvbic7XG5pbXBvcnQgc3RhdGlzdGljcyBmcm9tICcuL3N0YXRpc3RpY3MnO1xuXG5jb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uLWl0ZW0nKTtcbmxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBidXJnZXJJY29uLmJ1cmdlckJveC5jbGljaygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLWl0ZW0uYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIGlmIChsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1iZXInKSA9PT0gJ21haW4nKSB7XG4gICAgICBnYW1lRmllbGQuc2V0VGl0bGVDYXJkcygpO1xuICAgIH0gZWxzZSBpZiAobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtYmVyJykgPT09ICdzdGF0aXN0aWNzJykge1xuICAgICAgY29uc3Qgc3RhdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VuZ2xpc2gtZm9yLWtpZHMnKSk7XG4gICAgICBjb25zdCBkYXRhRm9yVGFibGUgPSBzdGF0aXN0aWNzLnNvcnRPYmplY3Qoc3RhdCk7XG4gICAgICBzdGF0aXN0aWNzLmJ1aWxkaW5nVGFibGUoZGF0YUZvclRhYmxlKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgxKScpLmlubmVySFRNTCA9ICcmZGFycjsgV29yZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdhbWVGaWVsZC5yZW1vdmVDb250ZW50KCk7XG4gICAgICBnYW1lRmllbGQuc2V0Q29udGVudENhcmRzKGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLW51bWJlcicpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XG50aXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZ2FtZUZpZWxkLnNldFRpdGxlQ2FyZHMoKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi1pdGVtLmFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi1pdGVtOmZpcnN0LWNoaWxkJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59KTtcbiIsImltcG9ydCAnLi9nYW1lLWZpZWxkJztcbmltcG9ydCAnLi9zdGF0aXN0aWNzJztcbmltcG9ydCAnLi9jb21wb25lbnRzL3N3aXRjaCc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9idXJnZXItaWNvbic7XG5pbXBvcnQgJy4vYnVyZ2VyLW1lbnUnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBmZXRjaCgnLi9hc3NldHMvanNvbi9jYXJkcy5qc29uJylcbiAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IHJlc3VsdC5mbGF0KCkubWFwKChpdGVtKSA9PiBpdGVtLmltYWdlKTtcblxuICAgICAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyhhcnIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGltYWdlLnNyYyA9IGAuLyR7YXJyW2ldfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByZWxvYWRJbWFnZXMoaW1hZ2VzKTtcbiAgICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==